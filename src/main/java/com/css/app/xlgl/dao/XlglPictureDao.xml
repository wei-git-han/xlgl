<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.css.app.xlgl.dao.XlglPictureDao">

	<select id="queryObject" resultType="com.css.app.xlgl.entity.XlglPicture">
		select * from XLGL_PICTURE where ID = #{value}
	</select>

	<select id="queryAllInfoByInfoId" resultType="com.css.app.xlgl.entity.XlglPicture">
		select * from XLGL_PICTURE where PICTURE_TYPE ='0'
		<if test="infoId != null and infoId != ''">
			and FILE_ID = #{infoId}
		</if>
		<if test="pictureType != null and pictureType !=''">
			and PICTURE_TYPE = #{pictureType}
		</if>

	</select>

	<select id="queryList" resultType="com.css.app.xlgl.entity.XlglPicture">
		select * from XLGL_PICTURE where 1=1
		<if test="id != null and id !=''">
			and FILE_ID = #{id}
		</if>
		<if test="type != null and type !=''">
			and PICTURE_TYPE = '2'
		</if>
		<if test="pictureId != pictureId and pictureId !=''">
			and PICTURE_ID = #{pictureId}
		</if>
		
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
		order by CREATE_TIME asc
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from XLGL_PICTURE 
	</select>
	 
	<insert id="save" parameterType="com.css.app.xlgl.entity.XlglPicture">
		insert into XLGL_PICTURE
		(
			"ID", 
			"FILE_ID", 
			"PICTURE_ID", 
			"IS_FIRST", 
			"SORT",
			"USER_ID",
			"USER_NAME",
			"CREATE_TIME",
			"PICTURE_TYPE",
			"PICTURE_NAME"

		)
		values
		(
			#{id}, 
			#{fileId}, 
			#{pictureId}, 
			#{isFirst}, 
			#{sort},
			#{userId},
			#{userName},
			#{createTime},
			#{pictureType},
			#{pictureName}
		)
	</insert>
	 
	<update id="update" parameterType="com.css.app.xlgl.entity.XlglPicture">
		update XLGL_PICTURE 
		<set>
			<if test="fileId != null">"FILE_ID" = #{fileId}, </if>
			<if test="pictureId != null">"PICTURE_ID" = #{pictureId}, </if>
			<if test="isFirst != null">"IS_FIRST" = #{isFirst}, </if>
			<if test="sort != null">"SORT" = #{sort},</if>
			<if test="userId != null">"USER_ID" = #{userId},</if>
			<if test="userName != null">"USER_NAME" = #{userName},</if>
			<if test="createTime != null">"CREATE_TIME" = #{createTime},</if>
			<if test="pictureType != null">"PICTURE_TYPE" = #{pictureType}</if>
			<if test="pictureName != null">"PICTURE_NAME" = #{pictureName}</if>
		</set>
		where ID = #{id}
	</update>
	
	<delete id="delete">
		delete from XLGL_PICTURE where ID = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from XLGL_PICTURE where ID in 
		<foreach item="id" collection="array" open="(" separator="," close=")">
			#{id}
		</foreach>
	</delete>
	
	<delete id="deleteByPictureId">
		delete from XLGL_PICTURE where PICTURE_ID = #{value}
	</delete>

</mapper>