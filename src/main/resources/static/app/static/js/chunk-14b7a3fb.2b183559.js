(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14b7a3fb"],{"91d1":function(t,e,a){"use strict";var i=a("b7a9"),s=a.n(i);s.a},"9ef8":function(t,e,a){"use strict";a.d(e,"b",function(){return s}),a.d(e,"a",function(){return l});var i=a("b775");function s(t){return Object(i["a"])({url:"/app/xlgl/adminset/list",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/app/xlgl/adminset/list",method:"post",data:t})}},b7a9:function(t,e,a){},feea:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"div1"},[a("iframe",{attrs:{src:t.onlineFileUrl,frameborder:"0",width:"100%",height:"100%"}})])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"div1"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.openDialog}},[t._v("上传")])],1),t._v(" "),a("div",{staticClass:"div2"},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[a("el-table",{key:t.tableKey,ref:"filetable",attrs:{data:t.fileList,border:"",fit:"","highlight-current-row":""},on:{"row-click":t.handleCurrent}},[a("el-table-column",{attrs:{label:"文件名",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上传时间",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.examineSubjectName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上传人",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.updateDate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleModifyStatus(i,"delete")}}},[t._v("删除")])]}}])})],1)],1)],1)])])],1),t._v(" "),a("el-dialog",{attrs:{title:"上传附件",visible:t.fileDialog,width:"40%","before-close":t.closeFileDialog},on:{"update:visible":function(e){t.fileDialog=e}}},[a("div",{staticClass:"centerPosition"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"","auto-upload":!1,"with-credentials":!0,action:t.fileUploadUrl,data:t.fileData,"on-success":t.successFile,"on-error":t.errorFile}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("支持上传excel等格式")])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitFile}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:t.closeFileDialog}},[t._v("取 消")])],1)])],1)},s=[],l=a("9ef8"),n={name:"DetailFiles",props:{fileList:{type:Array,default:function(){return[]}}},data:function(){return{tableKey:0,fileDialog:!1,fileData:{access_token:this.$store.state.user.token},fileUploadUrl:"/app/xlgl/xlglcarsmanager/save",onlineFileUrl:"/app/pdf.js/web/viewer.html"}},mounted:function(){this.$refs.filetable.setCurrentRow(this.fileList[0])},methods:{handleCurrent:function(t){this.$refs.filetable.setCurrentRow(t)},handleModifyStatus:function(t,e){var a=this;Object(l["a"])({ids:t.id}).then(function(t){0===t.data.code?a.$message({type:"success",message:"删除成功!",onClose:function(){a.getTestList()}}):a.$message({type:"info",message:t.data.msg})})},openDialog:function(){this.fileDialog=!0},closeFileDialog:function(){this.$refs.upload.clearFiles(),this.fileDialog=!1},submitFile:function(){this.$refs.upload.submit()},successFile:function(t){var e=this;this.$message({type:"success",message:"上传成功!",onClose:function(){e.$parent.getCarFileList(),e.closeFileDialog()}})},errorFile:function(){this.$message({type:"info",message:"上传失败!"})}}},o=n,r=(a("91d1"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"02fd60ae",null);e["default"]=c.exports}}]);