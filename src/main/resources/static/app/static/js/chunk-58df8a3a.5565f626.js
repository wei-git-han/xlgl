(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58df8a3a"],{"74a6":function(t,i,s){"use strict";var e=s("87dd"),a=s.n(e);a.a},"87dd":function(t,i,s){},e2f5:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"app-content"},[s("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),"0"===t.show||"1"===t.show||"3"===t.show?s("el-button",{staticClass:"createBtn noBorder",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:t.openCreateNotice}},[t._v("新增")]):t._e(),t._v(" "),s("el-row",[s("el-col",{staticClass:"elColSty",attrs:{span:24}},[s("el-scrollbar",{staticClass:"hidden-x"},[s("el-row",{attrs:{gutter:20}},t._l(t.list,function(i,e){return s("el-col",{key:e,attrs:{span:6}},[s("el-card",{staticClass:"margin-card",staticStyle:{"max-height":"330px",height:"330px"},attrs:{"body-style":{padding:"0px"}}},[s("el-button",{staticClass:"inform",class:{notice:"公告"===i.type},attrs:{type:"success",size:"mini"}},[t._v(t._s(i.type))]),t._v(" "),s("div",{staticClass:"cardContent gapSty"},[s("div",{staticClass:"title",on:{click:function(s){return s.stopPropagation(),t.openDetail(i.id)}}},[s("span",{attrs:{title:i.title}},[t._v(t._s(i.title.length>10?i.title.substr(0,10)+"...":i.title))]),t._v(" "),1===i.isTop?s("span",{class:{istop:i.isTop}},[t._v(t._s(t._f("isTopFilter")(i.isTop)))]):t._e()]),t._v(" "),s("div",{staticClass:"gapSty color2"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"time"}}),t._v(" "),s("span",{staticClass:"gapLeft"},[t._v(" "+t._s(i.releaseTime))])],1),t._v(" "),s("div",{staticClass:"gapSty gapSty1",staticStyle:{height:"50px",margin:"0",padding:"0",overflow:"hidden"},domProps:{innerHTML:t._s(i.content)}}),t._v(" "),s("div",{staticClass:"gapSty height1 color2"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"noticepeople"}}),t._v("\n                    发布人：\n                    "),s("span",{staticClass:"gapLeft"},[t._v(t._s(i.creator))])],1),t._v(" "),s("div",{staticClass:"gapSty height1 color2"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"noticepeople"}}),t._v(" "),s("span",{staticClass:"gapLeft"},[t._v(t._s(i.releaseOrgan))])],1),t._v(" "),s("div",{staticClass:"gapSty height1"},[s("span",{staticClass:"color1"},[t._v("浏览 "+t._s(i.viewNumber))]),t._v(" "),"0"===t.show||"1"===t.show||"3"===t.show?s("span",{staticClass:"btSty",on:{click:function(s){return t.deleteById(i.id)}}},[t._v("删除")]):t._e(),t._v(" "),"0"===t.show||"1"===t.show||"3"===t.show?s("span",{staticClass:"btSty",on:{click:function(s){return s.stopPropagation(),t.upDateDetail(i.id)}}},[t._v("编辑")]):t._e(),t._v(" "),"0"===t.show||"1"===t.show||"3"===t.show?s("span",{staticClass:"btSty",on:{click:function(s){return t.setNoticeTop(i.id,i.isTop)}}},[t._v(t._s(t._f("isTopFilter1")(1===i.isTop?0:1)))]):t._e()])])],1)],1)}),1)],1)],1)],1),t._v(" "),s("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(i){return t.$set(t.listQuery,"page",i)},"update:limit":function(i){return t.$set(t.listQuery,"limit",i)},pagination:t.getNoticeList}})],1)])},a=[],n=s("35b7"),o=s("333d"),c=s("13c4"),l={name:"InformNoticeList",filters:{isTopFilter:function(t){return 1===t?"置顶":""},isTopFilter1:function(t){return 1===t?"置顶":"取消置顶"},limitText:function(t){return t.length>40?t.substring(0,40)+"...":t}},components:{TitleCard:n["a"],Pagination:o["a"]},data:function(){return{cardTitle:"通知公告",show:this.$store.state.user.userInfo.adminFlag,tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,type:""}}},created:function(){this.getNoticeList()},methods:{getNoticeList:function(){var t=this;this.listLoading=!0,Object(c["g"])(this.listQuery).then(function(i){t.list=i.data.page.list,t.total=i.data.page.totalCount,setTimeout(function(){t.listLoading=!1},200)})},openCreateNotice:function(){this.$emit("openCreateNotice","2")},openDetail:function(t){this.$emit("openCreateNotice","3",t)},upDateDetail:function(t){this.$emit("openCreateNotice","4",t)},deleteById:function(t){var i=this,s={ids:t};this.$confirm("此条数据将进行永久删除操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(c["a"])(s).then(function(t){0===t.data.code?i.$notify({title:"提示",message:"删除成功",duration:1500,type:"success",onClose:function(){i.getNoticeList()}}):i.$notify({title:"提示",message:t.data.msg,duration:1500,type:"warning"})})}).catch(function(){i.$notify({title:"提示",message:"已取消",duration:1500,type:"warning"})})},setNoticeTop:function(t,i){var s=this,e="取消置顶",a=0;0===i&&(e="置顶",a=1);var n={id:t,istop:a};Object(c["j"])(n).then(function(t){0===t.data.code?s.$notify({title:"提示",message:e+"成功！",duration:1500,type:"success",onClose:function(){s.getNoticeList()}}):s.$notify({title:"提示",message:t.data.msg,duration:1500,type:"warning"})})}}},r=l,p=(s("74a6"),s("2877")),u=Object(p["a"])(r,e,a,!1,null,"31597511",null);i["default"]=u.exports}}]);