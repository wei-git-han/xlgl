(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11b68bf8","chunk-b6d89c7a","chunk-1c7b3f4a","chunk-d3e5d5ea","chunk-1d522ef9","chunk-7bed54ae","chunk-b0fa529a","chunk-79aaface","chunk-6070366b","chunk-7041b250","chunk-68fcf170"],{"049e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"createTest"},[i("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-top":"-30px","margin-right":"20px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("div",{staticClass:"pageContent"},[i("el-form",{ref:"form",staticClass:"oraganForm",attrs:{model:t.listQuery,rules:t.rules,"label-width":"150px",inline:!0}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"考试时间：",required:""}},[i("el-col",{attrs:{span:11}},[i("el-form-item",{attrs:{prop:"examineStartDateStr"}},[i("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionStart,placeholder:"选择开始时间"},on:{change:t.getsTime1},model:{value:t.listQuery.examineStartDateStr,callback:function(e){t.$set(t.listQuery,"examineStartDateStr",e)},expression:"listQuery.examineStartDateStr"}})],1)],1),t._v(" "),i("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("至")]),t._v(" "),i("el-col",{attrs:{span:11}},[i("el-form-item",{attrs:{prop:"examineEndDateStr"}},[i("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionEnd,placeholder:"选择结束时间"},on:{change:t.getsTime2},model:{value:t.listQuery.examineEndDateStr,callback:function(e){t.$set(t.listQuery,"examineEndDateStr",e)},expression:"listQuery.examineEndDateStr"}})],1)],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{float:"right","margin-right":"100px"}},[i("span",[t._v("合计：")]),t._v(" "),i("span",{staticClass:"size1"},[t._v(t._s(t.typesList.totalGradeNum))]),t._v("分\n          "),i("span",{staticClass:"size1"},[t._v(t._s(t.typesList.totalTestNum))]),t._v("题\n        ")])])],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"50px"}},[i("el-col",{attrs:{span:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{float:"left"}},[t._v("题型设置")])]),t._v(" "),i("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.typesList.typeList,function(e,a){return i("el-row",{key:a,attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"题型：",prop:"type"}},[i("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(a)},clear:function(e){return t.cancelSelect(a)}},model:{value:e.type1,callback:function(i){t.$set(e,"type1",i)},expression:"obj.type1"}},t._l(t.typesList.typeList,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:" "}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(i){t.$set(e,"testNum",i)},expression:"obj.testNum"}},[i("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:" "}},[i("el-col",{attrs:{span:24}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(i){t.$set(e,"testPrice",i)},expression:"obj.testPrice"}},[i("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1)],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"text-align":"center",margin:"40px 0px 20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.repeatTestSave}},[t._v("发起补考")])],1)],1)],1)},s=[],n=i("35b7"),l=i("6237"),r={name:"RepeatTestSet",components:{TitleCard:n["a"]},filters:{typeFilter:function(t){return"1"===t?"单选题":"2"===t?"多选题":"3"===t?"判断题":"4"===t?"填空题":"5"===t?"简答题":void 0}},props:{testId:{type:String,default:""},testName:{type:String,default:""},testTime:{type:String,default:""}},data:function(){var t=this;return{cardTitle:this.testName+"("+this.testTime+")",updateInfo:[],listQuery:{examineName:"",examineDate:"",examineStartDateStr:"",examineEndDateStr:"",examineAllNumber:0,examineSubjectId:"",examineSubjectName:"测试科目",IssueStatus:"0",typeAndNum:"",status:0},typesList:{typeList:[{type:"1",name:"单选题"},{type:"2",name:"多选题"},{type:"3",name:"判断题"},{type:"4",name:"填空题"}],totalGradeNum:0,totalTestNum:0},pickOptionStart:{disabledDate:function(e){var i=t.listQuery.examineEndDateStr;if(i)return e.getTime()>new Date(i).getTime()}},pickOptionEnd:{disabledDate:function(e){var i=t.listQuery.examineStartDateStr;if(i)return e.getTime()<new Date(i).getTime()}}}},watch:{typesList:{handler:function(t,e){var i=0,a=0;for(var s in this.typesList.typeList){var n=this.typesList.typeList[s];i+=this.StringToNumber(n.testNum)*this.StringToNumber(n.testPrice),a+=this.StringToNumber(n.testNum)}this.$set(this.typesList,"totalGradeNum",i),this.$set(this.typesList,"totalTestNum",a)},deep:!0}},methods:{getsTime1:function(t){this.listQuery.examineStartDateStr=t},getsTime2:function(t){this.listQuery.examineEndDateStr=t},repeatTestSave:function(){var t=this,e=[];for(var i in this.typesList.typeList){var a=this.typesList.typeList[i];a.type1&&e.push(a.type1+"-"+this.StringToNumber(a.testNum)+"-"+this.StringToNumber(a.testPrice))}var s={examineId:this.testId,makeUpEndDateStr:this.listQuery.examineStartDateStr,makeUpStartDateStr:this.listQuery.examineEndDateStr,typeAndNum:e.join(",")};Object(l["g"])(s).then(function(e){0===e.data.code?t.$emit("showPage","1"):t.$message({type:"info",message:e.data.msg,onClose:function(){this.$emit("showPage","1")}})})},goBack:function(){this.$emit("showPage","1")},selectType:function(t){this.$set(this.typesList.typeList[t],"disabled",!0)},cancelSelect:function(t){for(var e in this.typesList.typeList)this.$set(this.typesList.typeList[t],"disabled",!1)},StringToNumber:function(t){return t?parseInt(t):0}}},o=r,c=(i("5e14"),i("2877")),u=Object(c["a"])(o,a,s,!1,null,"dd2028a8",null);e["default"]=u.exports},"09ee":function(t,e,i){"use strict";var a=i("1b5c"),s=i.n(a);s.a},"164b":function(t,e,i){},"1aab":function(t,e,i){"use strict";var a=i("641f"),s=i.n(a);s.a},"1b5c":function(t,e,i){},"23a4":function(t,e,i){"use strict";var a=i("bd6f"),s=i.n(a);s.a},"374b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{xl:24}},[i("el-card",{staticClass:"margin-card",staticStyle:{margin:"0"},attrs:{"body-style":{padding:"0px 10px"}}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("el-row",[i("el-col",{attrs:{xl:7,md:7}},[i("span",[t._v("进行中考试：")]),t._v(" "),i("span",{staticClass:"intoSty"},[t._v(t._s(t.conutInto.into))]),t._v(" "),i("span",[t._v("已完成考试：")]),t._v(" "),i("span",{staticClass:"intoNotSty"},[t._v(t._s(t.conutInto.intoNot))])]),t._v(" "),i("el-col",{attrs:{xl:17,md:17}},[i("span",{staticClass:"demonstration",staticStyle:{"margin-left":"80px"}},[t._v("发起时间")]),t._v(" "),i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间",align:"right"},on:{change:t.getsTime},model:{value:t.listQuery.time,callback:function(e){t.$set(t.listQuery,"time",e)},expression:"listQuery.time"}}),t._v(" "),i("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入考试名称"},model:{value:t.listQuery.examineName,callback:function(e){t.$set(t.listQuery,"examineName",e)},expression:"listQuery.examineName"}}),t._v(" "),i("el-button",{staticStyle:{"margin-left":"50px"},attrs:{size:"mini",type:"primary"},on:{click:t.getTrainList}},[t._v("查询")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"50px"},attrs:{size:"mini",type:"success"},on:{click:t.testPractice}},[t._v("自主考试练习")])],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"20px"}},[i("el-col",{staticStyle:{height:"calc(100vh - 225px)",overflow:"hidden"},attrs:{xl:24}},[i("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:"",stripe:""},on:{"row-click":t.openTestPaper}},[i("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{label:"考试名称",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.examineName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"考试科目",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.examineSubjectName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"考试截止时间",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.examineEndDate))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"当前状态",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return["0"===a.overStatus?i("span",{staticClass:"color color1"},[t._v(t._s(t._f("overStatusFilter")(a.overStatus)))]):t._e(),t._v(" "),"1"===a.overStatus?i("span",{staticClass:"color color2"},[t._v(t._s(t._f("overStatusFilter")(a.overStatus)))]):t._e(),t._v(" "),"2"===a.overStatus?i("span",{staticClass:"color color3"},[t._v(t._s(t._f("overStatusFilter")(a.overStatus)))]):t._e(),t._v(" "),"99"===a.overStatus?i("span",{staticClass:"color color4"},[t._v(t._s(t._f("overStatusFilter")(a.overStatus)))]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"参考率",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.ratio))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"已参加人数",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.numberInto))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"需要补考人数",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.numberIntoNot))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"完成状态",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return["1"===a.userStatus?i("span",{staticClass:"color7"},[t._v(t._s(t._f("userStatusFilter")(a.userStatus)))]):t._e(),t._v(" "),"2"===a.userStatus?i("span",{staticClass:"color6"},[t._v(t._s(t._f("userStatusFilter")(a.userStatus)))]):t._e(),t._v(" "),"3"===a.userStatus?i("span",{staticClass:"color5"},[t._v(t._s(t._f("userStatusFilter")(a.userStatus)))]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"发布时间",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.issueDate))])]}}])})],1)],1)],1)],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getTrainList}})],1)],1)],1)],1)},s=[],n=i("6237"),l=i("333d"),r={name:"ComplexTable",components:{Pagination:l["a"]},filters:{overStatusFilter:function(t){return"0"===t?"进行中":"1"===t?"已完结":"2"===t?"补考中":"99"===t?"未开始":void 0},userStatusFilter:function(t){return"1"===t?"已完成":"2"===t?"未考试":"3"===t?"已补考":void 0}},data:function(){return{conutInto:{into:0,intoNot:0},showGradeResult:!1,tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,issueDate:"",examineName:""}}},created:function(){this.getConutInto(),this.getTrainList()},methods:{getsTime:function(t){this.listQuery.time=t},getConutInto:function(){var t=this;Object(n["a"])().then(function(e){t.conutInto=e.data})},getTrainList:function(){var t=this;this.listLoading=!0,Object(n["f"])(this.listQuery).then(function(e){t.list=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},200)})},openTestPaper:function(t,e,i){var a=this;"99"===t.overStatus?this.$message({type:"info",message:"还未到考试时间，请等待！"}):"0"===t.overStatus?"2"===t.userStatus?this.$confirm("是否确定要开始考试，考试后不可中途离开此页面，否则将强制交卷。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$emit("showTestPaper","2",t)}).catch(function(){a.$message({type:"info",message:"已取消"})}):this.$emit("showTestPaper","5",t):"1"===t.overStatus?this.$emit("showTestPaper","5",t):"2"===t.overStatus&&("2"===t.userStatus?this.$confirm("是否确定要开始考试，考试后不可中途离开此页面，否则将强制交卷。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$emit("showTestPaper","2",t)}).catch(function(){a.$message({type:"info",message:"已取消"})}):this.$emit("showTestPaper","5",t))},testPractice:function(){this.$emit("showTestPaper","7")}}},o=r,c=(i("5017"),i("2877")),u=Object(c["a"])(o,a,s,!1,null,"baf7a8f8",null);e["default"]=u.exports},4170:function(t,e,i){},"426b":function(t,e,i){"use strict";var a=i("9a70"),s=i.n(a);s.a},5017:function(t,e,i){"use strict";var a=i("63d8"),s=i.n(a);s.a},"5e14":function(t,e,i){"use strict";var a=i("c02e"),s=i.n(a);s.a},6237:function(t,e,i){"use strict";i.d(e,"f",function(){return s}),i.d(e,"b",function(){return n}),i.d(e,"h",function(){return l}),i.d(e,"a",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"c",function(){return c}),i.d(e,"e",function(){return u}),i.d(e,"g",function(){return p}),i.d(e,"j",function(){return m}),i.d(e,"i",function(){return d});var a=i("b775");function s(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/list",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/view/examine",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/app/xlgl/xlglexamanswer/saveBatch",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/conutInto",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/app/xlgl/xlglexammainanswer/list",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/examineTotal",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/topicTypeCount",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexaminemakeup/save",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/saveOrUpdate",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/app/xlgl/xlglexamanswer/saveBatchLIANXI",method:"post",data:t})}},"63ab":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"createTest"},[i("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-top":"-30px","margin-right":"20px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("div",{staticClass:"pageContent"},[i("el-col",{attrs:{span:10}},[i("el-form",{ref:"form",staticClass:"oraganForm",attrs:{model:t.listQuery,rules:t.rules,"label-width":"150px",inline:!0}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"考试科目选择：",prop:"examineSubjectId"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listQuery.examineSubjectId,callback:function(e){t.$set(t.listQuery,"examineSubjectId",e)},expression:"listQuery.examineSubjectId"}},t._l(t.subjectListAll,function(t){return i("el-option",{key:t.id,attrs:{label:t.subjectName,value:t.id}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"考试时长：",prop:"examineDate"}},[i("el-input",{attrs:{placeholder:"请输入考试时长"},model:{value:t.listQuery.examineDate,callback:function(e){t.$set(t.listQuery,"examineDate",e)},expression:"listQuery.examineDate"}},[i("template",{slot:"append"},[t._v("分")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"考试类别："}},[i("el-radio-group",{model:{value:t.listQuery.status,callback:function(e){t.$set(t.listQuery,"status",e)},expression:"listQuery.status"}},[i("el-radio",{attrs:{label:0}},[t._v("模拟考试练习")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("自定义练习")])],1)],1)],1)],1)],1),t._v(" "),i("el-col",{staticStyle:{background:"#EEF5FF",padding:"10px 20px",color:"#4794E9","max-height":"150px"},attrs:{span:14}},[t._v("\n      "+t._s(t.listQuery.state)+"\n    ")]),t._v(" "),i("el-row",{staticStyle:{"margin-top":"150px"}},[i("el-col",{attrs:{span:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{float:"left"}},[t._v("题型设置")])]),t._v(" "),i("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.typesList.typeList,function(e,a){return i("el-row",{key:a,attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"题型：",prop:"type"}},[i("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(a)},clear:function(e){return t.cancelSelect(a)}},model:{value:e.type1,callback:function(i){t.$set(e,"type1",i)},expression:"obj.type1"}},t._l(t.typesList.typeList,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:" "}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(i){t.$set(e,"testNum",i)},expression:"obj.testNum"}},[i("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:" "}},[i("el-col",{attrs:{span:24}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(i){t.$set(e,"testPrice",i)},expression:"obj.testPrice"}},[i("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1)],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"text-align":"center",margin:"40px 0px 20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.repeatTestSave}},[t._v("开始练习")]),t._v(" "),i("el-button",{on:{click:t.goBack}},[t._v("取消")])],1)],1)],1)},s=[],n=(i("7f7f"),i("35b7")),l=i("6237"),r=i("bafa"),o=i("e64d"),c={name:"PriticeTestSet",components:{TitleCard:n["a"]},filters:{typeFilter:function(t){return"1"===t?"单选题":"2"===t?"多选题":"3"===t?"判断题":"4"===t?"填空题":"5"===t?"简答题":void 0}},props:{testId:{type:String,default:""},testName:{type:String,default:""},testTime:{type:String,default:""}},data:function(){var t=this;return{cardTitle:"自主练习",updateInfo:[],listQuery:{examineName:"",examineDate:"",examineStartDateStr:"",examineEndDateStr:"",examineAllNumber:0,examineSubjectId:"",examineSubjectName:"",IssueStatus:"0",typeAndNum:"",status:0,state:""},typesList:{typeList:[{type:"1",name:"单选题"},{type:"2",name:"多选题"},{type:"3",name:"判断题"},{type:"4",name:"填空题"}],totalGradeNum:0,totalTestNum:0},pickOptionStart:{disabledDate:function(e){var i=t.listQuery.examineEndDateStr;if(i)return e.getTime()>new Date(i).getTime()}},pickOptionEnd:{disabledDate:function(e){var i=t.listQuery.examineStartDateStr;if(i)return e.getTime()<new Date(i).getTime()}},subjectListAll:[],rules:{examineName:[{required:!0,message:"请输入考试名称",trigger:"blur"}],examineDate:[{validator:this.isNum,trigger:"blur"}]},testTypeList:[],errorList:[]}},watch:{typesList:{handler:function(t,e){var i=0,a=0;for(var s in this.typesList.typeList){var n=this.typesList.typeList[s];i+=this.StringToNumber(n.testNum)*this.StringToNumber(n.testPrice),a+=this.StringToNumber(n.testNum)}this.$set(this.typesList,"totalGradeNum",i),this.$set(this.typesList,"totalTestNum",a)},deep:!0},"listQuery.examineSubjectId":{handler:function(t,e){this.getSubjectState(),this.getTopicNumber()},deep:!0}},created:function(){this.getSubjectListAll()},methods:{isNum:function(t,e,i){var a=/^[1-9]\d*$/;a.test(e)?i():i(new Error("只能输入除0以外的的正整数"))},repeatTestSave:function(){var t=this,e=/^[1-9]\d*$/;if(e.test(this.listQuery.examineDate)){for(var i in this.typesList.typeList){var a=this.typesList.typeList[i];a.type1&&this.errorNum(a.type1,parseInt(a.testNum))}if(this.errorList.length>0){for(var s="",n=0;n<this.errorList.length;n++)s+="<p>"+this.errorList[n].name+"，当前数量是"+this.errorList[n].inputnum+"，题库数量为"+this.errorList[n].originNum+"，组题量不能大于题库数量</p>";this.$message({dangerouslyUseHTMLString:!0,message:s,type:"info",onClose:function(){t.errorList=[]}})}else{var r=[];for(var o in this.typesList.typeList){var c=this.typesList.typeList[o];c.type1&&r.push(c.type1+"-"+this.StringToNumber(c.testNum)+"-"+this.StringToNumber(c.testPrice))}var u={examineDate:this.listQuery.examineDate,examineSubjectId:this.listQuery.examineSubjectId,examineSubjectName:this.listQuery.examineSubjectName,lianxiType:this.listQuery.status,status:1,typeAndNum:r.join(",")};Object(l["j"])(u).then(function(e){if("0"===e.data.code){var i={id:e.data.examineId};t.$emit("showPage","8",i)}else t.$message({type:"info",message:e.data.msg})})}}else this.$message({type:"info",message:"只能输入除0以外的的正整数"})},goBack:function(){this.$emit("showPage","1")},selectType:function(t){this.$set(this.typesList.typeList[t],"disabled",!0)},cancelSelect:function(t){for(var e in this.typesList.typeList)this.$set(this.typesList.typeList[t],"disabled",!1)},StringToNumber:function(t){return t?parseInt(t):0},getSubjectListAll:function(){var t=this;Object(r["e"])().then(function(e){t.subjectListAll=e.data.findList,t.subjectListAll.length>1&&(t.listQuery.examineSubjectId=t.subjectListAll[0].id,t.listQuery.examineSubjectName=t.subjectListAll[0].subjectName)})},getSubjectState:function(){var t=this,e={id:this.listQuery.examineSubjectId};Object(o["g"])(e).then(function(e){t.listQuery.state=e.data.state})},getTopicNumber:function(){var t=this,e={id:this.listQuery.examineSubjectId};Object(r["f"])(e).then(function(e){var i=e.data;for(var a in t.testTypeList=[],t.errorList=[],i)t.testTypeList.push(i[a])})},errorNum:function(t,e){"1"===t&&this.testTypeList[0]<e&&this.errorList.push({type:t,name:"单选题",inputnum:e,originNum:this.testTypeList[0]}),"2"===t&&this.testTypeList[1]<e&&this.errorList.push({type:t,name:"多选题",inputnum:e,originNum:this.testTypeList[1]}),"3"===t&&this.testTypeList[2]<e&&this.errorList.push({type:t,name:"判断题",inputnum:e,originNum:this.testTypeList[2]}),"4"===t&&this.testTypeList[3]<e&&this.errorList.push({type:t,name:"填空题",inputnum:e,originNum:this.testTypeList[3]})}}},u=c,p=(i("23a4"),i("2877")),m=Object(p["a"])(u,a,s,!1,null,"6fddee32",null);e["default"]=m.exports},"63d8":function(t,e,i){},"641f":function(t,e,i){},7600:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1"},[i("div",{staticClass:"borderB",staticStyle:{position:"relative",padding:"0 60px","padding-top":"30px"}},[i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.list.xlglExamExamine.examineName||t.list.xlglExamExamine.examineSubjectName)+"\n    ")]),t._v(" "),i("div",{staticClass:"infoDiv"},[i("span",[t._v("姓名："+t._s(t.username1))]),t._v(" "),i("span",[t._v("时间："+t._s(t._f("parseTime")(new Date,"{y}-{m}-{d} {h}:{i}")))]),t._v(" "),i("span",[t._v("单位："+t._s(t.useDepart1))]),t._v(" "),i("span",{staticClass:"rightP"},[t._v("倒计时：\n        "),t.hours>0?i("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.hours)+"时")]):t._e(),t._v("\n        "+t._s(t.time)+"分\n      ")]),t._v(" "),i("el-button",{staticClass:"rightP",attrs:{type:"primary",size:"mini"},on:{click:t.saveBatch}},[t._v("交卷")])],1)],1),t._v(" "),i("div",{staticClass:"testDiv"},t._l(t.list.topicCount,function(e,a){return i("div",{key:a},[t.list.listType1&&t.list.listType1.length>0&&"1"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、单选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType1,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item.reply"}},t._l(e.topicOptionMap,function(e,a){return i("el-radio",{key:a,staticStyle:{margin:"0px 100px 0px 50px"},attrs:{label:a}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&"2"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、多选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType2,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-checkbox-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item2.reply"}},t._l(e.topicOptionMap,function(e,a){return i("el-checkbox",{key:a,attrs:{label:a}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&"3"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、判断题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType3,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item3.reply"}},[i("el-radio",{attrs:{label:"对"}},[t._v("正确")]),t._v(" "),i("el-radio",{attrs:{label:"错"}},[t._v("错误")])],1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&"4"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、填空题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType4,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item4.reply"}})],1)],1)})],2):t._e()])}),0)])},s=[],n=i("6237"),l={name:"TestPaper",filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{testId:{type:String,default:""},isnotexam:{type:String,default:""}},data:function(){return{list:null,times:0,id:"",username1:this.$store.state.user.userInfo.fullname,useDepart1:this.$store.state.user.userInfo.orgName,hours:0,time:0}},watch:{times:{handler:function(){this.times>60?this.hours=parseInt(this.times/60):this.hours=0,this.time=parseInt(this.times%60)}}},created:function(){this.getExamineList()},methods:{getExamineList:function(){var t=this,e={examineId:this.testId,status:1};this.isnotexam&&"1"===this.isnotexam&&(e={examineId:this.testId,status:1,isNotExam:this.isnotexam}),Object(n["b"])(e).then(function(e){var i=e.data;if(i.listType2&&i.listType2.length>0)for(var a in i.listType2)i.listType2[a].reply=[];t.list=i,t.id=e.data.MainAnswerID,t.times=parseInt(e.data.xlglExamExamine.examineDate);var s=setInterval(function(){t.times--,0===t.times&&(clearInterval(s),t.saveBatch())},6e3)})},saveBatch:function(){var t=this,e=[];this.list.listType1&&this.list.listType1.length>0&&this.list.listType1.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType2&&this.list.listType2.length>0&&this.list.listType2.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply.length>0?t.reply.join(","):"",i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType3&&this.list.listType3.length>0&&this.list.listType3.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType4&&this.list.listType4.length>0&&this.list.listType4.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType5&&this.list.listType5.length>0&&this.list.listType5.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)});var i={mainAnswerId:this.id,xlglExamAnswer:JSON.stringify(e),status:1,makeupStatus:0};Object(n["i"])(i).then(function(e){0===e.data.code?t.$message({type:"success",message:"交卷成功!",onClose:function(){var i={examineId:e.data.examineId,mainAnswerId:e.data.mainAnswerId,lianxiType:e.data.lianxiType};t.$emit("showTestPaper","9",i)}}):t.$message({type:"info",message:e.data.msg})})},goBack:function(){var t=this;this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.saveBatch()}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},r=l,o=(i("c57a"),i("2877")),c=Object(o["a"])(r,a,s,!1,null,"92356ee4",null);e["default"]=c.exports},8438:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{staticStyle:{"background-color":"#ffffff","padding-bottom":"10px"},attrs:{span:18}},[i("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),i("el-button",{staticStyle:{float:"right",cursor:"pointer","margin-top":"-40px","margin-right":"80px"},attrs:{type:"primary",size:"mini"},on:{click:t.openOriginTest}},[t._v("查看原题")]),t._v(" "),i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-top":"-30px","margin-right":"20px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("div",{staticClass:"rateDiv"},[i("ul",{staticClass:"ulSty"},[i("li",[t._v("\n            参考率：\n            "),i("span",{staticClass:"color1 size1"},[t._v(t._s(t.info.raioAll)+"%")])]),t._v(" "),i("li",[t._v("\n            参考人数：\n            "),i("span",{staticClass:"color2 size1"},[t._v(t._s(t.info.peopleNum)+"人")])]),t._v(" "),i("li",[t._v("\n            需补考人数：\n            "),i("span",{staticClass:"color3 size1"},[t._v(t._s(t.info.fillUpNum)+"人")])]),t._v(" "),i("li",[t._v("\n            优秀率：\n            "),i("span",{staticClass:"color1 size1"},[t._v(t._s(t.info.excellent)+"%")])]),t._v(" "),i("li",[t._v("\n            优良率：\n            "),i("span",{staticClass:"color2 size1"},[t._v(t._s(t.info.fine)+"%")])]),t._v(" "),i("li",[t._v("\n            及格率：\n            "),i("span",{staticClass:"color3 size1"},[t._v(t._s(t.info.pass)+"%")])])])]),t._v(" "),i("div",[i("div",{staticStyle:{"margin-bottom":"20px"}},[i("el-input",{staticStyle:{width:"20%"},attrs:{placeholder:"请输入答题人部门"},model:{value:t.listQuery.organName,callback:function(e){t.$set(t.listQuery,"organName",e)},expression:"listQuery.organName"}}),t._v(" "),i("el-input",{staticStyle:{width:"20%"},attrs:{placeholder:"请输入答题人名称"},model:{value:t.listQuery.replyUserName,callback:function(e){t.$set(t.listQuery,"replyUserName",e)},expression:"listQuery.replyUserName"}}),t._v(" "),"first"===t.activeName?i("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:"是否已补考",clearable:""},on:{change:t.getRepeatTestList},model:{value:t.listQuery.makeupStatus,callback:function(e){t.$set(t.listQuery,"makeupStatus",e)},expression:"listQuery.makeupStatus"}},[i("el-option",{attrs:{label:"正常",value:0}}),t._v(" "),i("el-option",{attrs:{label:"补考",value:1}})],1):t._e(),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getRepeatTestList}},[t._v("查询")])],1),t._v(" "),i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{staticStyle:{height:"calc(100vh - 470px)",overflow:"hidden"},attrs:{label:"已考人员清单",name:"first"}},[i("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:""}},[i("el-table-column",{attrs:{label:"姓名",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.replyUserName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"部门",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.organName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"成绩",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.fractionsum))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"考试方式",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(t._f("bkFilter")(a.makeupStatus)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"等级",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.level))])]}}])})],1)],1)],1),t._v(" "),i("el-tab-pane",{staticStyle:{height:"calc(100vh - 420px)",overflow:"hidden"},attrs:{label:"未考人员清单",name:"second"}},[i("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:""}},[i("el-table-column",{attrs:{label:"姓名",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.replyUserName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"部门",width:"400px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.organName))])]}}])})],1)],1)],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getRepeatTestList}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-row",{staticStyle:{height:"calc(100vh - 100px)",overflow:"hidden"}},[i("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[i("el-col",{staticClass:"div2",attrs:{span:24}},[i("div",[i("div",{staticClass:"div3"},[i("svg-icon",{staticClass:"icon imgP",attrs:{"icon-class":"xinwen"}}),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"div4"},[t._v("\n                    原考题配比"),i("br")]),t._v(" "),i("div",{staticClass:"div4"},[t._v("\n                    "+t._s(t._f("textFileter")(t.originalTopic.length))+"题型比例\n                  ")])]),t._v(" "),i("el-col",{attrs:{span:8}},[t._v("\n                  "+t._s(t.originalTopic.totalNum)+"题"+t._s(t.originalTopic.totalGrade)+"分\n                ")])],1),t._v(" "),i("div",t._l(t.originalTopic,function(e,a){return i("el-col",{key:a,staticClass:"div5",attrs:{span:12}},[i("el-col",{staticStyle:{"line-height":"80px"},attrs:{span:12}},[t._v("\n                    "+t._s(t._f("typeFilter")(e.topicType))+"\n                  ")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.numberAll)+"分\n                    ")]),t._v(" "),i("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.typeCount)+"题\n                    ")])])],1)}),1)])]),t._v(" "),i("el-col",{staticClass:"div2",staticStyle:{"margin-top":"20px"},attrs:{span:24}},[i("div",[i("div",{staticClass:"div3"},[i("svg-icon",{staticClass:"icon imgP",attrs:{"icon-class":"benyue"}}),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"div4"},[t._v("\n                    补考题配比"),i("br")]),t._v(" "),i("div",{staticClass:"div4"},[t._v("\n                    "+t._s(t._f("textFileter")(t.topicTypeCount.length))+"题型比例\n                  ")])])],1),t._v(" "),t.topicTypeCount.length>0?i("div",t._l(t.topicTypeCount,function(e,a){return i("el-col",{key:a,staticClass:"div5",attrs:{span:12}},[i("el-col",{staticStyle:{"line-height":"80px"},attrs:{span:12}},[t._v("\n                    "+t._s(t._f("typeFilter")(e.topicType))+"\n                  ")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.numberAll)+"分\n                    ")]),t._v(" "),i("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.typeCount)+"题\n                    ")])])],1)}),1):t._e(),t._v(" "),"0"!==t.show&&"1"!==t.show&&"3"!==t.show||"0"!==t.info.examine.makeupStatus?t._e():i("el-col",{attrs:{span:24}},[i("el-button",{staticStyle:{width:"100%",height:"40px","font-size":"1rem"},attrs:{type:"success",size:"mini"},on:{click:t.repeatSet}},[t._v("发起补考")])],1)],1)])],1)],1)],1)],1)],1)},s=[],n=(i("7f7f"),i("35b7")),l=i("333d"),r=i("6237"),o={name:"RepeatTest",components:{TitleCard:n["a"],Pagination:l["a"]},filters:{bkFilter:function(t){return"0"===t?"正常":"1"===t?"补考":void 0},typeFilter:function(t){return"1"===t?"单选题":"2"===t?"多选题":"3"===t?"判断题":"4"===t?"填空题":"5"===t?"简答题":void 0},textFileter:function(t){return 0===t?"零":1===t?"一":2===t?"二":3===t?"三":4===t?"四":5===t?"五":void 0}},props:{testId:{type:String,default:""},testName:{type:String,default:""},testTime:{type:String,default:""},finishStatus:{type:String,default:""}},data:function(){return{cardTitle:this.testName+"("+this.testTime+")",listQuery:{page:1,limit:20,isNotExam:0,makeupStatus:"",organName:"",replyUserName:""},listLoading:!1,tableKey:0,list:null,total:0,activeName:"first",info:{excellent:0,fillUpNum:0,fine:0,pass:0,peopleNum:0,raioAll:0},topicTypeCount:[],originalTopic:[],show:this.$store.state.user.userInfo.adminFlag}},created:function(){this.listQuery.isNotExam=1,this.getRepeatTestList(),this.getExamineTotal(),this.getTopicTypeCount()},methods:{handleClick:function(t,e){"first"===t.name?this.listQuery.isNotExam=1:(this.listQuery.isNotExam=0,this.listQuery.makeupStatus=""),this.getRepeatTestList()},getRepeatTestList:function(){var t=this;this.listQuery.examineId=this.testId,this.listQuery.status=0,Object(r["d"])(this.listQuery).then(function(e){t.list=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},200)})},getExamineTotal:function(){var t=this,e={examineId:this.testId};Object(r["c"])(e).then(function(e){t.info=e.data})},getTopicTypeCount:function(){var t=this,e={examineId:this.testId};Object(r["e"])(e).then(function(e){if(t.topicTypeCount="0"===e.data.makeUpTopic?[]:e.data.makeUpTopic,t.originalTopic="0"===e.data.originalTopic?[]:e.data.originalTopic,e.data.originalTopic.length>0){for(var i in t.originalTopic.totalGrade=0,t.originalTopic.totalNum=0,t.originalTopic)if("totalGrade"!==i&&"totalNum"!==i){var a=t.originalTopic[i];t.originalTopic.totalGrade+=parseInt(a.numberAll),t.originalTopic.totalNum+=parseInt(a.typeCount)}}else t.originalTopic.totalGrade=parseInt(0),t.originalTopic.totalNum=parseInt(0)})},goBack:function(){this.$emit("showPage","1")},repeatSet:function(){var t={id:this.testId,testName:this.testName,testTime:this.testTime};this.$emit("showPage","6",t)},openOriginTest:function(){if("2"===this.finishStatus)this.$message({type:"info",message:"您尚未参加考试，没有查看权限！"});else{var t={id:this.testId,examineId:this.testId,flag:"1"};this.$emit("showPage","3",t)}}}},c=o,u=(i("426b"),i("2877")),p=Object(u["a"])(c,a,s,!1,null,"189a435a",null);e["default"]=p.exports},"87f0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},["1"===t.showTestPaper?i("train-list",{on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"2"===t.showTestPaper?i("test-paper",{ref:"testPaper",attrs:{"test-id":t.testId,"makeup-status":t.makeupStatus},on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"3"===t.showTestPaper?i("grade-result",{attrs:{"test-id":t.testId,"examine-id":t.examineId,flag:t.flag},on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"4"===t.showTestPaper?i("create-test",{on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"5"===t.showTestPaper?i("repeat-test",{attrs:{"test-id":t.testId,"test-name":t.testName,"test-time":t.testTime,"finish-status":t.finishStatus},on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"6"===t.showTestPaper?i("repeat-set",{attrs:{"test-id":t.testId,"test-name":t.testName,"test-time":t.testTime},on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"7"===t.showTestPaper?i("pritice-test",{on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"8"===t.showTestPaper?i("test-practice",{attrs:{"test-id":t.testId,isnotexam:t.isnotexam},on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"9"===t.showTestPaper?i("practice-result",{attrs:{"test-id":t.testId,"examine-id":t.examineId,"lianxi-type":t.lianxiType},on:{showTestPaper:t.openTestPaper}}):t._e()],1)},s=[],n=i("ea59"),l=i("374b"),r=i("b3c3"),o=i("fa8e"),c=i("8438"),u=i("049e"),p=i("63ab"),m=i("7600"),d=i("d4a4"),f={name:"ComplexTable",components:{trainList:l["default"],GradeResult:n["default"],testPaper:r["default"],CreateTest:o["default"],repeatTest:c["default"],repeatSet:u["default"],priticeTest:p["default"],testPractice:m["default"],practiceResult:d["default"]},data:function(){return{showGradeResult:!1,testId:"",examineId:"",makeupStatus:"",testName:"",testTime:"",showTestPaper:"1",flag:"",lianxiType:"",isnotexam:"",finishStatus:""}},methods:{openTestPaper:function(t,e){"1"===t||("2"===t?("0"===e.overStatus?this.makeupStatus="0":"2"===e.overStatus&&(this.makeupStatus="1"),this.testId=e.id):"3"===t?e.flag&&"1"===e.flag?(this.testId=e.id,this.examineId=e.examineId,this.flag=e.flag):(this.testId=e.id,this.examineId=e.examineId):"5"===t?(this.testId=e.id,this.testName=e.examineSubjectName,this.finishStatus=e.userStatus,this.testTime=e.examineStartDate+"~"+e.examineEndDate):"6"===t?(this.testId=e.id,this.testName=e.testName,this.testTime=e.testTime):"8"===t?(this.testId=e.id,this.isnotexam=e.isNotExam):"9"===t&&(this.examineId=e.examineId,this.testId=e.mainAnswerId,this.lianxiType=e.lianxiType)),this.showTestPaper=t}},beforeRouteLeave:function(t,e,i){var a=this;"/trainingAssessment/examinationList"===e.path&&"2"===this.showTestPaper?this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$refs.testPaper.saveBatch(),i()}).catch(function(){a.$message({type:"info",message:"已取消"}),i(!1),document.getElementsByClassName("router-link-exact-active router-link-active")[0].children[0].click()}):i()}},y=f,v=i("2877"),h=Object(v["a"])(y,a,s,!1,null,null,null);e["default"]=h.exports},"8bfa":function(t,e,i){"use strict";var a=i("4170"),s=i.n(a);s.a},"8e49":function(t,e,i){},"9a70":function(t,e,i){},"9b34":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1"},t._l(t.list.topicCount,function(e,a){return i("div",{key:a},[t.list.listType1&&t.list.listType1.length>0&&"1"===e.topicType?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(a))+"、单选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType1,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(a+1)+"、"+t._s(e.topicColumn)+"\n          "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item.reply"}},t._l(e.topicOptionMap,function(e,a){return i("el-radio",{key:a,staticStyle:{margin:"0px 100px 0px 50px"},attrs:{label:a}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&"2"===e.topicType?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(a))+"、多选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType2,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(a+1)+"、"+t._s(e.topicColumn)+"\n          "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-checkbox-group",{model:{value:e.reply1,callback:function(i){t.$set(e,"reply1",i)},expression:"item2.reply1"}},t._l(e.topicOptionMap,function(e,a){return i("el-checkbox",{key:a,attrs:{label:a}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&"3"===e.topicType?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(a))+"、判断题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType3,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(a+1)+"、"+t._s(e.topicColumn)+"\n          "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item3.reply"}},t._l(e.topicOptionMap,function(e,a){return i("el-radio",{key:a,attrs:{label:a}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&"4"===e.topicType?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(a))+"、填空题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType4,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(a+1)+"、"+t._s(e.topicColumn)+"\n          "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item4.reply"}})],1)],1)})],2):t._e()])}),0)},s=[],n={name:"TestPaper",filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{list:{type:Object,default:{}}},data:function(){return{}},created:function(){},methods:{}},l=n,r=(i("8bfa"),i("2877")),o=Object(r["a"])(l,a,s,!1,null,"237c2ebf",null);e["default"]=o.exports},a344:function(t,e,i){},b3c3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1",staticStyle:{"background-color":"#ffffff",height:"100%",overflow:"auto"}},[i("div",{staticClass:"borderB",staticStyle:{position:"relative",padding:"0 60px","padding-top":"30px"}},[i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.list.xlglExamExamine.examineName)+"\n    ")]),t._v(" "),i("div",{staticClass:"infoDiv"},[i("span",[t._v("姓名："+t._s(t.username1))]),t._v(" "),i("span",[t._v("时间："+t._s(t._f("parseTime")(new Date,"{y}-{m}-{d} {h}:{i}")))]),t._v(" "),i("span",[t._v("单位："+t._s(t.useDepart1))]),t._v(" "),i("span",{staticClass:"rightP"},[t._v("倒计时：\n        "),t.hours>0?i("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.hours)+"时")]):t._e(),t._v("\n        "+t._s(t.time)+"分\n      ")]),t._v(" "),i("el-button",{staticClass:"rightP",attrs:{type:"primary",size:"mini"},on:{click:t.saveBatch}},[t._v("交卷")])],1)],1),t._v(" "),i("div",{staticClass:"testDiv"},t._l(t.list.topicCount,function(e,a){return i("div",{key:a},[t.list.listType1&&t.list.listType1.length>0&&"1"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、单选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType1,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item.reply"}},t._l(e.topicOptionMap,function(e,a){return i("el-radio",{key:a,staticStyle:{margin:"0px 100px 0px 50px"},attrs:{label:a}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&"2"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、多选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType2,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-checkbox-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item2.reply"}},t._l(e.topicOptionMap,function(e,a){return i("el-checkbox",{key:a,attrs:{label:a}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&"3"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、判断题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType3,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item3.reply"}},[i("el-radio",{attrs:{label:"对"}},[t._v("正确")]),t._v(" "),i("el-radio",{attrs:{label:"错"}},[t._v("错误")])],1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&"4"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、填空题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType4,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item4.reply"}})],1)],1)})],2):t._e(),t._v(" "),t.list.listType5&&t.list.listType5.length>0&&"5"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、简答题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType5,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item5.reply"}})],1)],1)})],2):t._e()])}),0)])},s=[],n=i("6237"),l={name:"TestPaper",filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{testId:{type:String,default:""},makeupStatus:{type:String,default:""}},data:function(){return{list:null,times:0,id:"",username1:this.$store.state.user.userInfo.fullname,useDepart1:this.$store.state.user.userInfo.orgName,hours:0,time:0}},watch:{times:{handler:function(){this.times>60?this.hours=parseInt(this.times/60):this.hours=0,this.time=parseInt(this.times%60)}}},created:function(){this.getExamineList()},methods:{getExamineList:function(){var t=this,e={examineId:this.testId};Object(n["b"])(e).then(function(e){var i=e.data;if(i.listType2&&i.listType2.length>0)for(var a in i.listType2)i.listType2[a].reply=[];t.list=i,t.id=e.data.MainAnswerID,t.times=parseInt(e.data.xlglExamExamine.examineDate);var s=setInterval(function(){t.times--,0===t.times&&(clearInterval(s),t.saveBatch())},6e3)})},saveBatch:function(){var t=this,e=[];this.list.listType1&&this.list.listType1.length>0&&this.list.listType1.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType2&&this.list.listType2.length>0&&this.list.listType2.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply.length>0?t.reply.join(","):"",i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType3&&this.list.listType3.length>0&&this.list.listType3.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType4&&this.list.listType4.length>0&&this.list.listType4.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)}),this.list.listType5&&this.list.listType5.length>1&&this.list.listType5.map(function(t){var i={};i.examineTopicId=t.examineId,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,e.push(i)});var i={mainAnswerId:this.id,xlglExamAnswer:JSON.stringify(e),status:0,makeupStatus:this.makeupStatus};Object(n["h"])(i).then(function(e){0===e.data.code?t.$message({type:"success",message:"交卷成功!",onClose:function(){var e={id:t.id,examineId:t.testId};t.$emit("showTestPaper","3",e)}}):t.$message({type:"info",message:e.data.msg})})},goBack:function(){var t=this;this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.saveBatch()}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},r=l,o=(i("1aab"),i("2877")),c=Object(o["a"])(r,a,s,!1,null,"ff24677a",null);e["default"]=c.exports},bafa:function(t,e,i){"use strict";i.d(e,"g",function(){return s}),i.d(e,"e",function(){return n}),i.d(e,"b",function(){return l}),i.d(e,"d",function(){return r}),i.d(e,"a",function(){return o}),i.d(e,"c",function(){return c}),i.d(e,"f",function(){return u});var a=i("b775");function s(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/saveOrUpdate",method:"post",data:t})}function n(){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/subjectListAll",method:"get"})}function l(t){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/findTopicBySubId",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/issueStatusList",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/delete",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/info",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/getTopicNumber",method:"post",data:t})}},bd6f:function(t,e,i){},c02e:function(t,e,i){},c57a:function(t,e,i){"use strict";var a=i("8e49"),s=i.n(a);s.a},d031:function(t,e,i){"use strict";var a=i("164b"),s=i.n(a);s.a},d4a4:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-container",[i("el-header",{staticStyle:{"margin-top":"20px"}},[i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-right":"50px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("h3",[t._v(" "+t._s(t.selfInfo.examineName))])],1),t._v(" "),i("el-header",{staticStyle:{"line-height":"60px"}},[i("el-row",[i("el-col",{attrs:{span:4}},[t._v("\n          姓名："+t._s(t.selfInfo.userName)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          时间："+t._s(t.selfInfo.time)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          单位："+t._s(t.selfInfo.orgName)+"\n        ")])],1)],1),t._v(" "),i("el-main",["1"===t.lianxiType?i("h2",{staticStyle:{"text-align":"center"}},[t._v("恭喜您，答题已完成")]):t._e(),t._v(" "),"0"===t.lianxiType?i("h2",{staticStyle:{"text-align":"center"}},[t._v("恭喜您，答题已完成，本次考试的成绩为："),i("span",{staticClass:"spanSty spanSty1"},[t._v(" "+t._s(t.selfInfo.fractionsum))]),t._v("分，"),i("span",{staticClass:"spanSty"},[t._v(t._s(t.selfInfo.level))]),t._v("等级")]):t._e(),t._v(" "),i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"考试概况",name:"first"}},[i("test-content",{attrs:{list:t.list}})],1)],1),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.testAgain}},[t._v("再考一次")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.testAgainSet}},[t._v("重新组考")])],1)],1)],1)],1)},s=[],n=(i("28a5"),i("7f7f"),i("f2d1")),l=i("9b34"),r={name:"GradeResult",components:{testContent:l["default"]},props:{testId:{type:String,default:""},examineId:{type:String,default:""},lianxiType:{type:String,default:""}},data:function(){return{selfInfo:null,tableData:[],listQuery:{page:1,limit:20,examineId:this.examineId,isNotExam:1,status:0,makeupStatus:0},activeName:"first",list:null}},created:function(){this.getSelfInfo(),this.getTestInfo()},methods:{getSelfInfo:function(){var t=this;Object(n["b"])({mainAnswerId:this.testId}).then(function(e){t.selfInfo=e.data})},handleClick:function(t,e){"second"===t.name?this.getAllGradeList():this.getTestInfo()},getTestInfo:function(){var t=this,e={examineId:this.examineId,lianxiType:this.lianxiType};Object(n["d"])(e).then(function(e){var i=e.data;if(i.listType2&&i.listType2.length>0)for(var a in i.listType2)i.listType2[a].reply1=i.listType2[a].topicResult.split("");t.list=i})},goBack:function(){this.$emit("showTestPaper","1")},testAgainSet:function(){this.$emit("showTestPaper","7")},testAgain:function(){var t={id:this.examineId,isNotExam:"1"};this.$emit("showTestPaper","8",t)}}},o=r,c=(i("09ee"),i("2877")),u=Object(c["a"])(o,a,s,!1,null,"0edda0d5",null);e["default"]=u.exports},e64d:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"i",function(){return n}),i.d(e,"h",function(){return l}),i.d(e,"c",function(){return r}),i.d(e,"f",function(){return o}),i.d(e,"b",function(){return c}),i.d(e,"k",function(){return u}),i.d(e,"d",function(){return p}),i.d(e,"e",function(){return m}),i.d(e,"g",function(){return d}),i.d(e,"j",function(){return f});var a=i("b775");function s(t){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/save",method:"post",data:t})}function n(){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/subject",method:"get"})}function l(t){return Object(a["a"])({url:"/app/xlgl/xlglexamtopic/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/update",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/delete",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/app/xlgl/xlglexamtopic/delete",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/app/xlgl/xlglexamtopic/update",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/app/xlgl/xlglexamtopic/info",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/app/xlgl/xlglexamfile/list",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/getSubjectState",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/app/xlgl/xlglexamsubject/getUpLoad",method:"post",data:t})}},ea59:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container",staticStyle:{overflow:"auto","background-color":"#ffffff",height:"100%"}},[i("el-container",[i("el-header",{staticStyle:{"margin-top":"20px"}},[i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-right":"50px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("h3",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.selfInfo.examineName))])],1),t._v(" "),i("el-header",{staticStyle:{"line-height":"60px"}},[i("el-row",[i("el-col",{attrs:{span:4}},[t._v("\n          姓名："+t._s(t.selfInfo.userName)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          时间："+t._s(t.selfInfo.time)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          单位："+t._s(t.selfInfo.orgName)+"\n        ")])],1)],1),t._v(" "),i("el-main",[i("h2",{staticStyle:{"text-align":"center"}},[t._v("恭喜您，答题已完成，本次考试的成绩为："),i("span",{staticClass:"spanSty spanSty1"},[t._v(" "+t._s(t.selfInfo.fractionsum))]),t._v("分，"),i("span",{staticClass:"spanSty"},[t._v(t._s(t.selfInfo.level))]),t._v("等级")]),t._v(" "),i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"考试概况",name:"first"}},[i("test-content",{attrs:{list:t.list}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"已结人员清单",name:"second"}},[i("el-table",{staticClass:"new-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:"",fit:!0}},[i("el-table-column",{attrs:{prop:"replyUserName",label:"已考人员",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"organName",label:"单位",align:"center","min-width":"300"}}),t._v(" "),i("el-table-column",{attrs:{prop:"fractionsum",label:"成绩",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"level",label:"等级",align:"center"}})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getAllGradeList}})],1)],1)],1)],1)],1)},s=[],n=(i("28a5"),i("7f7f"),i("f2d1")),l=i("333d"),r=i("9b34"),o={name:"GradeResult",components:{Pagination:l["a"],testContent:r["default"]},props:{testId:{type:String,default:""},examineId:{type:String,default:""},flag:{type:String,default:""}},data:function(){return{selfInfo:null,tableData:[],listQuery:{page:1,limit:20,examineId:this.examineId,isNotExam:1,status:0,makeupStatus:0},list:null,total:0,activeName:"first"}},created:function(){this.getSelfInfo(),this.getTestInfo()},methods:{getSelfInfo:function(){var t=this,e={mainAnswerId:this.testId};this.flag&&"1"===this.flag&&(e={examineId:this.testId}),Object(n["b"])(e).then(function(e){t.selfInfo=e.data})},getAllGradeList:function(){var t=this;Object(n["a"])(this.listQuery).then(function(e){t.tableData=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},200)})},handleClick:function(t,e){"second"===t.name?this.getAllGradeList():this.getTestInfo()},getTestInfo:function(){var t=this,e={examineId:this.examineId};Object(n["c"])(e).then(function(e){var i=e.data;if(i.listType2&&i.listType2.length>0)for(var a in i.listType2)i.listType2[a].reply1=i.listType2[a].topicResult.split("");t.list=i})},goBack:function(){this.$emit("showTestPaper","1")}}},c=o,u=(i("d031"),i("2877")),p=Object(u["a"])(c,a,s,!1,null,"030db9dc",null);e["default"]=p.exports},f2d1:function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"a",function(){return n}),i.d(e,"c",function(){return l}),i.d(e,"d",function(){return r});var a=i("b775");function s(t){return Object(a["a"])({url:"/app/xlgl/xlglexammainanswer/getMainAnsUser",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/app/xlgl/xlglexammainanswer/list",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/app/xlgl/xlglexamanswer/view/info",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/app/xlgl/xlglexamanswer/view/infoLianXi",method:"post",data:t})}},fa8e:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"createTest"},[i("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),i("el-button",{staticClass:"noPublish",attrs:{size:"mini",type:"primary"},on:{click:t.showNoPublish}},[t._v("查看未发布考核")]),t._v(" "),i("div",{staticClass:"pageContent"},[i("el-form",{ref:"form",staticClass:"oraganForm",attrs:{model:t.listQuery,rules:t.rules,"label-width":"150px",inline:!0}},[i("el-col",{attrs:{xl:12,md:12}},[i("el-form-item",{attrs:{label:"考试名称：",prop:"examineName"}},[i("el-input",{attrs:{maxlength:"50"},model:{value:t.listQuery.examineName,callback:function(e){t.$set(t.listQuery,"examineName",e)},expression:"listQuery.examineName"}})],1)],1),t._v(" "),i("el-col",{attrs:{xl:12,md:12}},[i("el-form-item",{attrs:{label:"考试时长：",prop:"examineDate"}},[i("el-input",{attrs:{placeholder:"请输入考试时长"},model:{value:t.listQuery.examineDate,callback:function(e){t.$set(t.listQuery,"examineDate",e)},expression:"listQuery.examineDate"}},[i("template",{slot:"append"},[t._v("分")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{xl:12,md:12}},[i("el-form-item",{attrs:{label:"考试时间：",required:""}},[i("el-col",{attrs:{xl:11,md:11}},[i("el-form-item",{attrs:{prop:"examineStartDateStr"}},[i("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionStart,placeholder:"选择开始时间"},on:{change:t.getsTime1},model:{value:t.listQuery.examineStartDateStr,callback:function(e){t.$set(t.listQuery,"examineStartDateStr",e)},expression:"listQuery.examineStartDateStr"}})],1)],1),t._v(" "),i("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{xl:2,md:2}},[t._v("至")]),t._v(" "),i("el-col",{attrs:{xl:11,md:11}},[i("el-form-item",{attrs:{prop:"examineEndDateStr"}},[i("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionEnd,placeholder:"选择结束时间"},on:{change:t.getsTime2},model:{value:t.listQuery.examineEndDateStr,callback:function(e){t.$set(t.listQuery,"examineEndDateStr",e)},expression:"listQuery.examineEndDateStr"}})],1)],1)],1)],1),t._v(" "),i("el-col",{attrs:{xl:12,md:12}},[i("el-form-item",{attrs:{label:"考试科目选择：",prop:"examineSubjectId"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listQuery.examineSubjectId,callback:function(e){t.$set(t.listQuery,"examineSubjectId",e)},expression:"listQuery.examineSubjectId"}},t._l(t.subjectListAll,function(t){return i("el-option",{key:t.id,attrs:{label:t.subjectName,value:t.id}})}),1)],1)],1)],1),t._v(" "),i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{float:"left"}},[t._v("题型设置")]),t._v(" "),i("span",[t._v("合计：")]),t._v(" "),i("span",[t._v(t._s(t.setTypes.totalGradeNum||t.totalGrade)+"分")]),t._v(" "),i("span",[t._v(t._s(t.setTypes.totalTestNum||t.totalNum)+"题")])]),t._v(" "),t.setTypes.length<1?i("div",[t._v("\n        该科目无题型\n      ")]):t._e(),t._v(" "),t.showtestSet?t._e():i("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.setTypes,function(e,a){return i("el-row",{key:a,attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{xl:1,md:1}},[i("span",{staticClass:"spanPosition"},[t._v("*")])]),t._v(" "),i("el-col",{attrs:{xl:6,md:6}},[i("el-form-item",{attrs:{label:"题型：",prop:"type"}},[i("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(a)},clear:function(e){return t.cancelSelect(a)}},model:{value:e.type1,callback:function(i){t.$set(e,"type1",i)},expression:"obj.type1"}},t._l(t.typeList,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{xl:6,md:6}},[i("el-form-item",{attrs:{label:" "}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(i){t.$set(e,"testNum",i)},expression:"obj.testNum"}},[i("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{xl:6,md:6}},[i("el-form-item",{attrs:{label:" "}},[i("el-col",{attrs:{xl:24,md:24}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(i){t.$set(e,"testPrice",i)},expression:"obj.testPrice"}},[i("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1),t._v(" "),t.showtestSet?i("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.updateInfo,function(e,a){return i("el-row",{key:a,attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{xl:1,md:1}},[i("span",{staticClass:"spanPosition"},[t._v("*")])]),t._v(" "),i("el-col",{attrs:{xl:6,md:6}},[i("el-form-item",{attrs:{label:"题型：",prop:"type"}},[i("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(a)},clear:function(e){return t.cancelSelect(a)}},model:{value:e.type1,callback:function(i){t.$set(e,"type1",i)},expression:"obj.type1"}},t._l(t.typeList,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{xl:6,md:6}},[i("el-form-item",{attrs:{label:" "}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(i){t.$set(e,"testNum",i)},expression:"obj.testNum"}},[i("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{xl:6,md:6}},[i("el-form-item",{attrs:{label:" "}},[i("el-col",{attrs:{xl:24,md:24}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(i){t.$set(e,"testPrice",i)},expression:"obj.testPrice"}},[i("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1):t._e()],1),t._v(" "),i("el-row",{staticStyle:{"text-align":"center",margin:"40px 0px 20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.publicTest("1")}}},[t._v("发起考试")]),t._v(" "),i("el-button",{on:{click:function(e){return t.publicTest("0")}}},[t._v("保存")])],1)],1)],1)},s=[],n=(i("7f7f"),i("35b7")),l=i("bafa"),r={name:"NoPublish",components:{TitleCard:n["a"]},directives:{required:{inserted:function(t){t.firstElementChild.firstElementChild.addEventListener("blur",function(){var e=t.firstElementChild.firstElementChild.value,i="blobk",a="",s="red";t.nextSibling&&"div"===t.nextSibling.parentNode.lastChild.localName&&t.nextSibling.parentNode.removeChild(t.nextSibling.parentNode.lastChild);var n=document.createElement("div");e.length<1?a="非空":(i="none",s="#dcdfe6"),t.firstElementChild.style.borderColor=s,n.innerText=a,n.style.display=i,n.style.color="red",t.nextSibling&&t.nextSibling.parentNode.appendChild(n)})}},limitNum:{inserted:function(t){t.firstElementChild.addEventListener("blur",function(){var e=t.firstElementChild.value,i="blobk",a="",s="red";t.nextSibling&&"div"===t.nextSibling.parentNode.lastChild.localName&&t.nextSibling.parentNode.removeChild(t.nextSibling.parentNode.lastChild);var n=document.createElement("div");e.length<1?a="非空":/^[1-9]\d*$/.test(e)?(i="none",s="#dcdfe6"):a="只能输入0以外的正整数",t.firstElementChild.style.borderColor=s,n.innerText=a,n.style.display=i,n.style.color="red",t.nextSibling?t.nextSibling.parentNode.appendChild(n):t.parentNode.appendChild(n)})}}},props:{testId:{type:String,default:""}},data:function(){var t=this;return{cardTitle:"创建考核",tableKey:0,list:null,total:0,listLoading:!0,listQuery:{examineName:"",examineDate:"",examineStartDateStr:"",examineEndDateStr:"",examineAllNumber:0,examineSubjectId:"",examineSubjectName:"测试科目",IssueStatus:"0",typeAndNum:"",status:0},typesList:[{type:"1",name:"单选题"},{type:"2",name:"多选题"},{type:"3",name:"判断题"},{type:"4",name:"填空题"},{type:"5",name:"简答题"}],pickOptionStart:{disabledDate:function(e){var i=t.listQuery.examineEndDateStr;if(i)return e.getTime()>new Date(i).getTime()}},pickOptionEnd:{disabledDate:function(e){var i=t.listQuery.examineStartDateStr;if(i)return e.getTime()<new Date(i).getTime()}},subjectListAll:[],typeList:[],rules:{examineName:[{required:!0,message:"请输入考试名称",trigger:"blur"}],examineDate:[{required:!0,message:"请输入考试时长",trigger:"blur"},{validator:this.isNum,trigger:"blur"}],examineStartDateStr:[{required:!0,message:"请输入开始时间",trigger:"blur"}],examineEndDateStr:[{required:!0,message:"请输入结束时间",trigger:"blur"}],examineSubjectId:[{required:!0,message:"请选择考试科目",trigger:"change"}]},updateInfo:[],totalGrade:0,totalNum:0,showtestSet:!1,first:!1,updateId:"",testTypeList:[],errorList:[]}},computed:{setTypes:function(){return this.typeList}},watch:{"listQuery.examineSubjectId":{handler:function(t,e){var i=this;this.subjectListAll.map(function(t){t.id===i.listQuery.examineSubjectId&&(i.listQuery.examineSubjectName=t.subjectName,i.first||(i.updateInfo=[],i.showtestSet=!1,i.findTopicBySubId(),i.getTopicNumber()))})},deep:!0},setTypes:{handler:function(){var t=0,e=0;for(var i in this.setTypes){var a=this.setTypes[i];t+=this.StringToNumber(a.testNum)*this.StringToNumber(a.testPrice),e+=this.StringToNumber(a.testNum)}this.$set(this.setTypes,"totalGradeNum",t),this.$set(this.setTypes,"totalTestNum",e)},deep:!0},updateInfo:{handler:function(){var t=0,e=0;for(var i in this.updateInfo){var a=this.updateInfo[i];t+=this.StringToNumber(a.testNum)*this.StringToNumber(a.testPrice),e+=this.StringToNumber(a.testNum)}this.totalGrade=t,this.totalNum=e},deep:!0}},created:function(){this.getSubjectListAll(),this.testId&&this.getInfoById()},methods:{getsTime1:function(t){this.listQuery.examineStartDateStr=t},getsTime2:function(t){this.listQuery.examineEndDateStr=t},publicTest:function(t){var e=this;this.listQuery.IssueStatus=t;var i=[],a=0,s=!1,n="";if(0===this.updateInfo.length){for(var l in this.setTypes)if("totalGradeNum"!==l&&"totalTestNum"!==l){var r=this.setTypes[l];r.testNum&&r.testPrice&&r.type1?(this.errorNum(r.type1,parseInt(r.testNum)),a+=parseInt(r.testNum)*parseInt(r.testPrice),i.push(r.type1+"-"+r.testNum+"-"+r.testPrice)):(n="题型设置中每组输入框都必须输入",s=!0)}this.setTypes.totalGradeNum<=0&&(n="请填写题型及分数",s=!0)}else{for(var o in this.updateInfo)if("totalGradeNum"!==o&&"totalTestNum"!==o){var c=this.updateInfo[o];c.testNum&&c.testPrice&&c.type1?(this.errorNum(c.type1,parseInt(c.testNum)),a+=parseInt(c.testNum)*parseInt(c.testPrice),i.push(c.type1+"-"+c.testNum+"-"+c.testPrice)):(n="题型设置中每组输入框都必须输入",s=!0)}this.totalGradeNum<=0&&(n="请填写题型及分数",s=!0)}if(this.errorList.length>0){for(var u="",p=0;p<this.errorList.length;p++)u+="<p>"+this.errorList[p].name+"，当前数量是"+this.errorList[p].inputnum+"，题库数量为"+this.errorList[p].originNum+"，组题量不能大于题库数量</p>";n=u,s=!0}this.listQuery.examineEndDateStr||(n="请输入考试结束时间",s=!0),this.listQuery.examineStartDateStr||(n="请输入考试开始时间",s=!0),this.listQuery.examineSubjectId||(n="请选择考试科目",s=!0),this.listQuery.examineDate||(n="请输入考试时长",s=!0),this.listQuery.examineName||(n="请输入考试名称",s=!0),this.listQuery.typeAndNum=i.join(","),this.listQuery.status=0,this.listQuery.examineAllNumber=a,s?this.$message({dangerouslyUseHTMLString:!0,message:n,type:"info",onClose:function(){e.errorList=[]}}):this.saveTestPaper(t)},errorNum:function(t,e){"1"===t&&this.testTypeList[0]<e&&this.errorList.push({type:t,name:"单选题",inputnum:e,originNum:this.testTypeList[0]}),"2"===t&&this.testTypeList[1]<e&&this.errorList.push({type:t,name:"多选题",inputnum:e,originNum:this.testTypeList[1]}),"3"===t&&this.testTypeList[2]<e&&this.errorList.push({type:t,name:"判断题",inputnum:e,originNum:this.testTypeList[2]}),"4"===t&&this.testTypeList[3]<e&&this.errorList.push({type:t,name:"填空题",inputnum:e,originNum:this.testTypeList[3]})},saveTestPaper:function(t){var e=this,i="发起考试成功！";"0"===t&&(i="保存成功！");var a=this.listQuery;this.updateId&&(a.id=this.updateId),Object(l["g"])(a).then(function(t){"0"===t.data.code?e.$message({type:"success",message:i,onClose:function(){if(e.listQuery={},e.updateInfo.length>0){for(var t in e.updateInfo)"totalGradeNum"===t&&"totalTestNum"===t||(e.$set(e.updateInfo[t],"type1",""),e.$set(e.updateInfo[t],"testNum",""),e.$set(e.updateInfo[t],"testPrice",""),e.$set(e.updateInfo[t],"disabled",!1));e.totalGradeNum=0,e.totalTestNum=0}else{for(var i in e.setTypes)"totalGradeNum"===i&&"totalTestNum"===i||(e.$set(e.setTypes[i],"type1",""),e.$set(e.setTypes[i],"testNum",""),e.$set(e.setTypes[i],"testPrice",""),e.$set(e.setTypes[i],"disabled",!1));e.$set(e.setTypes,"totalGradeNum",0),e.$set(e.setTypes,"totalTestNum",0)}}}):e.$message({type:"info",message:t.data.msg})})},getSubjectListAll:function(){var t=this;Object(l["e"])().then(function(e){t.subjectListAll=e.data.findList,t.subjectListAll.length>1&&(t.listQuery.examineSubjectId=t.subjectListAll[0].id)})},findTopicBySubId:function(){var t=this;Object(l["b"])({subjectId:this.listQuery.examineSubjectId}).then(function(e){var i=e.data.findList.type;t.typeList=[],i.map(function(e){t.typesList.map(function(i){e===i.type&&t.typeList.push(i)})})})},isNum:function(t,e,i){var a=/^[1-9]\d*$/;a.test(e)?i():i(new Error("只能输入除0以外的的正整数"))},selectType:function(t){this.$set(this.typeList[t],"disabled",!0)},cancelSelect:function(t){for(var e in this.typeList)this.setTypes[t].type===this.typeList[e].type&&this.$set(this.typeList[t],"disabled",!1)},StringToNumber:function(t){return t?parseInt(t):0},showNoPublish:function(){this.$emit("showPage","2")},getInfoById:function(){var t=this;Object(l["c"])({id:this.testId}).then(function(e){t.first=!0,t.updateId=e.data.xlglExamExamine.id,t.listQuery.examineName=e.data.xlglExamExamine.examineName,t.listQuery.examineDate=e.data.xlglExamExamine.examineDate,t.listQuery.examineStartDateStr=e.data.xlglExamExamine.examineStartDate,t.listQuery.examineEndDateStr=e.data.xlglExamExamine.examineEndDate,t.listQuery.examineSubjectId=e.data.xlglExamExamine.examineSubjectId;var i=e.data.listCount;for(var a in i){var s={};s.type1=i[a].topicType,s.testNum=i[a].typeCount,s.testPrice=i[a].fractionalNumber,t.updateInfo.push(s)}t.$nextTick(function(){t.showtestSet=!0,t.findTopicBySubId(),t.first=!1})})},getTopicNumber:function(){var t=this,e={id:this.listQuery.examineSubjectId};Object(l["f"])(e).then(function(e){var i=e.data;for(var a in t.testTypeList=[],t.errorList=[],i)t.testTypeList.push(i[a])})}}},o=r,c=(i("fc88"),i("2877")),u=Object(c["a"])(o,a,s,!1,null,"2424bb8d",null);e["default"]=u.exports},fc88:function(t,e,i){"use strict";var a=i("a344"),s=i.n(a);s.a}}]);