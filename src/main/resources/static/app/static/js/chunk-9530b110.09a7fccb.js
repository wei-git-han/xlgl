(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9530b110","chunk-f59d1412","chunk-07c26ee6","chunk-2d2311d5"],{2378:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"1400px",height:"720px"},attrs:{id:"myChinaMap"}})},i=[],l=(s("7f7f"),s("313e")),r=s.n(l),n=s("eeba"),o=s.n(n);s("3139");var c={props:{dataNum:{type:Array,default:function(){return[]}}},data:function(){return{chart:null}},watch:{dataNum:{deep:!0,handler:function(){this.initChart()}}},mounted:function(){this.$nextTick(function(){this.initChart()})},methods:{initChart:function(){var t=this;this.chart=r.a.init(this.$el,"china"),this.chart.setOption({tooltip:{trigger:"item"},selectedMode:"single",dataRange:{splitList:[{start:500,color:"#EF5366"},{start:301,end:500,color:"#F86F1A"},{start:101,end:300,color:"#53D591"},{start:1,end:100,color:"#65BBFF"},{end:1,color:"#ccc"}],textStyle:{color:"#3899FF"}},series:[{name:"人员分布情况",type:"map",zoom:1.2,map:"china",itemStyle:{normal:{label:{show:!0},color:"#53D591",areaColor:"#eff6ff"},emphasis:{label:{show:!0},areaColor:"#cbe2ff"}},showLegendSymbol:!1,roam:!0,markPoint:{data:[{coord:[116.46,39.92]}],symbolSize:[20,20],symbol:"image://".concat(o.a)},label:{normal:{show:!0},emphasis:{show:!0}},data:this.dataNum}]}),this.chart.on("click",function(e){e.value&&t.$emit("mapClick",e.name)})}}},p=c,u=s("2877"),d=Object(u["a"])(p,a,i,!1,null,null,null);e["default"]=d.exports},"2b9b":function(t,e,s){"use strict";var a=s("819a"),i=s.n(a);i.a},"2cae":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"posRel",attrs:{id:"container"}},["1"===t.showPage?s("div",[s("el-card",{staticStyle:{height:"calc(98vh - 15px)",margin:"10px"},attrs:{"body-style":{padding:"0px 10px"}}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:"first"===t.activeName,expression:"activeName === 'first'"}],staticClass:"iconRefresh",attrs:{type:"primary",size:"mini"},on:{click:t.refreshFn}},[t._v("刷新")]),t._v(" "),s("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:t.labelText,name:"first"}},[s("ul",{staticClass:"peopleNum bor-bottom",attrs:{id:"zxlRate"}},[s("li",{staticClass:"ma-b_20"},[s("p",{staticClass:"fs-30 color_default pd-t_20"},[t._v(t._s(t.userAllYx))]),t._v(" "),s("p",{staticClass:"pd-t_30"},[t._v("注册人数")])]),t._v(" "),s("el-popover",{attrs:{placement:"right",trigger:"hover","visible-arrow":t.visibleArrow}},[s("div",{staticClass:"cardTip"},[t._v(t._s("因公："+t.ygNum+"人，因私："+t.ysNum+"人"))]),t._v(" "),s("li",{staticClass:"ma-b_20",staticStyle:{cursor:"pointer","margin-left":"85px","margin-right":"85px"},attrs:{slot:"reference"},slot:"reference"},[s("p",{staticClass:"fs-30 color_orange pd-t_20"},[t._v(t._s(t.qjNum))]),t._v(" "),s("p",{staticClass:"pd-t_30"},[t._v("请假人数")])])]),t._v(" "),s("li",{staticClass:"ma-b_20"},[s("p",{staticClass:"fs-30 color_yellow pd-t_20"},[t._v(t._s(t.userShouldNumber))]),t._v(" "),s("p",{staticClass:"pd-t_30"},[t._v("应在线人数")])]),t._v(" "),s("li",{staticClass:"ma-b_20"},[s("p",{staticClass:"fs-30 color_green pd-t_20"},[t._v(t._s(t.userIdList))]),t._v(" "),s("p",{staticClass:"pd-t_30"},[t._v("在线人数")])]),t._v(" "),s("li",{staticClass:"ma-b_20"},[s("p",[s("el-progress",{attrs:{type:"circle",percentage:t.zwlv-0,"stroke-width":9,width:80}})],1),t._v(" "),s("p",{staticStyle:{"padding-top":"3px"}},[t._v("在线率")])]),t._v(" "),s("li",{staticClass:"ma-b_20"},[s("p",{staticClass:"fs-30 color_blue pd-t_20"},[t._v(t._s(t.chuJingNum))]),t._v(" "),s("p",{staticClass:"pd-t_30"},[t._v("出京人数")])]),t._v(" "),s("li",{staticClass:"ma-b_20"},[s("p",{staticClass:"fs-30 color_blue pd-t_20"},[t._v(t._s(t.otherPlacesNum))]),t._v(" "),s("p",{staticClass:"pd-t_30"},[t._v("京外人数")])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{directives:[{name:"show",rawName:"v-show",value:"1"===t.isManager||t.roleFlag,expression:"isManager === '1' || roleFlag"}],attrs:{span:3}},[s("div",{staticClass:"organTree",staticStyle:{height:"calc(72vh - 5px)"}},[s("div",{staticStyle:{height:"40px","line-height":"40px","padding-left":"15px"}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px"},attrs:{"icon-class":"mulu"}})],1),t._v(" "),s("ul",[s("el-scrollbar",{staticClass:"hidden-x",staticStyle:{height:"600px"}},t._l(t.treeList,function(e,a){return s("li",{key:a,class:[a===t.ins?"active":"pd-l_30"],attrs:{title:e.name},on:{click:function(s){return t.changeOrgan(a,e)}}},[t._v(t._s(e.name.length>10?e.name.substr(0,10):e.name))])}),0)],1)])]),t._v(" "),s("el-col",{attrs:{span:t.spanVal}},[s("el-row",[s("el-col",{attrs:{span:7}},[s("div",{staticClass:"flexCenter",staticStyle:{height:"32px"}},[s("div",{staticClass:"flexCenter"},[s("span",{staticClass:"legends",staticStyle:{background:"#53D591"}}),t._v(" "),s("span",{staticClass:"ma-l_10 fs-14"},[t._v("在线")])]),t._v(" "),s("div",{staticClass:"flexCenter ma-l_25"},[s("span",{staticClass:"legends",staticStyle:{background:"#FE8A44"}}),t._v(" "),s("span",{staticClass:"ma-l_10 fs-14"},[t._v("因私请假")])]),t._v(" "),s("div",{staticClass:"flexCenter ma-l_25"},[s("span",{staticClass:"legends",staticStyle:{background:"#65BBFF"}}),t._v(" "),s("span",{staticClass:"ma-l_10 fs-14"},[t._v("因公出差")])]),t._v(" "),s("div",{staticClass:"flexCenter ma-l_25"},[s("span",{staticClass:"legends",staticStyle:{background:"#EF5366"}}),t._v(" "),s("span",{staticClass:"ma-l_10 fs-14"},[t._v("异常")])])])]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:17}},[s("el-select",{staticClass:"filter-item",staticStyle:{"margin-left":"25px"},attrs:{placeholder:t.placeholderVal,size:"small",clearable:""},on:{change:t.screenOrgan},model:{value:t.listQuery.organId,callback:function(e){t.$set(t.listQuery,"organId",e)},expression:"listQuery.organId"}},t._l(t.organTree_list,function(t,e){return s("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"25px"},attrs:{size:"small",placeholder:"输入人员姓名",clearable:""},on:{clear:t.clearFn},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.listQuery.userName,callback:function(e){t.$set(t.listQuery,"userName",e)},expression:"listQuery.userName"}}),t._v(" "),s("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"25px"},attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px","margin-bottom":"2px"},attrs:{"icon-class":"sousuo"}}),t._v("\n                    查询\n                  ")],1),t._v(" "),s("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"25px"},attrs:{type:"primary",size:"mini"},on:{click:t.exportFn}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px","margin-bottom":"2px"},attrs:{"icon-class":"daochu"}}),t._v("\n                    导出\n                  ")],1)],1)],1),t._v(" "),s("el-row",[s("ul",{staticClass:"peopleNum bor_1_fe6",staticStyle:{padding:"10px 0"},attrs:{id:"zxlRate1"}},[s("li",[s("p",{staticClass:"fs-20 color_default pd-t_15"},[t._v(t._s(t.userAllYxJu))]),t._v(" "),s("p",{staticClass:"pd-t_15 fs-14"},[t._v("注册人数")])]),t._v(" "),s("el-popover",{attrs:{placement:"right",trigger:"hover","visible-arrow":t.visibleArrow}},[s("div",{staticClass:"cardTip"},[t._v(t._s("因公："+t.qjYgNum+"人，因私："+t.qjYsNum+"人"))]),t._v(" "),s("li",{staticStyle:{cursor:"pointer","margin-left":"90px","margin-right":"90px"},attrs:{slot:"reference"},slot:"reference"},[s("p",{staticClass:"fs-20 color_orange pd-t_15"},[t._v(t._s(t.qjNumJu))]),t._v(" "),s("p",{staticClass:"pd-t_15 fs-14"},[t._v("请假人数")])])]),t._v(" "),s("li",[s("p",{staticClass:"fs-20 color_yellow pd-t_15"},[t._v(t._s(t.userShouldNumberJu))]),t._v(" "),s("p",{staticClass:"pd-t_15 fs-14"},[t._v("应在线人数")])]),t._v(" "),s("li",[s("p",{staticClass:"fs-20 color_green pd-t_15"},[t._v(t._s(t.userIdListJu))]),t._v(" "),s("p",{staticClass:"pd-t_15 fs-14"},[t._v("在线人数")])]),t._v(" "),s("li",[s("p",[s("el-progress",{attrs:{type:"circle",percentage:t.zwlvJu-0,"stroke-width":4,width:50}})],1),t._v(" "),s("p",{staticClass:"fs-14",staticStyle:{"padding-top":"2px"}},[t._v("在线率")])]),t._v(" "),s("li",[s("p",{staticClass:"fs-20 color_blue pd-t_15"},[t._v(t._s(t.otherPlacesNumJu))]),t._v(" "),s("p",{staticClass:"pd-t_15 fs-14"},[t._v("京外人数")])])],1)]),t._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}]},[s("el-col",{staticClass:"elColStyle",attrs:{span:24}},[s("el-scrollbar",{staticClass:"hidden-x"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},t._l(t.personList1,function(e,a){return s("div",{key:a,class:[0!==a?"ma-t_20":""]},["京外军代室"!==e.name?s("div",{staticClass:"cardBox"},[s("div",{staticClass:"cardTitle"},[t._v(t._s(e.name))]),t._v(" "),s("ul",{staticClass:"flexCenter"},[s("li",[s("p",{staticClass:"color_default fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.zcrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("注册人数")])]),t._v(" "),s("li",[s("p",{staticClass:"color_yellow fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.yzxrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("应在线人数")])]),t._v(" "),s("li",[s("p",{staticClass:"color_green fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.zxrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("在线人数")])])]),t._v(" "),s("el-row",{attrs:{gutter:20}},t._l(e.list,function(e,a){return s("el-col",{key:a,class:[a>2?"ma-t_10":""],attrs:{span:8}},[s("div",[s("el-popover",{attrs:{placement:"bottom-start",width:"250","visible-arrow":t.visibleArrow,trigger:"hover"}},[s("div",{staticClass:"cardTip"},[s("p",[s("span",{staticClass:"fs-14_default"},[t._v("姓       名：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.fullname?e.fullname:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("在线状态：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.status?e.status:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("部 职 别：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.post?e.post:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("手 机 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.mobile?e.mobile:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("房 间 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.address?e.address:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("座 机 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.telephone?e.telephone:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("应       休：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJtotalDays?e.qXJtotalDays:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("已       休：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJxiuJiaDays?e.qXJxiuJiaDays:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("当前所在省市：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJcities?e.qXJcities:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("具体位置：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJaddress?e.qXJaddress:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("事       由：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJmatters?e.qXJmatters:"--"))])])]),t._v(" "),s("div",{class:["btnStyle","color"+e.isShow,"1"===e.isSelect?"selectStyle":""],attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.fullname))])])],1)])}),1)],1):s("div",{staticClass:"cardBox"},[t.showEdit?s("div",[s("div",{staticClass:"cardTitle",staticStyle:{overflow:"hidden"}},[s("span",{staticStyle:{float:"left"}},[t._v(t._s(e.name))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"1"===e.updateState,expression:"item.updateState === '1'"}],staticStyle:{float:"right",color:"#00F"},on:{click:function(s){return t.showEditInfo(e)}}},[t._v("编辑")])]),t._v(" "),s("div",{staticStyle:{height:"30px","line-height":"30px",color:"#ccc"}},[s("span",[t._v("更新日期：")]),t._v(" "),s("span",[t._v(t._s(e.updateDate))])]),t._v(" "),s("ul",{staticClass:"newAddInfo"},[s("li",[s("div",[s("span",[t._v("注册人数：")]),t._v(" "),s("span",[t._v(t._s(e.registerNumber))])]),t._v(" "),s("div",[s("span",[t._v("应在位人数：")]),t._v(" "),s("span",[t._v(t._s(e.answerReignNumber))])])]),t._v(" "),s("li",[s("div",[s("span",[t._v("实际在位人数：")]),t._v(" "),s("span",[t._v(t._s(e.reignNumber))])]),t._v(" "),s("div",[s("span",[t._v("出差人数：")]),t._v(" "),s("span",[t._v(t._s(e.evectionNumber))])])]),t._v(" "),s("li",[s("div",[s("span",[t._v("请假人数：")]),t._v(" "),s("span",[t._v(t._s(e.leaveNumber))])])])])]):s("div",[s("div",{staticClass:"cardTitle",staticStyle:{"margin-bottom":"15px"}},[t._v(t._s(e.name))]),t._v(" "),s("ul",{staticClass:"newAddInfo"},[s("li",[s("div",[s("span",[t._v("注册人数：")]),t._v(" "),s("el-input",{staticStyle:{width:"80px"},attrs:{size:"mini",oninput:"value=value.replace(/\\D/g, '')"},model:{value:t.editInfo.registerNumber,callback:function(e){t.$set(t.editInfo,"registerNumber",e)},expression:"editInfo.registerNumber"}})],1),t._v(" "),s("div",[s("span",[t._v("应在位人数：")]),t._v(" "),s("el-input",{staticStyle:{width:"80px"},attrs:{size:"mini",oninput:"value=value.replace(/\\D/g, '')"},model:{value:t.editInfo.answerReignNumber,callback:function(e){t.$set(t.editInfo,"answerReignNumber",e)},expression:"editInfo.answerReignNumber"}})],1)]),t._v(" "),s("li",[s("div",[s("span",[t._v("实际在位人数：")]),t._v(" "),s("el-input",{staticStyle:{width:"80px"},attrs:{size:"mini",oninput:"value=value.replace(/\\D/g, '')"},model:{value:t.editInfo.reignNumber,callback:function(e){t.$set(t.editInfo,"reignNumber",e)},expression:"editInfo.reignNumber"}})],1),t._v(" "),s("div",[s("span",[t._v("出差人数：")]),t._v(" "),s("el-input",{staticStyle:{width:"80px"},attrs:{size:"mini",oninput:"value=value.replace(/\\D/g, '')"},model:{value:t.editInfo.evectionNumber,callback:function(e){t.$set(t.editInfo,"evectionNumber",e)},expression:"editInfo.evectionNumber"}})],1)]),t._v(" "),s("li",[s("div",[s("span",[t._v("请假人数：")]),t._v(" "),s("el-input",{staticStyle:{width:"80px"},attrs:{size:"mini",oninput:"value=value.replace(/\\D/g, '')"},model:{value:t.editInfo.leaveNumber,callback:function(e){t.$set(t.editInfo,"leaveNumber",e)},expression:"editInfo.leaveNumber"}})],1)])]),t._v(" "),s("div",{staticStyle:{color:"#FF4949","font-size":"12px",margin:"10px 0"}},[t._v(t._s(t.errorTip))]),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{size:"mini",type:"primary",disabled:t.isDisable},on:{click:t.editorFn}},[t._v("确定")]),t._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:t.cancleFn}},[t._v("取消")])],1)])])])}),0),t._v(" "),s("el-col",{attrs:{span:8}},t._l(t.personList2,function(e,a){return s("div",{key:a,class:[0!==a?"ma-t_20":""]},[s("div",{staticClass:"cardBox"},[s("div",{staticClass:"cardTitle"},[t._v(t._s(e.name))]),t._v(" "),s("ul",{staticClass:"flexCenter"},[s("li",[s("p",{staticClass:"color_default fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.zcrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("注册人数")])]),t._v(" "),s("li",[s("p",{staticClass:"color_yellow fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.yzxrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("应在线人数")])]),t._v(" "),s("li",[s("p",{staticClass:"color_green fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.zxrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("在线人数")])])]),t._v(" "),s("el-row",{attrs:{gutter:20}},t._l(e.list,function(e,a){return s("el-col",{key:a,class:[a>2?"ma-t_10":""],attrs:{span:8}},[s("div",[s("el-popover",{attrs:{placement:"bottom-start",width:"250","visible-arrow":t.visibleArrow,trigger:"hover"}},[s("div",{staticClass:"cardTip"},[s("p",[s("span",{staticClass:"fs-14_default"},[t._v("姓       名：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.fullname?e.fullname:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("在线状态：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.status?e.status:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("部 职 别：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.post?e.post:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("手 机 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.mobile?e.mobile:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("房 间 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.address?e.address:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("座 机 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.telephone?e.telephone:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("应       休：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJtotalDays?e.qXJtotalDays:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("已       休：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJxiuJiaDays?e.qXJxiuJiaDays:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("当前所在省市：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJcities?e.qXJcities:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("具体位置：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJaddress?e.qXJaddress:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("事       由：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJmatters?e.qXJmatters:"--"))])])]),t._v(" "),s("div",{class:["btnStyle","color"+e.isShow,"1"===e.isSelect?"selectStyle":""],attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.fullname))])])],1)])}),1)],1)])}),0),t._v(" "),s("el-col",{attrs:{span:8}},t._l(t.personList3,function(e,a){return s("div",{key:a,class:[0!==a?"ma-t_20":""]},[s("div",{staticClass:"cardBox"},[s("div",{staticClass:"cardTitle"},[t._v(t._s(e.name))]),t._v(" "),s("ul",{staticClass:"flexCenter"},[s("li",[s("p",{staticClass:"color_default fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.zcrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("注册人数")])]),t._v(" "),s("li",[s("p",{staticClass:"color_yellow fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.yzxrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("应在线人数")])]),t._v(" "),s("li",[s("p",{staticClass:"color_green fs-20",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.zxrs))]),t._v(" "),s("p",{staticClass:"fs-14"},[t._v("在线人数")])])]),t._v(" "),s("el-row",{attrs:{gutter:20}},t._l(e.list,function(e,a){return s("el-col",{key:a,class:[a>2?"ma-t_10":""],attrs:{span:8}},[s("div",[s("el-popover",{attrs:{placement:"bottom-start",width:"250","visible-arrow":t.visibleArrow,trigger:"hover"}},[s("div",{staticClass:"cardTip"},[s("p",[s("span",{staticClass:"fs-14_default"},[t._v("姓       名：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.fullname?e.fullname:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("在线状态：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.status?e.status:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("部 职 别：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.post?e.post:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("手 机 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.mobile?e.mobile:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("房 间 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.address?e.address:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("座 机 号：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.telephone?e.telephone:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("应       休：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJtotalDays?e.qXJtotalDays:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("已       休：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJxiuJiaDays?e.qXJxiuJiaDays:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("当前所在省市：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJcities?e.qXJcities:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("具体位置：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJaddress?e.qXJaddress:"--"))])]),t._v(" "),s("p",[s("span",{staticClass:"fs-14_default"},[t._v("事       由：")]),s("span",{staticClass:"fs-14_fe"},[t._v(t._s(e.qXJmatters?e.qXJmatters:"--"))])])]),t._v(" "),s("div",{class:["btnStyle","color"+e.isShow,"1"===e.isSelect?"selectStyle":""],attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.fullname))])])],1)])}),1)],1)])}),0)],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("el-tab-pane",{attrs:{label:"各地区人员分布情况",name:"second"}},[s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading1,expression:"listLoading1"}],attrs:{gutter:20}},[s("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:20}},[s("el-row",{attrs:{id:"mapOrganTree"}},[s("el-form",{attrs:{model:t.tempForm,"label-position":"left","label-width":"100px"}},[s("el-col",{attrs:{span:4}},[s("el-form-item",[s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",placeholder:"请选择日期"},on:{change:t.getDate},model:{value:t.tempForm.chooseDate,callback:function(e){t.$set(t.tempForm,"chooseDate",e)},expression:"tempForm.chooseDate"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-form-item",[s("el-popover",{attrs:{placement:"bottom-start",width:"400",trigger:"click"},model:{value:t.showUserTree,callback:function(e){t.showUserTree=e},expression:"showUserTree"}},[s("el-scrollbar",{staticClass:"hidden-x",staticStyle:{height:"400px"}},[s("el-tree",{ref:"userTree",attrs:{data:t.mapTreeData,props:t.defaultProps,"node-key":"id","default-expanded-keys":["root"]},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),s("el-input",{attrs:{slot:"reference",size:"small",clearable:"",placeholder:t.placeholderVal1},on:{clear:t.clearNode},slot:"reference",model:{value:t.tempForm.depetName,callback:function(e){t.$set(t.tempForm,"depetName",e)},expression:"tempForm.depetName"}})],1)],1)],1)],1)],1),t._v(" "),s("el-row",[s("map-labels",{attrs:{"data-num":t.dataNum},on:{mapClick:t.mapClick}})],1)],1),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"organTree posRel",staticStyle:{height:"calc(90vh - 5px)"}},[s("div",{staticClass:"exportTitle"},[s("div",{staticClass:"flexCenter",staticStyle:{height:"100%"}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px"},attrs:{"icon-class":"mulu"}}),t._v(" "),s("span",{staticStyle:{"margin-left":"15px"}},[t._v("人员分布清单")])],1),t._v(" "),s("svg-icon",{staticClass:"icon",staticStyle:{width:"17px",height:"17px",cursor:"pointer"},attrs:{"icon-class":"daochulan",title:"导出"},on:{click:t.iconExport}})],1),t._v(" "),s("div",{staticStyle:{padding:"0 0 10px 42px"}},[t._v("总人数："+t._s(t.totalNum?t.totalNum:0)+"人")]),t._v(" "),t.mapTreeList.length>0?s("ul",[s("li",{staticStyle:{color:"#2280E5",background:"#C1DBFC",padding:"0 10px 0 20px"}},[s("span",{staticStyle:{float:"left"}},[t._v("地区")]),t._v(" "),s("span",{staticStyle:{float:"right"}},[t._v("人次")])]),t._v(" "),s("el-scrollbar",{staticClass:"hidden-x",staticStyle:{height:"720px"}},t._l(t.mapTreeList,function(e,a){return s("li",{key:a,staticClass:"platNum",on:{click:function(s){return t.toPlatList(e)}}},[s("span",{class:"北京"===e.plat?"color_red":"",staticStyle:{float:"left"},attrs:{title:e.plat}},[t._v(t._s(e.plat.length>5?e.plat.substr(0,5):e.plat))]),t._v(" "),s("span",{class:"北京"===e.plat?"color_red":"",staticStyle:{float:"right"}},[t._v(t._s(e.number))])])}),0)],1):s("div",{staticStyle:{height:"60px","line-height":"60px","text-align":"center",color:"#909399"}},[t._v("暂无数据")])])])],1)],1)],1)],1)],1):"2"===t.showPage?s("div",[s("depart",{attrs:{id:t.platJuName,checkDate:t.checkDate,checkJuName:t.checkJuName,checkJuId:t.checkJuId},on:{back:t.backList}})],1):t._e()])},i=[],l=(s("c5f6"),s("ac6a"),s("7f7f"),s("6b54"),s("f576"),s("d91d")),r=s("2378"),n=s("c03e"),o={name:"PersonIndex",components:{depart:l["default"],mapLabels:r["default"]},data:function(){return{showPage:"1",labelText:"全局人员在线情况",activeName:"first",treeList:[],mapTreeList:[],dataNum:[],personList1:[],personList2:[],personList3:[],isManager:this.$store.state.user.userInfo.adminFlag,roleFlag:this.$store.state.user.userInfo.roleFlag,listQuery:{parentId:"",organId:"",userName:""},form:{chooseDate:"",organId:"",userName:""},ins:0,treeParams:{status:"0",organId:""},listLoading:!1,listLoading1:!1,userAllYx:"",userShouldNumber:"",userIdList:"",zwlv:0,qjNum:"",otherPlacesNum:"",chuJingNum:"",userAllYxJu:"",ygNum:"",ysNum:"",userShouldNumberJu:"",userIdListJu:"",zwlvJu:0,qjNumJu:"",qjYsNum:"",qjYgNum:"",otherPlacesNumJu:"",organTree_list:[],juId:"",spanVal:21,mapTreeData:[],defaultProps:{children:"children",label:"text"},showUserTree:!1,tempForm:{chooseDate:this.getNowTime(),depetName:"",depetId:""},platJuName:"",checkDate:"",checkJuName:"",checkJuId:"",visibleArrow:!1,month:"",date:"",placeholderVal:"",placeholderVal1:"",showEdit:!0,editInfo:{registerNumber:"",answerReignNumber:"",reignNumber:"",evectionNumber:"",leaveNumber:""},totalNum:"",errorTip:"",isDisable:!1}},watch:{activeName:function(t){"second"===t&&(this.getPlatNumber(),this.mapOrganTree())}},created:function(){this.organTreeList(),this.getStatistics(),"1"===this.isManager||this.roleFlag?this.spanVal=21:this.spanVal=24,"1"===this.isManager||this.roleFlag?this.labelText="全局人员在线情况":this.labelText="".concat(this.$store.state.user.userInfo.juName,"人员在线情况"),"1"===this.isManager||this.roleFlag?this.placeholderVal1="装备发展部":this.placeholderVal1=this.$store.state.user.userInfo.juName},methods:{getNowTime:function(){var t=new Date,e=t.getFullYear(),s=t.getMonth(),a=t.getDate();return this.month=s+1,this.month=this.month.toString().padStart(2,"0"),this.date=a.toString().padStart(2,"0"),"".concat(e,"-").concat(this.month,"-").concat(this.date)},refreshFn:function(){Object(n["l"])().then(function(t){}),this.juId="",this.listQuery.parentId="",this.ins=0,this.organTreeList(),this.getStatistics()},organTreeList:function(){var t=this;Object(n["h"])().then(function(e){t.treeList=e.data,t.qxjUserInfoList(),"1"===t.isManager||t.roleFlag?(t.juId=e.data[0].id,t.listQuery.parentId=e.data[0].id):(t.juId=t.$store.state.user.userInfo.juId,t.listQuery.parentId=t.$store.state.user.userInfo.juId),"1"===t.isManager||t.roleFlag?t.placeholderVal=e.data[0].name:t.placeholderVal=t.$store.state.user.userInfo.juName,t.organTreeListALL(t.juId),t.getStatisticsByDept(t.listQuery.parentId)})},getStatistics:function(){var t=this;Object(n["d"])(this.treeParams).then(function(e){if(500!==e.data.code&&e.data){var s=e.data,a=s.userAllYx,i=s.userShouldNumber,l=s.userIdList,r=s.zwlv,n=s.qjNum,o=s.otherPlacesNum,c=s.chuJingNum,p=s.ygNum,u=s.ysNum;Object.assign(t,{userAllYx:a,userShouldNumber:i,userIdList:l,zwlv:r,qjNum:n,otherPlacesNum:o,chuJingNum:c,ygNum:p,ysNum:u})}else t.zwlv=0})},getStatisticsByDept:function(t){var e=this;Object(n["e"])({organId:t}).then(function(t){if(500!==t.data.code&&t.data){var s=t.data,a=s.userAllYx,i=s.userShouldNumber,l=s.userIdList,r=s.zwlv,n=s.qjNum,o=s.otherPlacesNum,c=s.ygNum,p=s.ysNum;Object.assign(e,{userAllYxJu:a,userShouldNumberJu:i,userIdListJu:l,zwlvJu:r,qjNumJu:n,otherPlacesNumJu:o,qjYsNum:p,qjYgNum:c})}else e.zwlvJu=0})},qxjUserInfoList:function(){var t=this;this.personList1=[],this.personList2=[],this.personList3=[],this.listLoading=!0,Object(n["k"])(this.listQuery).then(function(e){e.data&&e.data.list&&e.data.list.forEach(function(e,s){s%3===0?t.personList1.push(e):s%3===1?t.personList2.push(e):s%3===2&&t.personList3.push(e)}),e.data&&e.data.baseAppOrgPeoplemanagement&&t.personList1.push(e.data.baseAppOrgPeoplemanagement),console.log(t.personList1),setTimeout(function(){t.listLoading=!1},100)})},organTreeListALL:function(t){var e=this;Object(n["i"])({organId:t}).then(function(t){e.organTree_list=t.data.list})},getPlatNumber:function(){var t=this;this.listLoading1=!0;var e={parentId:"1"===this.isManager||this.roleFlag?"":this.$store.state.user.userInfo.juId,organId:this.tempForm.depetId,timeStr:this.tempForm.chooseDate};Object(n["c"])(e).then(function(e){t.dataNum=[],t.mapTreeList=e.data.list,t.totalNum=e.data.totalNum,e.data.list.forEach(function(e,s){t.dataNum.push({name:e.plat,value:e.number})}),setTimeout(function(){t.listLoading1=!1},100)})},mapOrganTree:function(){var t=this;Object(n["g"])().then(function(e){t.mapTreeData=e.data.children})},changeOrgan:function(t,e){this.ins=t,this.listQuery.parentId=e.id,this.listQuery.organId="",this.placeholderVal=e.name,this.qxjUserInfoList(),this.organTreeListALL(e.id),this.getStatisticsByDept(e.id)},screenOrgan:function(t){this.listQuery.organId=t,this.qxjUserInfoList()},clearFn:function(){this.qxjUserInfoList()},searchFn:function(){this.qxjUserInfoList()},exportFn:function(){window.location.href="/app/xlgl/peopleManagement/export?status="+("1"===this.isManager||this.roleFlag?"0":"1")+"&organId="+this.listQuery.parentId+"&access_token="+this.$store.state.user.token},iconExport:function(){window.location.href="/app/xlgl/peopleManagementNew/exportPlatAndNumber?parentId="+("1"===this.isManager||this.roleFlag?"":this.$store.state.user.userInfo.juId)+"&timeStr="+this.tempForm.chooseDate+"&access_token="+this.$store.state.user.token},backList:function(t){this.showPage=t},handleNodeClick:function(t){this.tempForm.depetId=t.id,this.tempForm.depetName=t.text,this.showUserTree=!1,this.getPlatNumber()},clearNode:function(){this.tempForm.depetId="",this.getPlatNumber()},getDate:function(t){this.tempForm.chooseDate=t,this.getPlatNumber()},toPlatList:function(t){this.platJuName=t.plat,this.checkDate=this.tempForm.chooseDate,this.checkJuName=this.tempForm.depetName,this.checkJuId=this.tempForm.depetId,this.showPage="2"},mapClick:function(t){this.platJuName=t,this.checkDate=this.tempForm.chooseDate,this.checkJuName=this.tempForm.depetName,this.checkJuId=this.tempForm.depetId,this.showPage="2"},showEditInfo:function(t){this.showEdit=!1,this.editInfo=t},editorFn:function(){var t=this;if(this.editInfo.answerReignNumber>this.editInfo.registerNumber)return this.errorTip="应在位人数不能大于注册人数，请重新输入",!1;if(this.errorTip="",this.editInfo.reignNumber>this.editInfo.registerNumber)return this.errorTip="实际在位人数不能大于注册人数，请重新输入",!1;if(this.errorTip="",this.editInfo.evectionNumber>this.editInfo.registerNumber)return this.errorTip="出差人数不能大于注册人数，请重新输入",!1;if(this.errorTip="",this.editInfo.leaveNumber>this.editInfo.registerNumber)return this.errorTip="请假人数不能大于注册人数，请重新输入",!1;if(this.errorTip="",Number(this.editInfo.answerReignNumber)+Number(this.editInfo.evectionNumber)+Number(this.editInfo.leaveNumber)>Number(this.editInfo.registerNumber))return this.errorTip="注册人数应大于等于应在位人数+出差人数+请假人数",!1;this.errorTip="";var e={registerNumber:this.editInfo.registerNumber,answerReignNumber:this.editInfo.answerReignNumber,reignNumber:this.editInfo.reignNumber,evectionNumber:this.editInfo.evectionNumber,leaveNumber:this.editInfo.leaveNumber,id:this.editInfo.id};Object(n["a"])(e).then(function(e){e.data.msg&&"success"===e.data.msg?(t.$notify({title:"提示",message:"保存成功！",duration:1500,type:"success"}),t.showEdit=!0,t.qxjUserInfoList()):(t.$notify({title:"提示",message:"保存失败！",duration:1500,type:"warning"}),t.showEdit=!0,t.qxjUserInfoList())})},cancleFn:function(){this.showEdit=!0,this.qxjUserInfoList()}}},c=o,p=(s("2b9b"),s("a02e"),s("2877")),u=Object(p["a"])(c,a,i,!1,null,"aa4e2c0a",null);e["default"]=u.exports},"2e08":function(t,e,s){var a=s("9def"),i=s("9744"),l=s("be13");t.exports=function(t,e,s,r){var n=String(l(t)),o=n.length,c=void 0===s?" ":String(s),p=a(e);if(p<=o||""==c)return n;var u=p-o,d=i.call(c,Math.ceil(u/c.length));return d.length>u&&(d=d.slice(0,u)),r?d+n:n+d}},"3d7e":function(t,e,s){"use strict";var a=s("dda8"),i=s.n(a);i.a},"76c0":function(t,e,s){},"819a":function(t,e,s){},9744:function(t,e,s){"use strict";var a=s("4588"),i=s("be13");t.exports=function(t){var e=String(i(this)),s="",l=a(t);if(l<0||l==1/0)throw RangeError("Count can't be negative");for(;l>0;(l>>>=1)&&(e+=e))1&l&&(s+=e);return s}},a02e:function(t,e,s){"use strict";var a=s("76c0"),i=s.n(a);i.a},c03e:function(t,e,s){"use strict";s.d(e,"f",function(){return i}),s.d(e,"b",function(){return l}),s.d(e,"k",function(){return r}),s.d(e,"h",function(){return n}),s.d(e,"d",function(){return o}),s.d(e,"i",function(){return c}),s.d(e,"g",function(){return p}),s.d(e,"j",function(){return u}),s.d(e,"c",function(){return d}),s.d(e,"l",function(){return _}),s.d(e,"e",function(){return h}),s.d(e,"a",function(){return v});var a=s("b775");function i(t){return Object(a["a"])({url:"/app/xlgl/peopleManagement/statistics",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/app/xlgl/peopleManagement/list",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/app/xlgl/peopleManagement/qxjUserInfoList",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/app/xlgl/peopleManagementNew/organTreeList",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/app/xlgl/peopleManagement/statistics",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/app/xlgl/peopleManagementNew/organTreeListALL",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/app/xlgl/peopleManagementNew/organTree",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/app/xlgl/peopleManagementNew/platList",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/app/xlgl/peopleManagementNew/getPlatNumber",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/app/xlgl/syncPeople/shuaxin",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/app/xlgl/peopleManagement/getStatisticsByDept",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/app/xlgl/baseapporgpeoplemanagement/update",method:"post",data:t})}},d91d:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"posRel"},[s("el-card",{staticStyle:{height:"calc(98vh - 15px)",margin:"10px"},attrs:{"body-style":{padding:"0px 10px"}}},[s("title-card",{attrs:{"title-text":"各地区人员分布情况"}}),t._v(" "),s("el-button",{staticClass:"iconBack",attrs:{size:"mini"},on:{click:t.goBack}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px","margin-bottom":"2px"},attrs:{"icon-class":"goback"}}),t._v("\n      返回上一级\n    ")],1),t._v(" "),s("el-row",{staticClass:"ma-t_20",attrs:{gutter:20}},[s("el-col",{attrs:{span:3}},[s("div",{staticClass:"organTree"},[s("div",{staticStyle:{height:"40px","line-height":"40px","padding-left":"15px"}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px"},attrs:{"icon-class":"mulu"}})],1),t._v(" "),t.mapTreeList.length>0?s("ul",[s("el-scrollbar",{staticClass:"hidden-x",staticStyle:{height:"720px"}},t._l(t.mapTreeList,function(e,a){return s("li",{key:a,class:[a===t.ins?"active":"pd-l_30"],on:{click:function(s){return t.changeOrgan(e,a)}}},[t._v(t._s(e.plat.length>5?e.plat.substr(0,5):e.plat))])}),0)],1):s("div",{staticStyle:{height:"60px","line-height":"60px","text-align":"center",color:"#909399"}},[t._v("暂无数据")])])]),t._v(" "),s("el-col",{attrs:{span:21}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"recordNum"},[t._v("共查询到"),s("span",[t._v(t._s(t.recordNum))]),t._v("条人员记录")])]),t._v(" "),s("el-col",{attrs:{span:18}},[s("el-row",[s("el-form",{attrs:{model:t.listQuery,"label-position":"left","label-width":"100px"}},[s("el-col",{attrs:{span:6}},[s("el-date-picker",{attrs:{type:"date",size:"small",placeholder:"请选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.getDate},model:{value:t.listQuery.timeStr,callback:function(e){t.$set(t.listQuery,"timeStr",e)},expression:"listQuery.timeStr"}})],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-popover",{attrs:{placement:"bottom-start",width:"400",trigger:"click"},model:{value:t.showUserTree,callback:function(e){t.showUserTree=e},expression:"showUserTree"}},[s("el-scrollbar",{staticClass:"hidden-x",staticStyle:{height:"400px"}},[s("el-tree",{ref:"userTree",attrs:{data:t.mapTreeData,props:t.defaultProps,"node-key":"id","default-expanded-keys":["root"]},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),s("el-input",{staticStyle:{width:"200px"},attrs:{slot:"reference",size:"small",clearable:"",placeholder:t.placeholderVal},on:{clear:t.clearNode},slot:"reference",model:{value:t.listQuery.organName,callback:function(e){t.$set(t.listQuery,"organName",e)},expression:"listQuery.organName"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"输入人员姓名",clearable:""},on:{clear:t.clearFn},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.listQuery.userName,callback:function(e){t.$set(t.listQuery,"userName",e)},expression:"listQuery.userName"}})],1)],1),t._v(" "),s("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"25px"},attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px","margin-bottom":"2px"},attrs:{"icon-class":"sousuo"}}),t._v("\n                查询\n              ")],1),t._v(" "),s("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"25px"},attrs:{type:"primary",size:"mini"},on:{click:t.exportFn}},[s("svg-icon",{staticClass:"icon",staticStyle:{width:"18px",height:"13px","margin-bottom":"2px"},attrs:{"icon-class":"daochu"}}),t._v("\n                导出\n              ")],1)],1)],1)],1),t._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ma-t_20",attrs:{data:t.tableList,border:"",fit:"",stripe:"","header-cell-style":{fontSize:"16px",color:"#333"},"highlight-current-rowstyle":"width: 100%;",height:"730"}},[s("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{label:"人员姓名",align:"center",prop:"userName"}}),t._v(" "),s("el-table-column",{attrs:{label:"单位名称",align:"center",prop:"deptName"}}),t._v(" "),s("el-table-column",{attrs:{label:"部门名称",align:"center",prop:"organName"}}),t._v(" "),s("el-table-column",{attrs:{label:"联系电话",align:"center",prop:"phone"}}),t._v(" "),s("el-table-column",{attrs:{label:"当前位置",align:"center",prop:"location"}}),t._v(" "),s("el-table-column",{attrs:{label:"详细位置",align:"center",prop:"address"}}),t._v(" "),s("el-table-column",{attrs:{label:"在位状态",align:"center",prop:"status"}}),t._v(" "),s("el-table-column",{attrs:{label:"事由说明",align:"center",prop:"origin"}})],1)],1)],1)],1)],1)},i=[],l=(s("ac6a"),s("35b7")),r=s("c03e"),n={name:"PersonStatusJu",components:{TitleCard:l["a"]},props:{id:{type:String,default:""},checkDate:{type:String,default:""},checkJuId:{type:String,default:""},checkJuName:{type:String,default:""}},data:function(){return{mapTreeList:[],ins:0,listQuery:{userName:"",timeStr:"",organId:"",organName:""},isManager:this.$store.state.user.userInfo.adminFlag,roleFlag:this.$store.state.user.userInfo.roleFlag,recordNum:"",listLoading:!1,tableList:[],showUserTree:!1,mapTreeData:[],defaultProps:{children:"children",label:"text"},placeholderVal:"",province:"",newArray:[]}},created:function(){this.listQuery.timeStr=this.checkDate,this.province=this.id,this.checkJuId?this.listQuery.organId=this.checkJuId:this.listQuery.organId="",this.checkJuName?this.listQuery.organName=this.checkJuName:this.placeholderVal="1"===this.isManager||this.roleFlag?"装备发展部":this.$store.state.user.userInfo.juName,this.getPlatNumber(),this.mapOrganTree()},methods:{getPlatNumber:function(){var t=this,e={parentId:"1"===this.isManager||this.roleFlag?"":this.$store.state.user.userInfo.juId,organId:this.listQuery.organId,timeStr:this.listQuery.timeStr};Object(r["c"])(e).then(function(e){t.mapTreeList=e.data.list,t.newArray=[],e.data.list.forEach(function(e,s){t.province===e.plat&&(t.ins=s),t.newArray.push(e.plat)}),t.province&&t.newArray.indexOf(t.province)<0&&(t.$confirm("".concat(t.listQuery.timeStr).concat(t.province,"暂无人员分布，当前显示").concat(t.listQuery.timeStr,"人员分布情况"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,showClose:!1,center:!0}),t.province=t.newArray[0],t.ins=0),t.platList()})},platList:function(){var t=this;this.listLoading=!0;var e={parentId:"1"===this.isManager||this.roleFlag?"":this.$store.state.user.userInfo.juId,userName:this.listQuery.userName,timeStr:this.listQuery.timeStr,organId:this.listQuery.organId,province:this.province};Object(r["j"])(e).then(function(e){t.tableList=e.data.list,t.recordNum=e.data.list.length,setTimeout(function(){t.listLoading=!1},100)})},mapOrganTree:function(){var t=this;Object(r["g"])().then(function(e){t.mapTreeData=e.data.children})},handleNodeClick:function(t){this.listQuery.organId=t.id,this.listQuery.organName=t.text,this.showUserTree=!1,this.getPlatNumber()},clearNode:function(){this.listQuery.organId="",this.getPlatNumber(),this.placeholderVal="1"===this.isManager||this.roleFlag?"装备发展部":this.$store.state.user.userInfo.juName},clearFn:function(){this.getPlatNumber()},getDate:function(t){this.listQuery.timeStr=t,this.getPlatNumber()},goBack:function(){this.$emit("back","1")},changeOrgan:function(t,e){this.ins=e,this.province=t.plat,this.getPlatNumber()},searchFn:function(){this.getPlatNumber()},exportFn:function(){window.location.href="/app/xlgl/peopleManagementNew/exportPlat?parentId="+("1"===this.isManager||this.roleFlag?"":this.$store.state.user.userInfo.juId)+"&province="+this.province+"&timeStr="+this.listQuery.timeStr+"&access_token="+this.$store.state.user.token}}},o=n,c=(s("3d7e"),s("2877")),p=Object(c["a"])(o,a,i,!1,null,"338b08f8",null);e["default"]=p.exports},dda8:function(t,e,s){},eeba:function(t,e,s){t.exports=s.p+"static/img/beijing.0d44ada8.svg"},f576:function(t,e,s){"use strict";var a=s("5ca1"),i=s("2e08"),l=s("a25f"),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(l);a(a.P+a.F*r,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})}}]);