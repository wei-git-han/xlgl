(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28d31c7e"],{5921:function(t,e,i){},6237:function(t,e,i){"use strict";i.d(e,"f",function(){return l}),i.d(e,"b",function(){return s}),i.d(e,"h",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"c",function(){return p}),i.d(e,"e",function(){return c}),i.d(e,"g",function(){return u}),i.d(e,"j",function(){return m}),i.d(e,"i",function(){return d});var a=i("b775");function l(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/list",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/view/examine",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/app/xlgl/xlglexamanswer/saveBatch",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/conutInto",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/app/xlgl/xlglexammainanswer/list",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/examineTotal",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/topicTypeCount",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexaminemakeup/save",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/app/xlgl/xlglexamexamine/saveOrUpdate",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/app/xlgl/xlglexamanswer/saveBatchLIANXI",method:"post",data:t})}},"8ff4":function(t,e,i){"use strict";var a=i("5921"),l=i.n(a);l.a},b3c3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1",staticStyle:{"background-color":"#ffffff",height:"100%",overflow:"auto"}},[i("div",{staticClass:"borderB",staticStyle:{position:"relative",padding:"0 60px","padding-top":"30px"}},[i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.list.xlglExamExamine.examineName)+"\n    ")]),t._v(" "),i("div",{staticClass:"infoDiv"},[i("span",[t._v("姓名："+t._s(t.username1))]),t._v(" "),i("span",[t._v("时间："+t._s(t._f("parseTime")(new Date,"{y}-{m}-{d} {h}:{i}")))]),t._v(" "),i("span",[t._v("单位："+t._s(t.useDepart1))]),t._v(" "),i("span",{staticClass:"rightP"},[t._v("倒计时：\n        "),t._v("\n        "+t._s(t.dataTime)+"\n      ")]),t._v(" "),i("el-button",{staticClass:"rightP",attrs:{type:"primary",size:"mini"},on:{click:t.saveBatch}},[t._v("交卷")])],1)],1),t._v(" "),i("div",{staticClass:"testDiv"},t._l(t.list.topicCount,function(e,a){return i("div",{key:a},[t.list.listType1&&t.list.listType1.length>0&&"1"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、单选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType1,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),t._l(e.pictureColumn.split(","),function(a,l){return i("el-col",{key:l,staticClass:"paper-col",attrs:{span:24/e.pictureColumn.split(",").length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+a}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(l+1))])])}),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{staticStyle:{width:"100%"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item.reply"}},t._l(e.topicOptionMap,function(a,l){return i("el-radio",{key:l,staticStyle:{width:"25%","margin-right":"0"},attrs:{label:l}},[t._v(t._s(l)+"、"+t._s(a)),i("br"),e.map&&e.map[l]?i("img",{staticClass:"paper2Image",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e.map[l]}}):t._e()])}),1)],1)],2)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&"2"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、多选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType2,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),t._l(t.item.pictureColumn.split(","),function(e,a){return i("el-col",{key:a,staticClass:"paper-col",attrs:{span:24/t.item.pictureColumn.split(",").length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(a+1))])])}),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-checkbox-group",{staticStyle:{width:"100%"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item2.reply"}},t._l(e.topicOptionMap,function(e,a){return i("el-checkbox",{key:a,attrs:{label:a}},[t._v(t._s(a)+"、"+t._s(e)),i("br"),t.item.map&&t.item.map[a]?i("img",{staticClass:"paper2Image",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+t.item.map[a]}}):t._e()])}),1)],1)],2)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&"3"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、判断题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType3,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),t._l(t.item.pictureColumn.split(","),function(e,a){return i("el-col",{key:a,staticClass:"paper-col",attrs:{span:24/t.item.pictureColumn.split(",").length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(a+1))])])}),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item3.reply"}},[i("el-radio",{attrs:{label:"对"}},[t._v("正确")]),t._v(" "),i("el-radio",{attrs:{label:"错"}},[t._v("错误")])],1)],1)],2)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&"4"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、填空题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType4,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),t._l(t.item.pictureColumn.split(","),function(e,a){return i("el-col",{key:a,staticClass:"paper-col",attrs:{span:24/t.item.pictureColumn.split(",").length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(a+1))])])}),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item4.reply"}})],1)],2)})],2):t._e(),t._v(" "),t.list.listType5&&t.list.listType5.length>0&&"5"===e.topicType?i("div",[i("h2",[t._v("\n          "+t._s(t._f("indexFilter")(a))+"、简答题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n        ")]),t._v(" "),t._l(t.list.listType5,function(e,a){return i("el-row",{key:e.id,staticClass:"gapSty borderB"},[i("el-col",{attrs:{span:24}},[t._v(t._s(a+1)+"、"+t._s(e.topicColumn))]),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.reply,callback:function(i){t.$set(e,"reply",i)},expression:"item5.reply"}})],1)],1)})],2):t._e()])}),0)])},l=[],s=i("6237"),n={name:"TestPaper",filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{testId:{type:String,default:""},makeupStatus:{type:String,default:""}},data:function(){return{list:null,times:0,id:"",username1:this.$store.state.user.userInfo.fullname,useDepart1:this.$store.state.user.userInfo.orgName,hours:0,time:0,dataTime:"00:00:00"}},watch:{},created:function(){this.getExamineList()},methods:{getExamineList:function(){var t=this,e={examineId:this.testId};Object(s["b"])(e).then(function(e){var i=e.data;if(i.listType2&&i.listType2.length>0)for(var a in i.listType2)i.listType2[a].reply=[];t.list=i,t.id=e.data.MainAnswerID,t.times=parseInt(60*e.data.xlglExamExamine.examineDate);var l=setInterval(function(){t.times--,t.dataTime=t.formatSecond(t.times),0===t.times&&(clearInterval(l),t.saveBatch())},1e3)})},formatSecond:function(t){var e=Math.floor(t%3600),i=this.formatType(Math.floor(t/3600))+":"+this.formatType(Math.floor(e/60))+":"+this.formatType(t%60);return i},formatType:function(t){return t>9?t:"0"+t},saveBatch:function(){var t=this,e=[];this.list.listType1&&this.list.listType1.length>0&&this.list.listType1.map(function(t){var i={};i.examineTopicId=t.id,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,i.pictureStatus=t.pictureStatus,e.push(i)}),this.list.listType2&&this.list.listType2.length>0&&this.list.listType2.map(function(t){var i={};i.examineTopicId=t.id,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply.length>0?t.reply.join(","):"",i.fraction=t.fractionalNumber,i.pictureStatus=t.pictureStatus,e.push(i)}),this.list.listType3&&this.list.listType3.length>0&&this.list.listType3.map(function(t){var i={};i.examineTopicId=t.id,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,i.pictureStatus=t.pictureStatus,e.push(i)}),this.list.listType4&&this.list.listType4.length>0&&this.list.listType4.map(function(t){var i={};i.examineTopicId=t.id,i.topicColumn=t.topicColumn,i.topicType=t.topicType,i.topicOption=t.topicOption,i.topicResult=t.topicResult,i.reply=t.reply,i.fraction=t.fractionalNumber,i.pictureStatus=t.pictureStatus,e.push(i)});var i={mainAnswerId:this.id,xlglExamAnswer:JSON.stringify(e),status:0,makeupStatus:this.makeupStatus};Object(s["h"])(i).then(function(e){0===e.data.code?t.$notify({title:"提示",message:"交卷成功!",duration:1500,type:"success",onClose:function(){var e={id:t.id,examineId:t.testId};t.$emit("showTestPaper","3",e)}}):t.$notify({title:"提示",message:e.data.msg,duration:1500,type:"warning"})})},goBack:function(){var t=this;this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.saveBatch()}).catch(function(){t.$notify({title:"提示",message:"已取消",duration:1500,type:"warning"})})}}},r=n,o=(i("8ff4"),i("2877")),p=Object(o["a"])(r,a,l,!1,null,"f5c5f15e",null);e["default"]=p.exports}}]);