(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41ecd6c5"],{"0853":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),e("el-button",{staticStyle:{float:"right",margin:"-40px 20px 0 30px"},attrs:{type:"primary",size:"mini"}},[t._v("导出")]),t._v(" "),e("el-button",{staticStyle:{float:"right",margin:"-40px 120px 0 30px"},attrs:{type:"success",size:"mini"},on:{click:t.openFileDialog}},[t._v("导入")]),t._v(" "),e("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[e("el-col",{staticStyle:{height:"calc(100vh - 200px)",overflow:"hidden"},attrs:{span:6}},[e("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[e("el-tree",{ref:"tree",attrs:{data:t.treeData,props:t.defaultProps,"default-expand-all":"","node-key":"id"},on:{"node-click":t.handleNodeClick},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.node,l=a.data;return e("span",{staticClass:"custom-tree-node",on:{mouseenter:function(a){return t.mouseenter(l)},mouseleave:function(a){return t.mouseleave(l)}}},[e("span",[t._v(t._s(i.label))]),t._v(" "),i.isLeaf?e("span",[e("el-button",{directives:[{name:"show",rawName:"v-show",value:l.show,expression:"data.show"}],attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return a.stopPropagation(),function(){return t.remove(i,l)}()}}})],1):t._e(),t._v(" "),i.isLeaf||i.parent.parent?t._e():e("span",[e("el-button",{directives:[{name:"show",rawName:"v-show",value:l.show,expression:"data.show"}],attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(a){return a.stopPropagation(),function(){return t.add(i,l)}()}}})],1)])}}])})],1)],1),t._v(" "),e("el-col",{staticStyle:{height:"calc(100vh - 200px)",overflow:"hidden"},attrs:{span:18}},[e("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[e("div",[e("table",{staticClass:"border-table"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"150px"},attrs:{colspan:"4"}},[t._v("安全检查项目")]),t._v(" "),e("th",{staticStyle:{width:"200px"},attrs:{colspan:"1",rowspan:"2"}},[t._v("检查标准")]),t._v(" "),e("th",{staticStyle:{width:"100px"},attrs:{colspan:"1",rowspan:"2"}},[t._v("检查方法")]),t._v(" "),e("th",{staticStyle:{width:"100px"},attrs:{colspan:"1",rowspan:"2"}},[t._v("检查结果及存在问题")]),t._v(" "),e("th",{staticStyle:{width:"150px"},attrs:{colspan:"3"}},[t._v("问题整改")]),t._v(" "),e("th",{attrs:{rowspan:"2"}},[t._v("备注")])]),t._v(" "),e("tr",[e("th",[t._v("项目")]),t._v(" "),e("th",[t._v("分项")]),t._v(" "),e("th",{attrs:{colspan:"2"}},[t._v("具体检查内容")]),t._v(" "),e("th",[t._v("整改措施")]),t._v(" "),e("th",[t._v("整改时限")]),t._v(" "),e("th",[t._v("责任单位及责任人")])])]),t._v(" "),e("tbody",[t._l(t.demoTableData,function(a){return[t._l(a.typeList,function(i,l){return t._l(i.children,function(s,d){return e("tr",{key:d},[0==l&&0==d?e("td",{attrs:{rowspan:a.allPages}},[t._v("\n                      "+t._s(a.title)+"\n                    ")]):t._e(),t._v(" "),0==d?e("td",{attrs:{rowspan:i.children.length}},[t._v(t._s(i.title))]):t._e(),t._v(" "),e("td",[t._v(t._s(s.data1))]),t._v(" "),e("td",[t._v(t._s(s.data2))]),t._v(" "),e("td",[t._v(t._s(s.data3)+"\n                    ")]),t._v(" "),e("td",[t._v(t._s(s.data4))]),t._v(" "),e("td",[t._v(t._s(s.data5))]),t._v(" "),e("td",[t._v(t._s(s.data6))]),t._v(" "),e("td",[t._v(t._s(s.data7))]),t._v(" "),e("td",[t._v(t._s(s.data8))]),t._v(" "),e("td",[t._v(t._s(s.data9))])])})})]})],2)])])])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"上传附件",visible:t.fileDialog,width:"40%","before-close":t.closeFileDialog},on:{"update:visible":function(a){t.fileDialog=a}}},[e("el-form",{staticClass:"oraganForm",attrs:{"label-width":"180px",inline:!0}},[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"发布单位：",prop:"type"}},[e("el-input")],1)],1),t._v(" "),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"导入主题"}},[e("el-input")],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"centerPosition"},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"","auto-upload":!1,"with-credentials":!0,action:t.fileUploadUrl,data:t.fileData,"on-success":t.successFile,"on-error":t.errorFile}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("支持上传excel等格式")])])],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submitFile}},[t._v("确 定")]),t._v(" "),e("el-button",{on:{click:t.closeFileDialog}},[t._v("取 消")])],1)],1)],1)},l=[],s=e("35b7"),d=e("e64d"),n={name:"ComplexTable",filters:{fileType:function(t){var a="";switch(t){case"1":a="单选";break;case"2":a="单选";break;case"3":a="单选";break;case"4":a="单选";break}return a}},components:{TitleCard:s["a"]},data:function(){return{cardTitle:"安全检查情况",fileDialog:!1,treeData:[],defaultProps:{children:"children",label:"label"},tableKey:0,list:null,total:0,listLoading:!1,listQuery:{topicType:"",subjectId:"",topicColumn:"",page:1,limit:20},typeList:[{name:"单选",value:"1"},{name:"多选",value:"2"},{name:"判断",value:"3"},{name:"填空",value:"4"},{name:"简答",value:"5"}],temp:{subjectName:"",subjectType:""},updateTemp:{topicColumn:"",topicOption:"",topicResult:""},dialogVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"新增题库类型",create1:"新增题库类型"},rules:{subjectName:[{required:!0,message:"请输入科目名称",trigger:"blur"}],subjectType:[{required:!0,message:"请选择科目题型",trigger:"change"}],topicColumn:[{required:!0,message:"请输入试题题目",trigger:"blur"}],topicOption:[{required:!0,message:"请输入试题选项",trigger:"blur"}],topicResult:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},radiofileType:"",importFileDialog:!1,moBanList:[],fileData:{access_token:this.$store.state.user.token,subjectId:""},fileMobanData:{fileType:this.radiofileType},fileUploadUrl:"/app/xlgl/xlglexamtopic/readExcelSave",saveFileModel:"/app/xlgl/xlglexamtopic/upLoadFile",demoTableData:[{title:"《关于的伤口范德萨是否快递路上的革命是多么》",allPages:5,typeList:[{title:"动员部署",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]},{title:"单位自查",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]}]},{title:"《关于的伤口范德萨是否快递路上的革命是多么》",allPages:5,typeList:[{title:"动员部署",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]},{title:"单位自查",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]}]}]}},watch:{listQuery:{handler:function(t){},deep:!0}},created:function(){this.getTreeList()},methods:{openFileDialog:function(){this.fileDialog=!0},closeFileDialog:function(){this.$refs.upload.clearFiles(),this.fileDialog=!1},submitFile:function(){this.$refs.upload.submit()},successFile:function(t){var a=this;this.$message({type:"success",message:"上传成功!",onClose:function(){a.$parent.getCarFileList()}})},errorFile:function(){this.$message({type:"info",message:"上传失败!"})},remove:function(t,a){var e=this,i=t.parent,l=i.data.children||i.data,s=[];l.length>1&&l.map(function(t){t.type!=a.type&&s.push(t.type)}),Object(d["c"])({id:i.data.id,delType:a.type,subjectType:s.join(",")}).then(function(t){0===t.data.code?e.$message({type:"success",message:"删除成功!",onClose:function(){e.getTreeList()}}):e.$message({type:"info",message:t.data.msg})})},add:function(t,a){this.dialogStatus="create1",this.temp.subjectName=a.label,this.dialogVisible=!0},mouseenter:function(t){this.$set(t,"show",!0)},mouseleave:function(t){this.$set(t,"show",!1)},handleNodeClick:function(t,a){t.type&&(this.listQuery={subjectId:a.parent.data.id,topicType:t.type,page:this.listQuery.page,limit:this.listQuery.limit},this.fileData.subjectId=a.parent.data.id,this.getTestList())}}},o=n,r=(e("4367"),e("2877")),c=Object(r["a"])(o,i,l,!1,null,"1b824e43",null);a["default"]=c.exports},4367:function(t,a,e){"use strict";var i=e("9d32"),l=e.n(i);l.a},"9d32":function(t,a,e){},e64d:function(t,a,e){"use strict";e.d(a,"a",function(){return l}),e.d(a,"g",function(){return s}),e.d(a,"f",function(){return d}),e.d(a,"c",function(){return n}),e.d(a,"b",function(){return o}),e.d(a,"h",function(){return r}),e.d(a,"d",function(){return c}),e.d(a,"e",function(){return u});var i=e("b775");function l(t){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/save",method:"post",data:t})}function s(){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/subject",method:"get"})}function d(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/list",method:"get",params:t})}function n(t){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/update",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/delete",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/update",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/info",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/app/xlgl/xlglexamfile/list",method:"post",data:t})}}}]);