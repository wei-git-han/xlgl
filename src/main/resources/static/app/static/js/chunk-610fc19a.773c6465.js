(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-610fc19a"],{"38bc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{"overflow-x":"hidden",height:"860px"}},[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"}],key:t.treeKey,attrs:{props:t.defaultProps,"node-key":"id",lazy:"",load:t.loadNode1,"default-expanded-keys":t.defaultExpandList,"expand-on-click-node":!1},on:{"node-click":t.clickNode,"node-expand":t.expand,"node-collapse":t.collapse},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var n=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(n.text))]),t._v(" "),a("span",{staticStyle:{"padding-right":"4px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#C0CCDA","active-value":"0","inactive-value":"1"},on:{change:function(e){return t.updateIsInval(n)}},model:{value:n.isInvalid,callback:function(e){t.$set(n,"isInvalid",e)},expression:"data.isInvalid"}})],1)])}}])})],1)],1),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:"",stripe:"","highlight-current-rowstyle":"width: 70%;",height:"760"}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.truename))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"手机号","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.mobile))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"部门","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.deptName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否有效",align:"center",width:"350","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#C0CCDA","active-value":"0","inactive-value":"1"},on:{change:function(e){return t.changeStatusYx(n)}},model:{value:n.sfyx,callback:function(e){t.$set(n,"sfyx",e)},expression:"row.sfyx"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否在编",align:"center",width:"350","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#C0CCDA","active-value":"1","inactive-value":"0"},on:{change:function(e){return t.changeStatus(n)}},model:{value:n.sfzb,callback:function(e){t.$set(n,"sfzb",e)},expression:"row.sfzb"}})]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.pagesize},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"pagesize",e)},pagination:t.getUserList}})],1)],1)],1)],1)},i=[],s=a("333d"),r=a("cc5e"),l={name:"BusinessConfig",components:{Pagination:s["a"]},data:function(){return{treeKey:0,tableKey:0,list:null,total:0,listLoading:!1,treeLoading:!1,listQuery:{page:1,pagesize:10,organId:""},departList:[],rolesList:[],collectList:[],temp:{id:"",userName:"",userId:""},defaultProps:{label:"text",children:"zones"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"新增",connect:"权限交接"},roleList:[{id:"1",text:"部管理员"},{id:"2",text:"局管理员"},{id:"4",text:"处管理员"}],certigierList:[],showTree:!1,rules:{},treeData:[],defaultExpandList:[]}},created:function(){this.getUserList()},methods:{getOrgTree:function(){var t=this;return this.treeLoading=!0,new Promise(function(e,a){Object(r["c"])().then(function(a){t.treeData=a.data,t.treeLoading=!1,e(t.treeData)})})},getUserList:function(t){var e=this;Object(r["j"])(this.listQuery).then(function(t){e.list=t.data.rows,e.total=t.data.total,setTimeout(function(){e.listLoading=!1},1)})},loadNode1:function(t,e){0===t.level?this.getOrgTree().then(function(t){e(t)}):t.data.children?Object(r["c"])({id:t.data.id}).then(function(t){e(t.data)}):e([])},clickNode:function(t){this.listQuery.organId=t.id,this.getUserList()},changeStatus:function(t){var e=this;Object(r["i"])({sfzb:t.sfzb,id:t.id}).then(function(t){"success"===t.data.result?e.$notify({title:"提示",message:"修改成功",duration:1500,type:"success"}):e.$notify({title:"提示",message:t.data.msg,duration:1500,type:"warning"})})},changeStatusYx:function(t){var e=this;Object(r["h"])({sfyx:t.sfyx,id:t.id}).then(function(t){"success"===t.data.result?(e.$notify({title:"提示",message:"修改成功",duration:1500,type:"success"}),e.treeKey++):e.$notify({title:"提示",message:t.data.msg,duration:1500,type:"warning"})})},expand:function(t){this.defaultExpandList.indexOf(t.id)<0&&this.defaultExpandList.push(t.id)},collapse:function(t){this.defaultExpandList.remove(t.id)},updateIsInval:function(t){var e=this;Object(r["f"])({isInvalid:t.isInvalid,organId:t.id}).then(function(t){"success"===t.data.msg?e.$notify({title:"提示",message:"修改成功",duration:1500,type:"success"}):e.$notify({title:"提示",message:t.data.msg,duration:1500,type:"warning"}),e.getUserList(),e.treeKey++})}}},o=l,c=a("2877"),u=Object(c["a"])(o,n,i,!1,null,"875acd76",null);e["default"]=u.exports},cc5e:function(t,e,a){"use strict";a.d(e,"d",function(){return i}),a.d(e,"e",function(){return s}),a.d(e,"a",function(){return r}),a.d(e,"c",function(){return l}),a.d(e,"j",function(){return o}),a.d(e,"i",function(){return c}),a.d(e,"h",function(){return u}),a.d(e,"b",function(){return d}),a.d(e,"g",function(){return p}),a.d(e,"f",function(){return f});var n=a("b775");function i(t){return Object(n["a"])({url:"/app/xlgl/roleset/list",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/app/xlgl/roleset/saveOrUpdate",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/app/xlgl/roleset/delete",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/app/base/dept/syncTree",method:"post",params:t})}function o(t){return Object(n["a"])({url:"/app/base/user/list",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/app/base/user/updateZbqk",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/app/base/user/updateSfyx",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/app/xlgl/xlglmsgremind/list",method:"get",data:t})}function p(t){return Object(n["a"])({url:"/app/xlgl/xlglmsgremind/update",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/app/base/dept/updateIsInval",method:"post",data:t})}}}]);