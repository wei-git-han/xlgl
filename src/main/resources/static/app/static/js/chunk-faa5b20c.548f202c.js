(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-faa5b20c","chunk-90755aca","chunk-335081ed","chunk-4622cb9c"],{"0990":function(t,e,i){},"09f4":function(t,e,i){"use strict";i.d(e,"a",function(){return o}),Math.easeInOutQuad=function(t,e,i,n){return t/=n/2,t<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function a(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(t,e,i){var o=s(),l=t-o,r=20,c=0;e="undefined"===typeof e?500:e;var u=function t(){c+=r;var s=Math.easeInOutQuad(c,o,l,e);a(s),c<e?n(t):i&&"function"===typeof i&&i()};u()}},"13c4":function(t,e,i){"use strict";i.d(e,"f",function(){return a}),i.d(e,"e",function(){return s}),i.d(e,"a",function(){return o}),i.d(e,"h",function(){return l}),i.d(e,"b",function(){return r}),i.d(e,"g",function(){return c}),i.d(e,"d",function(){return u}),i.d(e,"c",function(){return d});var n=i("b775");function a(t){return Object(n["a"])({url:"/app/xlgl/xlglnotice/list",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/app/xlgl/xlglnotice/info",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/app/xlgl/xlglnotice/delete",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/app/xlgl/xlglnotice/top",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/app/xlgl/xlglnoticeread/list",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/app/xlgl/xlglnoticeread/save",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/app/xlgl/xlglnotice/infoUpAndDown",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/app/xlgl/xlglnotice/pictureList",method:"post",data:t})}},"1acb":function(t,e,i){},"28e5":function(t,e,i){},"64ed":function(t,e,i){"use strict";var n=i("28e5"),a=i.n(n);a.a},"6ec9":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"app-content"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"borderSty",staticStyle:{"padding-bottom":"100px"}},[i("div",{staticClass:"addTitle"},[i("el-button",{staticStyle:{"margin-right":"30px"},attrs:{type:"primary"},on:{click:t.openDialog}},[t._v("已阅人员详单")]),t._v(" "),i("svg-icon",{staticClass:"icon",staticStyle:{cursor:"pointer","margin-top":"10px"},attrs:{"icon-class":"goback"},on:{click:t.backFn}})],1),t._v(" "),i("div",{staticClass:"content"},[i("el-header",{staticClass:"title"},[t._v("\n            "+t._s(t.list.title)+"\n          ")]),t._v(" "),i("el-main",[i("div",{staticClass:"headDiv"},[1===t.list.isTop?i("span",{class:{istop:t.list.isTop}},[t._v(t._s(t._f("isTopFilter")(t.list.isTop)))]):t._e(),t._v(" "),i("span",{staticClass:"gapSty"},[t._v("时间："+t._s(t.list.releaseTime))]),t._v(" "),i("span",[t._v("发布："+t._s(t.list.releaseOrgan))]),t._v(" "),i("span",{staticClass:"btnSty colorSty1",on:{click:function(e){return t.deleteById(t.list.id)}}},[t._v("删除")]),t._v(" "),i("span",{staticClass:"btnSty colorSty1",on:{click:function(e){return t.openDetail(t.list.id)}}},[t._v("编辑")]),t._v(" "),i("span",{staticClass:"btnSty colorSty1",on:{click:function(e){return t.setNoticeTop(t.list.id,t.list.isTop)}}},[t._v(t._s(t._f("isTopFilter1")(t.list.isTop)))]),t._v(" "),i("span",{staticClass:"btnSty"},[t._v("已阅人数："+t._s(t.list.viewNumber)+"人")])]),t._v(" "),i("div",[t._v("\n              "+t._s(t.list.content)+"\n            ")]),t._v(" "),i("div",{staticClass:"fileList"},[i("ul",t._l(t.list.fileList,function(e){return i("li",{key:e.id},[t._v("\n                  "+t._s(e.name)+"\n                  "),i("span",{staticClass:"colorSty1 gapSty",on:{click:function(i){return t.download(e.id)}}},[t._v("下载")])])}),0)]),t._v(" "),i("div",{staticClass:"changePage"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.getInfoUpAndDown("pre")}}},[t._v("上一篇")]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.getInfoUpAndDown("next")}}},[t._v("下一篇")])],1)])],1)])],1),t._v(" "),i("el-dialog",{attrs:{title:"已阅人员详情名单",visible:t.dialogVisible,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-scrollbar",{staticClass:"hidden-x",staticStyle:{height:"400px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.tableList,border:"",fit:!0,stripe:!0,"highlight-current-row":""}},[i("el-table-column",{attrs:{label:"姓名",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{attrs:{title:e.row.readUserName}},[t._v(t._s(e.row.readUserName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"单位名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.readOrgName))])]}}])})],1)],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getExamineList}})],1)],1)])},a=[],s=i("13c4"),o=i("333d"),l={name:"UpdateNotice",components:{Pagination:o["a"]},filters:{isTopFilter:function(t){return 1===t?"置顶":""},isTopFilter1:function(t){return 1===t?"取消置顶":"置顶"}},props:{noticeId:{type:String,default:""}},data:function(){return{list:null,listQuery:{id:"",page:1,limit:20},tableKey:0,tableList:null,total:0,listLoading:!1,dialogVisible:!1}},watch:{"listQuery.id":{handler:function(t,e){this.saveExamine(),this.getNoticeInfo(t),this.getFileList()},deep:!0}},created:function(){this.listQuery.id=this.noticeId},methods:{backFn:function(){this.$emit("openCreateNotice","1")},getNoticeInfo:function(t){var e=this,i={id:t};Object(s["e"])(i).then(function(t){e.list=t.data.xlglNotice})},setNoticeTop:function(t,e){var i=this,n="取消置顶",a=0;0===e&&(n="置顶",a=1);var o={id:t,istop:a};Object(s["h"])(o).then(function(t){0===t.data.code?i.$message({type:"success",message:n+"成功！",onClose:function(){i.getNoticeInfo()}}):i.$message({type:"info",message:t.data.msg})})},deleteById:function(t){var e=this,i={ids:t};Object(s["a"])(i).then(function(t){0===t.data.code?e.$message({type:"success",message:"删除成功！",onClose:function(){e.$emit("openCreateNotice","1")}}):e.$message({type:"info",message:t.data.msg})})},openDetail:function(t){this.$emit("openCreateNotice","4",t)},getExamineList:function(){var t=this;this.listLoading=!0,Object(s["b"])(this.listQuery).then(function(e){t.tableList=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1500)})},saveExamine:function(){var t={id:this.noticeId};Object(s["g"])(t).then(function(t){})},getInfoUpAndDown:function(t){var e=this,i={id:this.listQuery.id};Object(s["d"])(i).then(function(i){e.listQuery.id="next"===t?i.data.downNotice.id:i.data.upNotice.id})},openDialog:function(){this.dialogVisible=!0,this.getExamineList()},handleClose:function(){this.dialogVisible=!1},getFileList:function(){var t=this;Object(s["c"])({id:this.listQuery.id}).then(function(e){t.fileList=e.data})}}},r=l,c=(i("8f00"),i("2877")),u=Object(c["a"])(r,n,a,!1,null,"010a8d19",null);e["default"]=u.exports},"8f00":function(t,e,i){"use strict";var n=i("0990"),a=i.n(n);a.a},aa2a:function(t,e,i){"use strict";i.d(e,"e",function(){return a}),i.d(e,"b",function(){return s}),i.d(e,"h",function(){return o}),i.d(e,"i",function(){return l}),i.d(e,"a",function(){return r}),i.d(e,"d",function(){return c}),i.d(e,"g",function(){return u}),i.d(e,"f",function(){return d}),i.d(e,"c",function(){return p});var n=i("b775");function a(t){return Object(n["a"])({url:"/app/xlgl/news/queryTotal",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/app/xlgl/news/delete",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/app/xlgl/news/top",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/app/xlgl/news/topCancle",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/app/xlgl/news/list",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/app/xlgl/news/addHits",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/app/xlgl/news/saveOrUpdate",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/app/xlgl/news/queryDrafts",method:"get",params:t})}function p(){return Object(n["a"])({url:"/app/xlgl/news/getDeptName",method:"get"})}},aa6a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"app-content"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"borderSty",staticStyle:{"padding-bottom":"100px"}},[i("div",{staticClass:"addTitle"},[i("span",[t._v("通知公告新增")]),t._v(" "),i("svg-icon",{staticClass:"icon",staticStyle:{cursor:"pointer","margin-top":"10px"},attrs:{"icon-class":"goback"},on:{click:t.backFn}})],1),t._v(" "),i("div",{staticStyle:{padding:"20px 0"}},[i("el-form",{ref:"form",attrs:{"label-width":"150px"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:"信息类型",required:""}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.infoType,function(e){return i("el-option",{key:e.value,attrs:{label:e.name,value:e.name}},[t._v(t._s(e.name))])}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:"发布单位",required:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.form.releaseOrgan,callback:function(e){t.$set(t.form,"releaseOrgan",e)},expression:"form.releaseOrgan"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:"信息标题",required:""}},[i("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"发布时间",required:""}},[i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择发布时间"},model:{value:t.form.releaseTimeStr,callback:function(e){t.$set(t.form,"releaseTimeStr",e)},expression:"form.releaseTimeStr"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"编辑内容"}},[i("ueditor",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"上传附件"}},[i("div",{staticStyle:{border:"1px solid #ccc",padding:"20px","border-radius":"4px"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:t.fileUrl,data:t.form,"on-success":t.successFile,"on-error":t.errorFile,"auto-upload":!1,multiple:""}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),i("em",[t._v("点击上传")])]),t._v(" "),i("div",{staticClass:"el-upload__tip",staticStyle:{color:"#BBBBBB"},attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传word/ppt/excel文件格式，且不超过500kb")])])],1)])],1)],1)],1),t._v(" "),i("el-col",{staticStyle:{"text-align":"center","margin-top":"30px"},attrs:{span:24}},[i("el-button",{attrs:{type:"success"},on:{click:t.saveOrUpdateNotice}},[t._v("发布")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.backFn}},[t._v("取消")])],1)],1)],1)],1)])},a=[],s=i("aa2a"),o=i("13c4"),l=i("63f4"),r={name:"CreateNotice",components:{Ueditor:l["a"]},props:{noticeId:{type:String,default:""}},data:function(){return{infoType:[{name:"通知",value:"1"},{name:"公告",value:"0"}],fileUrl:"/app/xlgl/xlglnotice/saveOrUpdate",form:{type:"",title:"",content:"",releaseTimeStr:"",releaseOrgan:"",access_token:this.$store.state.user.token}}},created:function(){this.noticeId?this.getNoticeInfo():this.getDeptName()},methods:{getDeptName:function(){var t=this;Object(s["c"])().then(function(e){t.form.releaseOrgan=e.data.deptName})},backFn:function(){this.$emit("back","1")},successFile:function(t){var e=this;this.$message({type:"success",message:"发布成功!",onClose:function(){e.$parent.showPage="1"}})},errorFile:function(){this.$message({type:"info",message:"上传失败!"})},saveOrUpdateNotice:function(){this.$refs.upload.submit()},getNoticeInfo:function(){var t=this,e={id:this.noticeId};Object(o["e"])(e).then(function(e){t.form.type=e.data.xlglNotice.type,t.form.releaseOrgan=e.data.xlglNotice.releaseOrgan,t.form.title=e.data.xlglNotice.title,t.form.content=e.data.xlglNotice.content,t.form.releaseTime=e.data.xlglNotice.releaseTime})}}},c=r,u=(i("64ed"),i("2877")),d=Object(u["a"])(c,n,a,!1,null,"316edd39",null);e["default"]=d.exports},cd11:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["1"===t.showPage?i("inform-list",{ref:"noticeList",on:{openCreateNotice:t.showorNot}}):t._e(),t._v(" "),"2"===t.showPage||"4"===t.showPage?i("create-notice",{attrs:{"notice-id":t.noticeId},on:{back:t.showorNot}}):t._e(),t._v(" "),"3"===t.showPage?i("update-notice",{attrs:{"notice-id":t.noticeId},on:{openCreateNotice:t.showorNot}}):t._e()],1)},a=[],s=i("e2f5"),o=i("aa6a"),l=i("6ec9"),r={name:"NoticeIndex",components:{informList:s["default"],createNotice:o["default"],updateNotice:l["default"]},data:function(){return{showPage:"1",noticeId:""}},methods:{showorNot:function(t,e){this.noticeId=e,this.showPage=t}}},c=r,u=i("2877"),d=Object(u["a"])(c,n,a,!1,null,"b737086a",null);e["default"]=d.exports},e2f5:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"app-content"},[i("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),i("el-button",{staticClass:"createBtn noBorder",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:t.openCreateNotice}},[t._v("新增")]),t._v(" "),i("el-row",[i("el-col",{staticClass:"elColSty",attrs:{span:24}},[i("el-scrollbar",{staticClass:"hidden-x"},[i("el-row",{attrs:{gutter:20}},t._l(t.list,function(e,n){return i("el-col",{key:n,attrs:{span:6}},[i("el-card",{staticClass:"margin-card",staticStyle:{"max-height":"330px",height:"330px"},attrs:{"body-style":{padding:"0px"}}},[i("el-button",{staticClass:"inform",class:{notice:"公告"===e.type},attrs:{type:"success",size:"mini"}},[t._v(t._s(e.type))]),t._v(" "),i("div",{staticClass:"cardContent gapSty"},[i("div",{staticClass:"title",on:{click:function(i){return i.stopPropagation(),t.openDetail(e.id)}}},[t._v("\n                    "+t._s(e.title)+"\n                    "),1===e.isTop?i("span",{class:{istop:e.isTop}},[t._v(t._s(t._f("isTopFilter")(e.isTop)))]):t._e()]),t._v(" "),i("div",{staticClass:"gapSty color2"},[i("svg-icon",{staticClass:"icon",attrs:{"icon-class":"time"}}),t._v(" "),i("span",{staticClass:"gapLeft"},[t._v(" "+t._s(t._f("parseTime")(e.releaseTime,"{y}-{m}-{d} {h}:{i}")))])],1),t._v(" "),i("div",{staticClass:"gapSty gapSty1"},[t._v("\n                    "+t._s(t._f("limitText")(e.content))+"\n                    ")]),t._v(" "),i("div",{staticClass:"gapSty height1 color2"},[i("svg-icon",{staticClass:"icon",attrs:{"icon-class":"noticepeople"}}),t._v(" "),i("span",{staticClass:"gapLeft"},[t._v(t._s(e.releaseOrgan))])],1),t._v(" "),i("div",{staticClass:"gapSty height1"},[i("span",{staticClass:"color1"},[t._v("浏览 "+t._s(e.viewNumber))]),t._v(" "),i("span",{staticClass:"btSty",on:{click:function(i){return t.deleteById(e.id)}}},[t._v("删除")]),t._v(" "),i("span",{staticClass:"btSty",on:{click:function(i){return i.stopPropagation(),t.upDateDetail(e.id)}}},[t._v("编辑")]),t._v(" "),i("span",{staticClass:"btSty",on:{click:function(i){return t.setNoticeTop(e.id,e.isTop)}}},[t._v(t._s(t._f("isTopFilter1")(1===e.isTop?0:1)))])])])],1)],1)}),1)],1)],1)],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getNoticeList}})],1)])},a=[],s=i("35b7"),o=i("333d"),l=i("13c4"),r={name:"InformNoticeList",filters:{isTopFilter:function(t){return 1===t?"置顶":""},isTopFilter1:function(t){return 1===t?"置顶":"取消置顶"},limitText:function(t){return t.length>40?t.substring(0,40)+"...":t}},components:{TitleCard:s["a"],Pagination:o["a"]},data:function(){return{cardTitle:"通知公告",tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,type:""}}},created:function(){this.getNoticeList()},methods:{getNoticeList:function(){var t=this;this.listLoading=!0,Object(l["f"])(this.listQuery).then(function(e){t.list=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1500)})},openCreateNotice:function(){this.$emit("openCreateNotice","2")},openDetail:function(t){this.$emit("openCreateNotice","3",t)},upDateDetail:function(t){this.$emit("openCreateNotice","4",t)},deleteById:function(t){var e=this,i={ids:t};Object(l["a"])(i).then(function(t){0===t.data.code?e.$message({type:"success",message:"删除成功！",onClose:function(){e.getNoticeList()}}):e.$message({type:"info",message:t.data.msg})})},setNoticeTop:function(t,e){var i=this,n="取消置顶",a=0;0===e&&(n="置顶",a=1);var s={id:t,istop:a};Object(l["h"])(s).then(function(t){0===t.data.code?i.$message({type:"success",message:n+"成功！",onClose:function(){i.getNoticeList()}}):i.$message({type:"info",message:t.data.msg})})}}},c=r,u=(i("f496"),i("2877")),d=Object(u["a"])(c,n,a,!1,null,"047d7c50",null);e["default"]=d.exports},f496:function(t,e,i){"use strict";var n=i("1acb"),a=i.n(n);a.a}}]);