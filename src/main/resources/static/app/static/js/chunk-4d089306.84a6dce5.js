(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d089306","chunk-24ac8fb4","chunk-09b8138c","chunk-15068234","chunk-7d41aa0e"],{"049e":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"createTest"},[i("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-top":"-30px","margin-right":"20px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),i("div",{staticClass:"pageContent"},[i("el-form",{ref:"form",staticClass:"oraganForm",attrs:{model:t.listQuery,rules:t.rules,"label-width":"150px",inline:!0}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"考试时间：",required:""}},[i("el-col",{attrs:{span:11}},[i("el-form-item",{attrs:{prop:"examineStartDateStr"}},[i("el-date-picker",{attrs:{"popper-class":"cancelCurrent",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionStart,placeholder:"选择开始时间"},on:{change:t.getsTime1},model:{value:t.listQuery.examineStartDateStr,callback:function(e){t.$set(t.listQuery,"examineStartDateStr",e)},expression:"listQuery.examineStartDateStr"}})],1)],1),t._v(" "),i("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("至")]),t._v(" "),i("el-col",{attrs:{span:11}},[i("el-form-item",{attrs:{prop:"examineEndDateStr"}},[i("el-date-picker",{attrs:{"popper-class":"cancelCurrent",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionEnd,placeholder:"选择结束时间"},on:{change:t.getsTime2},model:{value:t.listQuery.examineEndDateStr,callback:function(e){t.$set(t.listQuery,"examineEndDateStr",e)},expression:"listQuery.examineEndDateStr"}})],1)],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{float:"right","margin-right":"100px"}},[i("span",[t._v("合计：")]),t._v(" "),i("span",{staticClass:"size1"},[t._v(t._s(t.totalGrade))]),t._v("分\n          "),i("span",{staticClass:"size1"},[t._v(t._s(t.totalNum))]),t._v("题\n        ")])])],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"50px"}},[i("el-col",{attrs:{span:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{float:"left"}},[t._v("题型设置")])]),t._v(" "),i("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.typesList.typeList,function(e,s){return i("el-row",{key:s,attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"题型：",prop:"type"}},[i("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:t.selectType,clear:function(e){return t.cancelSelect(s)}},model:{value:t.selectedList["type"+s].type1,callback:function(e){t.$set(t.selectedList["type"+s],"type1",e)},expression:"selectedList[`type${index}`].type1"}},t._l(t.typesList.typeList,function(e,s){return i("el-option",{key:s,attrs:{label:e.name,disabled:t.getSelectDisabled(e.type),value:e.type}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:" "}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:t.selectedList["type"+s].testNum,callback:function(e){t.$set(t.selectedList["type"+s],"testNum",e)},expression:"selectedList[`type${index}`].testNum"}},[i("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:" "}},[i("el-col",{attrs:{span:24}},[i("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:t.selectedList["type"+s].testPrice,callback:function(e){t.$set(t.selectedList["type"+s],"testPrice",e)},expression:"selectedList[`type${index}`].testPrice"}},[i("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1)],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"text-align":"center",margin:"40px 0px 20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.repeatTestSave}},[t._v("发起补考")])],1)],1)],1)},a=[],n=(i("3b2b"),i("a481"),i("7f7f"),i("ac6a"),i("28a5"),i("35b7")),l=i("6237"),r=i("bafa"),o={name:"RepeatTestSet",components:{TitleCard:n["a"]},directives:{required:{inserted:function(t){t.firstElementChild.firstElementChild.addEventListener("blur",function(){var e=t.firstElementChild.firstElementChild.value,i="blobk",s="",a="red";t.nextSibling&&"div"===t.nextSibling.parentNode.lastChild.localName&&t.nextSibling.parentNode.removeChild(t.nextSibling.parentNode.lastChild);var n=document.createElement("div");e.length<1?s="非空":(i="none",a="#dcdfe6"),t.firstElementChild.style.borderColor=a,n.innerText=s,n.style.display=i,n.style.color="red",t.nextSibling&&t.nextSibling.parentNode.appendChild(n)})}},limitNum:{inserted:function(t){t.firstElementChild.addEventListener("blur",function(){var e=t.firstElementChild.value,i="blobk",s="",a="red";t.nextSibling&&"div"===t.nextSibling.parentNode.lastChild.localName&&t.nextSibling.parentNode.removeChild(t.nextSibling.parentNode.lastChild);var n=document.createElement("div");e.length<1?s="非空":/^[1-9]\d*$/.test(e)?(i="none",a="#dcdfe6"):s="只能输入0以外的正整数",t.firstElementChild.style.borderColor=a,n.innerText=s,n.style.display=i,n.style.color="red",t.nextSibling?t.nextSibling.parentNode.appendChild(n):t.parentNode.appendChild(n)})}}},filters:{typeFilter:function(t){return"1"===t?"单选题":"2"===t?"多选题":"3"===t?"判断题":"4"===t?"填空题":"5"===t?"简答题":void 0}},props:{testId:{type:String,default:""},testName:{type:String,default:""},testTime:{type:String,default:""},topicTypeList:{type:Array,default:function(){}},examineSubjectId:{type:String,default:""}},data:function(){var t=this;return{cardTitle:this.testName+"("+this.testTime+")",updateInfo:[],testTypeList:[],endDateTime:"",endDateTime1:"",listQuery:{examineName:"",examineDate:"",examineStartDateStr:"",examineEndDateStr:"",examineAllNumber:0,examineSubjectId:"",examineSubjectName:"测试科目",IssueStatus:"0",typeAndNum:"",status:0},typesList:{typeList:[],totalGradeNum:0,totalTestNum:0},pickOptionStart:{disabledDate:function(e){var i=t.listQuery.examineEndDateStr;return i?e.getTime()>new Date(i).getTime():e.getTime()<new Date(t.endDateTime).getTime()}},pickOptionEnd:{disabledDate:function(e){var i=t.listQuery.examineStartDateStr;return i?e.getTime()<new Date(i).getTime():e.getTime()<new Date(t.endDateTime).getTime()}},rules:{examineStartDateStr:[{required:!0,message:"请输入开始时间",trigger:"blur"}],examineEndDateStr:[{required:!0,message:"请输入结束时间",trigger:"blur"}]},totalGrade:0,totalNum:0,errorOptionList:[],errorList:[],emptyList:[],selectedList:{type0:{type1:null,testNum:null,testPrice:null},type1:{type1:null,testNum:null,testPrice:null},type2:{type1:null,testNum:null,testPrice:null},type3:{type1:null,testNum:null,testPrice:null}},tempData:{},tempData1:[]}},watch:{selectedList:{handler:function(t,e){var i=0,s=0;for(var a in this.selectedList){var n=this.selectedList[a];i+=this.StringToNumber(n.testNum)*this.StringToNumber(n.testPrice),s+=this.StringToNumber(n.testNum)}this.totalGrade=i,this.totalNum=s},deep:!0}},created:function(){var t=this;if(this.tempData=Object.assign({},this.selectedList),this.testTime){var e=this.testTime.split("~");e[1]?(this.endDateTime1=e[1],new Date(e[1]).getTime()<Date.now()?this.endDateTime=Date.now():this.endDateTime=e[1]):(this.endDateTime1=Date.now(),this.endDateTime=Date.now())}for(var i in this.topicTypeList.forEach(function(e,i){for(var s in"1"===e&&t.typesList.typeList.push({type:"1",name:"单选题"}),"2"===e&&t.typesList.typeList.push({type:"2",name:"多选题"}),"3"===e&&t.typesList.typeList.push({type:"3",name:"判断题"}),"4"===e&&t.typesList.typeList.push({type:"4",name:"填空题"}),t.tempData)"type".concat(i)===s&&t.tempData1.push(i)}),this.selectedList)i>="type"+this.tempData1.length&&this.$delete(this.selectedList,i);console.log(this.selectedList),this.getTopicNumber()},methods:{getsTime1:function(t){this.listQuery.examineEndDateStr?(this.dateToLong(this.listQuery.examineStartDateStr)<this.dateToLong(this.endDateTime1)&&(this.$notify({title:"提示",message:"开始时间大于上次考试时间",duration:1500,type:"warning"}),this.listQuery.examineStartDateStr=""),this.dateToLong(this.listQuery.examineStartDateStr)>this.dateToLong(this.listQuery.examineEndDateStr)&&(this.$notify({title:"提示",message:"开始时间必须小于结束时间",duration:1500,type:"warning"}),this.listQuery.examineStartDateStr="")):this.dateToLong(this.listQuery.examineStartDateStr)<this.dateToLong(this.endDateTime1)?(this.$notify({title:"提示",message:"开始时间大于上次考试时间",duration:1500,type:"warning"}),this.listQuery.examineStartDateStr=""):this.dateToLong(this.listQuery.examineStartDateStr)+6e4<(new Date).getTime()&&(this.$notify({title:"提示",message:"开始时间必须大于系统时间",duration:1500,type:"warning"}),this.listQuery.examineStartDateStr="")},getsTime2:function(t){this.listQuery.examineStartDateStr?this.dateToLong(this.listQuery.examineStartDateStr)>this.dateToLong(this.listQuery.examineEndDateStr)&&(this.$notify({title:"提示",message:"结束时间必须大于开始时间",duration:1500,type:"warning"}),this.listQuery.examineEndDateStr=""):this.dateToLong(this.listQuery.examineEndDateStr)<this.dateToLong(this.endDateTime1)?(this.$notify({title:"提示",message:"结束时间大于上次考试时间",duration:1500,type:"warning"}),this.listQuery.examineEndDateStr=""):this.dateToLong(this.listQuery.examineEndDateStr)+6e4<(new Date).getTime()&&(this.$notify({title:"提示",message:"结束时间必须大于系统时间",duration:1500,type:"warning"}),this.listQuery.examineEndDateStr="")},getTopicNumber:function(){var t=this,e={id:this.examineSubjectId};Object(r["g"])(e).then(function(e){var i=e.data;for(var s in t.testTypeList=[],t.errorList=[],i)t.testTypeList.push(i[s])})},errorNum:function(t,e){"1"===t&&this.testTypeList[0]<e&&this.errorList.push({type:t,name:"单选题",inputnum:e,originNum:this.testTypeList[0]}),"2"===t&&this.testTypeList[1]<e&&this.errorList.push({type:t,name:"多选题",inputnum:e,originNum:this.testTypeList[1]}),"3"===t&&this.testTypeList[2]<e&&this.errorList.push({type:t,name:"判断题",inputnum:e,originNum:this.testTypeList[2]}),"4"===t&&this.testTypeList[3]<e&&this.errorList.push({type:t,name:"填空题",inputnum:e,originNum:this.testTypeList[3]})},getSelectDisabled:function(t){var e=!1;for(var i in this.selectedList)this.selectedList[i].type1===t&&(e=!0);return e},repeatTestSave:function(){var t=this;this.$refs.form.validate(function(e){if(e){var i=[];for(var s in t.errorList=[],t.errorOptionList=[],t.emptyList=[],t.selectedList){var a=t.selectedList[s];a.type1&&a.testNum&&a.testPrice?(t.errorNum(a.type1,parseInt(a.testNum)),i.push(a.type1+"-"+a.testNum+"-"+a.testPrice)):!a.type1||a.testNum&&a.testPrice?a.type1||t.emptyList.push(s):t.errorOptionList.push("题型、题量以及每道题的分值都需要输入！ ")}if(t.emptyList.length>0&&t.emptyList.length===t.typesList.typeList.length)t.$notify({title:"提示",message:"您还未进行试题的组合设置！",duration:5500,type:"warning"});else if(t.errorOptionList.length>0)t.$notify({title:"提示",message:t.errorOptionList[0],duration:5500,type:"warning"}),t.errorList=[],t.errorOptionList=[],t.emptyList=[];else if(t.errorList.length>0){for(var n="",r=0;r<t.errorList.length;r++)n+="<p>"+t.errorList[r].name+"，当前数量是"+t.errorList[r].inputnum+"，题库数量为"+t.errorList[r].originNum+"，组题量不能大于题库数量</p>";t.$notify({title:"提示",dangerouslyUseHTMLString:!0,message:n,duration:1500,type:"warning"}),t.errorList=[],t.errorOptionList=[],t.emptyList=[]}else{var o={examineId:t.testId,makeUpEndDateStr:t.listQuery.examineStartDateStr,makeUpStartDateStr:t.listQuery.examineEndDateStr,typeAndNum:i.join(",")};Object(l["j"])(o).then(function(e){if(0===e.data.code)t.$emit("showPage","1");else{var i=t;t.$notify({title:"提示",message:e.data.msg,duration:1500,type:"warning"}),i.$emit("showPage","1")}})}}})},goBack:function(){this.$emit("showPage","1")},selectType:function(t){for(var e=0;e<this.typesList.typeList.length;e++)this.typesList.typeList[e].type===t&&this.$set(this.typesList.typeList[e],"disabled",!0)},cancelSelect:function(t){for(var e=0;e<this.typesList.typeList.length;e++)this.typesList.typeList[e].type===this.typesList.typeList[t].type&&this.$set(this.typesList.typeList[t],"disabled",!1)},StringToNumber:function(t){return t?parseInt(t):0},dateToLong:function(t){return new Date(t.replace(new RegExp("-","gm"),"/")).getTime()}}},c=o,p=(i("8fbb"),i("2877")),u=Object(p["a"])(c,s,a,!1,null,"77ac2372",null);e["default"]=u.exports},"079f":function(t,e,i){},"0def":function(t,e,i){"use strict";var s=i("ece0"),a=i.n(s);a.a},2803:function(t,e,i){},"2f21":function(t,e,i){"use strict";var s=i("79e5");t.exports=function(t,e){return!!t&&s(function(){e?t.call(null,function(){},1):t.call(null)})}},"374b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{xl:24}},[i("el-card",{staticClass:"margin-card",staticStyle:{margin:"0"},attrs:{"body-style":{padding:"0px 10px"}}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("el-row",[i("el-col",{attrs:{xl:9,md:9}},[i("span",[t._v("进行中考试：")]),t._v(" "),i("span",{staticClass:"intoSty"},[t._v(t._s(t.conutInto.into))]),t._v(" "),i("span",[t._v("已完结考试：")]),t._v(" "),i("span",{staticClass:"intoNotSty"},[t._v(t._s(t.conutInto.intoNot))])]),t._v(" "),i("el-col",{attrs:{xl:15,md:15}},[i("span",{staticClass:"demonstration",staticStyle:{"margin-left":"80px"}},[t._v("发起时间")]),t._v(" "),i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间",align:"right"},on:{change:t.getsTime},model:{value:t.listQuery.time,callback:function(e){t.$set(t.listQuery,"time",e)},expression:"listQuery.time"}}),t._v(" "),i("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入考试名称"},model:{value:t.listQuery.examineName,callback:function(e){t.$set(t.listQuery,"examineName",e)},expression:"listQuery.examineName"}}),t._v(" "),i("el-button",{staticStyle:{"margin-left":"50px"},attrs:{size:"mini",type:"primary"},on:{click:t.getTrainList}},[t._v("查询")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"50px",width:"208px"},attrs:{size:"mini",type:"success"},on:{click:t.testPractice}},[t._v("自主考试练习")])],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"20px"}},[i("el-col",{staticStyle:{height:"calc(100vh - 225px)",overflow:"hidden"},attrs:{xl:24}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,height:"calc(100vh - 225px)",border:"",fit:"",stripe:""}},[i("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{label:"考试名称",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("span",[t._v(t._s(s.examineName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"考试科目",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("span",[t._v(t._s(s.examineSubjectName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"考试时间",width:"350px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("span",[t._v(t._s(s.examineStartDate+" ~ "+s.examineEndDate))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"当前状态",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return["0"===s.overStatus?i("span",{staticClass:"color color1"},[t._v(t._s(t._f("overStatusFilter")(s.overStatus)))]):t._e(),t._v(" "),"1"===s.overStatus?i("span",{staticClass:"color color2"},[t._v(t._s(t._f("overStatusFilter")(s.overStatus)))]):t._e(),t._v(" "),"2"===s.overStatus?i("span",{staticClass:"color color3"},[t._v(t._s(t._f("overStatusFilter")(s.overStatus)))]):t._e(),t._v(" "),"99"===s.overStatus?i("span",{staticClass:"color color4"},[t._v(t._s(t._f("overStatusFilter")(s.overStatus)))]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"参考率",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("span",[t._v(t._s(s.ratio))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"已参加人数",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("span",[t._v(t._s(s.numberInto))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"待考人数",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("span",[t._v(t._s(s.numberIntoNot))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作 / 状态",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return["1"===s.userStatus?i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.openTestPaper(s)}}},[t._v(t._s(t._f("userStatusFilter")(s.userStatus)))]):t._e(),t._v(" "),"2"===s.userStatus||"4"===s.userStatus?i("el-button",{attrs:{disabled:"99"===s.overStatus,size:"mini",type:"primary"},on:{click:function(e){return t.openTestPaper(s)}}},[t._v(t._s(t._f("userStatusFilter")(s.userStatus)))]):t._e(),t._v(" "),"3"===s.userStatus?i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){return t.openTestPaper(s)}}},[t._v(t._s(t._f("userStatusFilter")(s.userStatus)))]):t._e()]}}])})],1)],1)],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit,"page-sizes":[10,20,30]},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getTrainList}})],1)],1)],1)],1)},a=[],n=i("6237"),l=i("333d"),r={name:"ComplexTable",components:{Pagination:l["a"]},filters:{overStatusFilter:function(t){return"0"===t?"进行中":"1"===t?"已完结":"2"===t?"补考中":"99"===t?"未开始":void 0},userStatusFilter:function(t){return"1"===t?"已参加":"2"===t||"4"===t?"开始考试":"3"===t?"超时未考":void 0}},data:function(){return{conutInto:{into:0,intoNot:0},showGradeResult:!1,tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,issueDate:"",examineName:""}}},created:function(){this.getConutInto(),this.getTrainList()},methods:{getsTime:function(t){this.listQuery.time=t},getConutInto:function(){var t=this;Object(n["c"])().then(function(e){t.conutInto=e.data})},getTrainList:function(){var t=this;this.listLoading=!0,Object(n["i"])(this.listQuery).then(function(e){t.list=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1)})},openTestPaper:function(t,e,i){var s=this,a=t.examineName;"99"===t.overStatus||("0"===t.overStatus?"2"===t.userStatus||"4"===t.userStatus?this.$confirm("确定要开始《"+a+'》考试吗？<br><span style="color:#DA1D32;">注意：本次考试仅有一次作答机会，考试中途不可离开此界面，否则系统将强制交卷！</span>',"提示",{confirmButtonText:"开始作答",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){s.$emit("showTestPaper","2",t)}).catch(function(){s.$notify({title:"提示",message:"已取消",duration:1500,type:"warning"})}):this.$emit("showTestPaper","5",t):"1"===t.overStatus?this.$emit("showTestPaper","5",t):"2"===t.overStatus&&("2"===t.userStatus||"4"===t.userStatus?this.$confirm("确定要开始《"+a+'》考试吗？<br><span style="color: #DA1D32;">注意：本次考试仅有一次作答机会，考试中途不可离开此界面，否则系统将强制交卷！</span>',"提示",{confirmButtonText:"开始作答",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){s.$emit("showTestPaper","2",t)}).catch(function(){s.$notify({title:"提示",message:"已取消",duration:1500,type:"warning"})}):this.$emit("showTestPaper","5",t)))},testPractice:function(){this.$emit("showTestPaper","7")}}},o=r,c=(i("f513"),i("2877")),p=Object(c["a"])(o,s,a,!1,null,"20d61174",null);e["default"]=p.exports},"4f89":function(t,e,i){},"55dd":function(t,e,i){"use strict";var s=i("5ca1"),a=i("d8e8"),n=i("4bf8"),l=i("79e5"),r=[].sort,o=[1,2,3];s(s.P+s.F*(l(function(){o.sort(void 0)})||!l(function(){o.sort(null)})||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(n(this)):r.call(n(this),a(t))}})},7600:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1",staticStyle:{"user-select":"none","-moz-user-select":"none","-webkit-user-select":"none"}},[i("backToTop"),t._v(" "),i("div",{staticClass:"borderB",staticStyle:{position:"relative",padding:"0 60px","padding-top":"30px"}},[i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),t.list.xlglExamExamine?i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.list.xlglExamExamine.examineName||t.list.xlglExamExamine.examineSubjectName)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"infoDiv"},[i("span",[t._v("姓名："+t._s(t.username1))]),t._v(" "),i("span",[t._v("时间："+t._s(t._f("parseTime")(new Date,"{y}-{m}-{d} {h}:{i}")))]),t._v(" "),i("span",[t._v("单位："+t._s(t.useDepart1))]),t._v(" "),i("span",{staticClass:"rightP",staticStyle:{"font-size":"24px","margin-top":"3px"}},[t._v("倒计时：\n        "),t._v("\n        "+t._s(t.dataTime)+"\n      ")]),t._v(" "),i("el-button",{staticClass:"rightP",attrs:{type:"primary",size:"small"},on:{click:t.saveBatch}},[t._v("交卷")])],1)],1),t._v(" "),i("div",{staticClass:"testDiv",staticStyle:{"overflow-y":"auto"}},[t.list.listType1&&t.list.listType1.length>0&&t.list.topicCount1?i("div",["0"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount1.num))+"、单选题（共"+t._s(t.list.topicCount1.typeCount)+"题，每题"+t._s(t.list.topicCount1.fractionalNumber)+"分，共"+t._s(t.list.topicCount1.numberAll)+"分）\n      ")]):i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount1.num))+"、单选题（共"+t._s(t.list.topicCount1.typeCount)+"题）\n      ")]),t._v(" "),t._l(t.list.listType1,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:1}})],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0?i("div",["0"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount2.num))+"、多选题（共"+t._s(t.list.topicCount2.typeCount)+"题，每题"+t._s(t.list.topicCount2.fractionalNumber)+"分，共"+t._s(t.list.topicCount2.numberAll)+"分）\n      ")]):i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount2.num))+"、多选题（共"+t._s(t.list.topicCount2.typeCount)+"题）\n      ")]),t._v(" "),t._l(t.list.listType2,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:2}})],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&t.list.topicCount3?i("div",["0"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount3.num))+"、判断题（共"+t._s(t.list.topicCount3.typeCount)+"题，每题"+t._s(t.list.topicCount3.fractionalNumber)+"分，共"+t._s(t.list.topicCount3.numberAll)+"分）\n      ")]):i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount3.num))+"、判断题（共"+t._s(t.list.topicCount3.typeCount)+"题）\n      ")]),t._v(" "),t._l(t.list.listType3,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:3}})],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&t.list.topicCount4?i("div",["0"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount4.num))+"、填空题（共"+t._s(t.list.topicCount4.typeCount)+"题，每题"+t._s(t.list.topicCount4.fractionalNumber)+"分，共"+t._s(t.list.topicCount4.numberAll)+"分）\n      ")]):i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount4.num))+"、填空题（共"+t._s(t.list.topicCount4.typeCount)+"题）\n      ")]),t._v(" "),t._l(t.list.listType4,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:4}})],1)})],2):t._e()])],1)},a=[],n=(i("ac6a"),i("55dd"),i("6237")),l=i("9907"),r=i("0625"),o={name:"TestPaper",components:{radio:l["default"],backToTop:r["a"]},filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{testId:{type:String,default:""},isnotexam:{type:String,default:""}},data:function(){return{list:{},times:0,id:"",username1:this.$store.state.user.userInfo.fullname,useDepart1:this.$store.state.user.userInfo.orgName,hours:0,time:0,dataTime:"00:00:00",typeNumStrId:"",typeNumStr:""}},watch:{},created:function(){this.$root.$emit("testHandle",!0),this.getExamineList()},methods:{getExamineList:function(){var t=this,e={examineId:this.testId,status:1};this.isnotexam&&"1"===this.isnotexam&&(e={examineId:this.testId,status:1,isNotExam:this.isnotexam}),Object(n["d"])(e).then(function(e){var i=e.data;if(i.topicCount.sort(function(t,e){return t.topicType-e.topicType}),i.topicCount.forEach(function(t,e){t.num=e,i["topicCount".concat(t.topicType)]=t}),i.listType2&&i.listType2.length>0)for(var s in i.listType2)i.listType2[s].reply=[];t.list=i,t.id=e.data.MainAnswerID,t.times=parseInt(60*e.data.xlglExamExamine.examineDate),t.typeNumStrId=e.data.xlglExamExamine.id,t.typeNumStr=e.data.xlglExamExamine.typeNumStr;var a=setInterval(function(){t.times--,t.dataTime=t.formatSecond(t.times),0===t.times&&(clearInterval(a),t.saveBatch())},1e3)})},formatSecond:function(t){var e=Math.floor(t%3600),i=this.formatType(Math.floor(t/3600))+":"+this.formatType(Math.floor(e/60))+":"+this.formatType(t%60);return i},formatType:function(t){return t>9?t:"0"+t},saveBatch:function(){var t=this,e=[];this.list.listType1&&this.list.listType1.length>0&&this.list.listType1.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply,s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)}),this.list.listType2&&this.list.listType2.length>0&&this.list.listType2.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply.length>0?t.reply.join(","):"",s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)}),this.list.listType3&&this.list.listType3.length>0&&this.list.listType3.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply,s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)}),this.list.listType4&&this.list.listType4.length>0&&this.list.listType4.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply,s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)});var i={mainAnswerId:this.id,xlglExamAnswer:JSON.stringify(e),status:1,makeupStatus:0};Object(n["g"])({xlglExamAnswer:i.xlglExamAnswer}).then(function(e){"0"===e.data.code&&t.$confirm(e.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n["l"])(i).then(function(e){if(0===e.data.code){t.$root.$emit("testHandle",!1),t.$notify({title:"提示",message:"交卷成功!",duration:1500,type:"success"});var i={examineId:e.data.examineId,mainAnswerId:e.data.mainAnswerId,lianxiType:e.data.lianxiType,typeNumStrId:t.typeNumStrId,typeNumStr:t.typeNumStr};t.$emit("showTestPaper","9",i)}else t.$notify({title:"提示",message:e.data.msg,duration:1500,type:"warning"})})}).catch(function(){t.$notify({title:"提示",message:"已取消",duration:1500,type:"warning"})})})},goBack:function(){this.saveBatch()}}},c=o,p=(i("d75f"),i("2877")),u=Object(p["a"])(c,s,a,!1,null,"11b75ed8",null);e["default"]=u.exports},"87f0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1"},["1"===t.showTestPaper?i("train-list",{on:{showTestPaper:t.openTestPaper}}):"2"===t.showTestPaper?i("test-paper",{ref:"testPaper",attrs:{"test-id":t.testId,"makeup-status":t.makeupStatus},on:{showTestPaper:t.openTestPaper}}):"3"===t.showTestPaper?i("grade-result",{attrs:{"test-id":t.testId,"examine-id":t.examineId,flag:t.flag},on:{showTestPaper:t.openTestPaper}}):"4"===t.showTestPaper?i("create-test",{on:{showPage:t.openTestPaper}}):"5"===t.showTestPaper?i("repeat-test",{attrs:{"test-id":t.testId,"test-name":t.testName,"test-time":t.testTime,"finish-status":t.finishStatus,"over-status":t.overStatus},on:{showPage:t.openTestPaper}}):"6"===t.showTestPaper?i("repeat-set",{attrs:{"test-id":t.testId,"test-name":t.testName,"test-time":t.testTime,"topic-type-list":t.topicType_list,"examine-subject-id":t.examineSubjectId},on:{showPage:t.openTestPaper}}):"7"===t.showTestPaper?i("pritice-test",{on:{showPage:t.openTestPaper}}):"8"===t.showTestPaper?i("test-practice",{ref:"testPractice",attrs:{"test-id":t.testId,isnotexam:t.isnotexam},on:{showTestPaper:t.openTestPaper}}):"9"===t.showTestPaper?i("practice-result",{attrs:{"test-id":t.testId,"examine-id":t.examineId,"lianxi-type":t.lianxiType,"type-num-str-id":t.typeNumStrId,"type-num-str":t.typeNumStr},on:{showTestPaper:t.openTestPaper}}):t._e()],1)},a=[],n=i("ea59"),l=i("374b"),r=i("b3c3"),o=i("fa8e"),c=i("8438"),p=i("049e"),u=i("63ab"),m=i("7600"),d=i("d4a4"),f={name:"ComplexTable",components:{trainList:l["default"],GradeResult:n["default"],testPaper:r["default"],CreateTest:o["default"],repeatTest:c["default"],repeatSet:p["default"],priticeTest:u["default"],testPractice:m["default"],practiceResult:d["default"]},data:function(){return{showGradeResult:!1,testId:"",examineId:"",makeupStatus:"",testName:"",testTime:"",topicType_list:[],showTestPaper:"1",flag:"",lianxiType:"",isnotexam:"",finishStatus:"",overStatus:"",typeNumStrId:"",typeNumStr:"",examineSubjectId:""}},methods:{openTestPaper:function(t,e){"1"===t||("2"===t?("0"===e.overStatus?this.makeupStatus="0":"2"===e.overStatus&&(this.makeupStatus="1"),this.testId=e.id):"3"===t?e.flag&&"1"===e.flag?(this.testId=e.id,this.examineId=e.examineId,this.flag=e.flag):(this.testId=e.id,this.examineId=e.examineId):"5"===t?(this.testId=e.id,this.testName=e.examineName,this.finishStatus=e.userStatus,this.overStatus=e.overStatus,this.testTime=e.examineStartDate+"~"+e.examineEndDate):"6"===t?(this.testId=e.id,this.testName=e.testName,this.testTime=e.testTime,this.topicType_list=e.topicType_list,this.examineSubjectId=e.examineSubjectId):"8"===t?(this.testId=e.id,this.isnotexam=e.isNotExam):"9"===t&&(this.examineId=e.examineId,this.testId=e.mainAnswerId,this.lianxiType=e.lianxiType,this.typeNumStrId=e.typeNumStrId,this.typeNumStr=e.typeNumStr)),this.showTestPaper=t}},beforeRouteLeave:function(t,e,i){var s=this;"/trainingAssessment/examinationList"!==e.path||"2"!==this.showTestPaper&&"8"!==this.showTestPaper?i():this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"2"===s.showTestPaper?s.$refs.testPaper.saveBatch():"8"===s.showTestPaper&&s.$refs.testPractice.saveBatch(),i()}).catch(function(){s.$message({type:"info",message:"已取消"}),i(!1)})}},y=f,h=i("2877"),v=Object(h["a"])(y,s,a,!1,null,null,null);e["default"]=v.exports},"8fbb":function(t,e,i){"use strict";var s=i("2803"),a=i.n(s);a.a},9907:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[1===t.type?i("div",[i("el-col",{class:{correctStatus:"1"===t.item.correctStatus},attrs:{span:24}},[t._v("\n      "+t._s(t.index+1)+"、"+t._s(t.item.topicColumn)+"\n      "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(t.item.topicResult))]):t._e(),t._v(" "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(t.item.reply))]):t._e()]),t._v(" "),t._l(t.item.columnList,function(e,s){return i("el-col",{key:s,staticClass:"paper-col",attrs:{span:24/t.item.columnList.length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(s+1))])])}),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{staticClass:"optionOverflow",staticStyle:{width:"100%"},model:{value:t.item.reply,callback:function(e){t.$set(t.item,"reply",e)},expression:"item.reply"}},t._l(t.item.topicOptionMap,function(e,s){return i("el-radio",{key:s,staticStyle:{width:"25%","margin-right":"0"},attrs:{label:s}},[t._v(t._s(s)+"、"+t._s(e)),i("br"),t.item.map&&t.item.map[s]?i("img",{staticClass:"paper2Image",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+t.item.map[s]}}):t._e()])}),1)],1)],2):2===t.type?i("div",[i("el-col",{class:{correctStatus:"1"===t.item.correctStatus},attrs:{span:24}},[t._v("\n      "+t._s(t.index+1)+"、"+t._s(t.item.topicColumn)+"\n      "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(t.item.topicResult))]):t._e(),t._v(" "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(t.item.reply))]):t._e()]),t._v(" "),t._l(t.item.columnList,function(e,s){return i("el-col",{key:s,staticClass:"paper-col",attrs:{span:24/t.item.columnList.length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(s+1))])])}),t._v(" "),i("el-col",{attrs:{span:24}},[t.item.reply1?i("el-checkbox-group",{staticClass:"optionOverflow",staticStyle:{width:"100%"},model:{value:t.item.reply1,callback:function(e){t.$set(t.item,"reply1",e)},expression:"item.reply1"}},t._l(t.item.topicOptionMap,function(e,s){return i("el-checkbox",{key:s,staticStyle:{width:"25%","margin-right":"0"},attrs:{label:s}},[t._v(t._s(s)+"、"+t._s(e)),i("br"),t.item.map&&t.item.map[s]?i("img",{staticClass:"paper2Image",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+t.item.map[s]}}):t._e()])}),1):i("el-checkbox-group",{staticClass:"optionOverflow",staticStyle:{width:"100%"},model:{value:t.item.reply,callback:function(e){t.$set(t.item,"reply",e)},expression:"item.reply"}},t._l(t.item.topicOptionMap,function(e,s){return i("el-checkbox",{key:s,staticStyle:{width:"25%","margin-right":"0"},attrs:{label:s}},[t._v(t._s(s)+"、"+t._s(e)),i("br"),t.item.map&&t.item.map[s]?i("img",{staticClass:"paper2Image",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+t.item.map[s]}}):t._e()])}),1)],1)],2):3===t.type?i("div",[i("el-col",{class:{correctStatus:"1"===t.item.correctStatus},attrs:{span:24}},[t._v("\n      "+t._s(t.index+1)+"、"+t._s(t.item.topicColumn)+"\n      "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(t.item.topicResult))]):t._e(),t._v(" "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(t.item.reply))]):t._e()]),t._v(" "),t._l(t.item.columnList,function(e,s){return i("el-col",{key:s,staticClass:"paper-col",attrs:{span:24/t.item.columnList.length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(s+1))])])}),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-radio-group",{staticClass:"optionOverflow",model:{value:t.item.reply,callback:function(e){t.$set(t.item,"reply",e)},expression:"item.reply"}},[i("el-radio",{attrs:{label:"对"}},[t._v("正确")]),t._v(" "),i("el-radio",{attrs:{label:"错"}},[t._v("错误")])],1)],1)],2):4===t.type?i("div",[i("el-col",{class:{correctStatus:"1"===t.item.correctStatus},attrs:{span:24}},[t._v("\n      "+t._s(t.index+1)+"、"+t._s(t.item.topicColumn)+"\n      "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(t.item.topicResult))]):t._e(),t._v(" "),1===t.flag?i("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(t.item.reply))]):t._e()]),t._v(" "),t._l(t.item.columnList,function(e,s){return i("el-col",{key:s,staticClass:"paper-col",attrs:{span:24/t.item.columnList.length}},[i("img",{staticClass:"paperImage",attrs:{src:"/app/xlgl/xlgldocumentfile/downLoad?fileId="+e}}),t._v(" "),i("p",{staticStyle:{"text-align":"center"}},[t._v("图"+t._s(s+1))])])}),t._v(" "),i("el-col",{class:["optionOverflow",t.item.topicColumn.length>100?"ma-t_25":""],attrs:{span:24}},[i("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:t.item.reply,callback:function(e){t.$set(t.item,"reply",e)},expression:"item.reply"}})],1)],2):t._e()])},a=[],n=(i("c5f6"),{name:"Radio",props:{item:{type:Object,default:function(){}},type:{type:Number,default:0},index:{type:Number,default:0},flag:{type:Number,default:0}}}),l=n,r=(i("ffcc"),i("2877")),o=Object(r["a"])(l,s,a,!1,null,"a3816328",null);e["default"]=o.exports},"9b34":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1",staticStyle:{"pointer-events":"none","user-select":"none","-moz-user-select":"none","-webkit-user-select":"none"}},[t.list.listType1&&t.list.listType1.length>0&&t.list.topicCount1?i("div",["1"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount1.num))+"、单选题（共"+t._s(t.list.topicCount1.typeCount)+"题）\n    ")]):i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount1.num))+"、单选题（共"+t._s(t.list.topicCount1.typeCount)+"题，每题"+t._s(t.list.topicCount1.fractionalNumber)+"分，共"+t._s(t.list.topicCount1.numberAll)+"分）\n    ")]),t._v(" "),t._l(t.list.listType1,function(t,e){return i("el-row",{key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:1,flag:1}})],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&t.list.topicCount2?i("div",["1"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount2.num))+"、多选题（共"+t._s(t.list.topicCount2.typeCount)+"题）\n    ")]):i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount2.num))+"、多选题（共"+t._s(t.list.topicCount2.typeCount)+"题，每题"+t._s(t.list.topicCount2.fractionalNumber)+"分，共"+t._s(t.list.topicCount2.numberAll)+"分）\n    ")]),t._v(" "),t._l(t.list.listType2,function(t,e){return i("el-row",{key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:2,flag:1}})],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&t.list.topicCount3?i("div",["1"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount3.num))+"、判断题（共"+t._s(t.list.topicCount3.typeCount)+"题）\n    ")]):i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount3.num))+"、判断题（共"+t._s(t.list.topicCount3.typeCount)+"题，每题"+t._s(t.list.topicCount3.fractionalNumber)+"分，共"+t._s(t.list.topicCount3.numberAll)+"分）\n    ")]),t._v(" "),t._l(t.list.listType3,function(t,e){return i("el-row",{key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:3,flag:1}})],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&t.list.topicCount4?i("div",["1"===t.list.xlglExamExamine.lianxiType?i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount4.num))+"、填空题（共"+t._s(t.list.topicCount4.typeCount)+"题）\n    ")]):i("h2",[t._v("\n      "+t._s(t._f("indexFilter")(t.list.topicCount4.num))+"、填空题（共"+t._s(t.list.topicCount4.typeCount)+"题，每题"+t._s(t.list.topicCount4.fractionalNumber)+"分，共"+t._s(t.list.topicCount4.numberAll)+"分）\n    ")]),t._v(" "),t._l(t.list.listType4,function(t,e){return i("el-row",{key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:4,flag:1}})],1)})],2):t._e()])},a=[],n=i("9907"),l={name:"TestPaper",components:{radio:n["default"]},filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{list:{type:Object,default:{}}},data:function(){return{}},created:function(){},methods:{}},r=l,o=(i("ccc1"),i("2877")),c=Object(o["a"])(r,s,a,!1,null,"e8e9680c",null);e["default"]=c.exports},b3c3:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1",staticStyle:{"background-color":"#ffffff",height:"100%",overflow:"auto","user-select":"none","-moz-user-select":"none","-webkit-user-select":"none"}},[i("backToTop"),t._v(" "),i("div",{staticClass:"borderB",staticStyle:{position:"relative",padding:"0 60px","padding-top":"30px"}},[i("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),t.list.xlglExamExamine?i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.list.xlglExamExamine.examineName)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"infoDiv"},[i("span",[t._v("姓名："+t._s(t.username1))]),t._v(" "),i("span",[t._v("时间："+t._s(t._f("parseTime")(new Date,"{y}-{m}-{d} {h}:{i}")))]),t._v(" "),i("span",[t._v("单位："+t._s(t.useDepart1))]),t._v(" "),i("span",{staticClass:"rightP",staticStyle:{"font-size":"24px","margin-top":"3px"}},[t._v("倒计时：\n        "),t._v("\n        "+t._s(t.dataTime)+"\n      ")]),t._v(" "),i("el-button",{staticClass:"rightP",attrs:{type:"primary",size:"small"},on:{click:t.saveBatch}},[t._v("交卷")])],1)],1),t._v(" "),i("div",{staticClass:"testDiv"},[t.list.listType1&&t.list.listType1.length>0&&t.list.topicCount1?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount1.num))+"、单选题（共"+t._s(t.list.topicCount1.typeCount)+"题，每题"+t._s(t.list.topicCount1.fractionalNumber)+"分，共"+t._s(t.list.topicCount1.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType1,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:1}})],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount2.num))+"、多选题（共"+t._s(t.list.topicCount2.typeCount)+"题，每题"+t._s(t.list.topicCount2.fractionalNumber)+"分，共"+t._s(t.list.topicCount2.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType2,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:2}})],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&t.list.topicCount3?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount3.num))+"、判断题（共"+t._s(t.list.topicCount3.typeCount)+"题，每题"+t._s(t.list.topicCount3.fractionalNumber)+"分，共"+t._s(t.list.topicCount3.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType3,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:3}})],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&t.list.topicCount4?i("div",[i("h2",[t._v("\n        "+t._s(t._f("indexFilter")(t.list.topicCount4.num))+"、填空题（共"+t._s(t.list.topicCount4.typeCount)+"题，每题"+t._s(t.list.topicCount4.fractionalNumber)+"分，共"+t._s(t.list.topicCount4.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType4,function(t,e){return i("el-row",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"gapSty borderB"},[i("radio",{attrs:{item:t,index:e,type:4}})],1)})],2):t._e()])],1)},a=[],n=(i("ac6a"),i("55dd"),i("6237")),l=i("9907"),r=i("0625"),o={name:"TestPaper",components:{radio:l["default"],backToTop:r["a"]},filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{testId:{type:String,default:""},makeupStatus:{type:String,default:""}},data:function(){return{list:{},times:0,id:"",username1:this.$store.state.user.userInfo.fullname,useDepart1:this.$store.state.user.userInfo.orgName,hours:0,time:0,dataTime:"00:00:00"}},watch:{},created:function(){this.$root.$emit("testHandle",!0),this.getExamineList()},methods:{getExamineList:function(){var t=this,e={examineId:this.testId};Object(n["d"])(e).then(function(e){var i=e.data;if(i.topicCount.sort(function(t,e){return t.topicType-e.topicType}),i.topicCount.forEach(function(t,e){t.num=e,i["topicCount".concat(t.topicType)]=t}),i.listType2&&i.listType2.length>0)for(var s in i.listType2)i.listType2[s].reply=[];t.list=i,t.id=e.data.MainAnswerID,t.times=parseInt(60*e.data.xlglExamExamine.examineDate);var a=setInterval(function(){t.times--,t.dataTime=t.formatSecond(t.times),0===t.times&&(clearInterval(a),t.saveBatch())},1e3)})},formatSecond:function(t){var e=Math.floor(t%3600),i=this.formatType(Math.floor(t/3600))+":"+this.formatType(Math.floor(e/60))+":"+this.formatType(t%60);return i},formatType:function(t){return t>9?t:"0"+t},saveBatch:function(){var t=this,e=[];this.list.listType1&&this.list.listType1.length>0&&this.list.listType1.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply,s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)}),this.list.listType2&&this.list.listType2.length>0&&this.list.listType2.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply.length>0?t.reply.join(","):"",s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)}),this.list.listType3&&this.list.listType3.length>0&&this.list.listType3.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply,s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)}),this.list.listType4&&this.list.listType4.length>0&&this.list.listType4.map(function(t,i){var s={};s.examineTopicId=t.id,s.topicColumn=t.topicColumn,s.topicType=t.topicType,s.topicOption=t.topicOption,s.topicResult=t.topicResult,s.reply=t.reply,s.fraction=t.fractionalNumber,s.pictureStatus=t.pictureStatus,s.number=i+1,e.push(s)});var i={mainAnswerId:this.id,xlglExamAnswer:JSON.stringify(e),status:0,makeupStatus:this.makeupStatus};Object(n["g"])({xlglExamAnswer:i.xlglExamAnswer}).then(function(e){"0"===e.data.code&&t.$confirm(e.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n["k"])(i).then(function(e){if(0===e.data.code){t.$root.$emit("testHandle",!1),t.$notify({title:"提示",message:"交卷成功!",duration:1500,type:"success"});var i={id:t.id,examineId:t.testId};t.$emit("showTestPaper","3",i)}else t.$notify({title:"提示",message:e.data.msg,duration:1500,type:"warning"})})}).catch(function(){t.$notify({title:"提示",message:"已取消",duration:1500,type:"warning"})})})},goBack:function(){this.saveBatch()}}},c=o,p=(i("0def"),i("2877")),u=Object(p["a"])(c,s,a,!1,null,"7466475a",null);e["default"]=u.exports},bbfb:function(t,e,i){"use strict";var s=i("079f"),a=i.n(s);a.a},ccc1:function(t,e,i){"use strict";var s=i("db27"),a=i.n(s);a.a},d366:function(t,e,i){"use strict";var s=i("e92b"),a=i.n(s);a.a},d411:function(t,e,i){},d4a4:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container1",staticStyle:{"user-select":"none","-moz-user-select":"none","-webkit-user-select":"none"}},[i("backToTop"),t._v(" "),i("el-container",[i("el-header",[i("svg-icon",{staticClass:"icon",staticStyle:{cursor:"pointer",position:"absolute",right:"40px",top:"40px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),t.selfInfo||t.list.xlglExamExamine?i("h3",{staticStyle:{"text-align":"center","font-size":"26px"}},[t._v(" "+t._s(t.selfInfo.examineName||t.list.xlglExamExamine.examineSubjectName))]):t._e()],1),t._v(" "),i("el-header",{staticStyle:{"line-height":"60px"}},[t.selfInfo?i("el-row",[i("el-col",{attrs:{span:4}},[t._v("\n          姓名："+t._s(t.selfInfo.userName)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          时间："+t._s(t.selfInfo.time)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          单位："+t._s(t.selfInfo.orgName)+"\n        ")])],1):t._e()],1),t._v(" "),i("el-main",[t.list&&"1"===t.lianxiType?i("h2",{staticStyle:{"text-align":"center"}},[t._v("答题已完成。本次答题，回答正确的数量是"+t._s(t.list.right)+"道题，回答错误的数量是："+t._s(t.list.error)+"道题")]):t._e(),t._v(" "),t.selfInfo&&"0"===t.lianxiType?i("h2",{staticStyle:{"text-align":"center"}},[t._v("答题已完成，本次考试的成绩为："),i("span",{staticClass:"spanSty spanSty1"},[t._v(" "+t._s(t.selfInfo.fractionsum))]),t._v("分，"),i("span",{staticClass:"spanSty"},[t._v(t._s(t.selfInfo.level))]),t._v("等级")]):t._e(),t._v(" "),i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"考试概况",name:"first"}},[i("test-content",{attrs:{list:t.list}})],1)],1),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.testAgain}},[t._v("再考一次")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.testAgainSet}},[t._v("重新组考")])],1)],1)],1)],1)},a=[],n=(i("28a5"),i("ac6a"),i("55dd"),i("7f7f"),i("f2d1")),l=i("9b34"),r=i("0625"),o={name:"GradeResult",components:{testContent:l["default"],backToTop:r["a"]},props:{testId:{type:String,default:""},examineId:{type:String,default:""},lianxiType:{type:String,default:""},typeNumStrId:{type:String,default:""},typeNumStr:{type:String,default:""}},data:function(){return{selfInfo:{},tableData:[],listQuery:{page:1,limit:20,examineId:this.examineId,isNotExam:1,status:0,makeupStatus:0},activeName:"first",list:{}}},created:function(){this.getSelfInfo(),this.getTestInfo()},methods:{getSelfInfo:function(){var t=this;Object(n["b"])({mainAnswerId:this.testId}).then(function(e){t.selfInfo=e.data})},handleClick:function(t,e){"second"===t.name?this.getAllGradeList():this.getTestInfo()},getTestInfo:function(){var t=this,e={examineId:this.examineId,lianxiType:this.lianxiType};Object(n["d"])(e).then(function(e){var i=e.data;i.topicCount.sort(function(t,e){return t.topicType-e.topicType}),i.topicCount.forEach(function(t,e){t.num=e,i["topicCount".concat(t.topicType)]=t}),i.listType2&&i.listType2.length>0&&i.listType2.forEach(function(t){t.reply1=t.topicResult.split("")}),t.list=i})},goBack:function(){this.$emit("showTestPaper","1")},testAgainSet:function(){this.$emit("showTestPaper","7")},testAgain:function(){var t=this,e={id:this.typeNumStrId,typeAndNum:this.typeNumStr,status:1};Object(n["e"])(e).then(function(e){if("0"===e.data.code){var i={id:t.examineId,isNotExam:"1"};t.$emit("showTestPaper","8",i)}})}}},c=o,p=(i("bbfb"),i("2877")),u=Object(p["a"])(c,s,a,!1,null,"1df2e376",null);e["default"]=u.exports},d75f:function(t,e,i){"use strict";var s=i("4f89"),a=i.n(s);a.a},db27:function(t,e,i){},e92b:function(t,e,i){},ea59:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container",staticStyle:{overflow:"auto","background-color":"#ffffff",height:"100%","user-select":"none","-moz-user-select":"none","-webkit-user-select":"none"}},[i("backToTop"),t._v(" "),i("el-container",[i("el-header",[i("svg-icon",{staticClass:"icon",staticStyle:{cursor:"pointer",position:"absolute",right:"40px",top:"40px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),t.selfInfo?i("h3",{staticStyle:{"text-align":"center","font-size":"26px"}},[t._v(" "+t._s(t.selfInfo.examineName))]):t._e()],1),t._v(" "),t.selfInfo?i("el-header",{staticStyle:{"line-height":"60px"}},[i("el-row",[i("el-col",{attrs:{span:4}},[t._v("\n          姓名："+t._s(t.selfInfo.userName)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          时间："+t._s(t.selfInfo.time)+"\n        ")]),t._v(" "),i("el-col",{attrs:{span:4}},[t._v("\n          单位："+t._s(t.selfInfo.orgName)+"\n        ")])],1)],1):t._e(),t._v(" "),i("el-main",[t.selfInfo?i("h2",{staticStyle:{"text-align":"center"}},[t._v("答题已完成，本次考试的成绩为："),i("span",{staticClass:"spanSty spanSty1"},[t._v(" "+t._s(t.selfInfo.fractionsum))]),t._v("分，"),i("span",{staticClass:"spanSty"},[t._v(t._s(t.selfInfo.level))]),t._v("等级")]):t._e(),t._v(" "),i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"考试概况",name:"first"}},[i("test-content",{attrs:{list:t.list}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"已考人员清单",name:"second"}},[i("el-table",{staticClass:"new-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"calc(60vh - 90px)",stripe:"",fit:!0}},[i("el-table-column",{attrs:{prop:"replyUserName",label:"已考人员",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"organName",label:"单位",align:"center","min-width":"300"}}),t._v(" "),i("el-table-column",{attrs:{prop:"fractionsum",label:"成绩",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"level",label:"等级",align:"center"}})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getAllGradeList}})],1)],1)],1)],1)],1)},a=[],n=(i("28a5"),i("ac6a"),i("55dd"),i("7f7f"),i("f2d1")),l=i("333d"),r=i("9b34"),o=i("0625"),c={name:"GradeResult",components:{Pagination:l["a"],testContent:r["default"],backToTop:o["a"]},props:{testId:{type:String,default:""},examineId:{type:String,default:""},flag:{type:String,default:""}},data:function(){return{selfInfo:{},tableData:[],listQuery:{page:1,limit:20,examineId:this.examineId,isNotExam:1,status:0},list:{},total:0,activeName:"first"}},created:function(){this.getSelfInfo(),this.getTestInfo()},methods:{getSelfInfo:function(){var t=this,e={mainAnswerId:this.testId};this.flag&&"1"===this.flag&&(e={examineId:this.testId}),Object(n["b"])(e).then(function(e){t.selfInfo=e.data})},getAllGradeList:function(){var t=this;Object(n["a"])(this.listQuery).then(function(e){t.tableData=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1)})},handleClick:function(t,e){"second"===t.name?this.getAllGradeList():this.getTestInfo()},getTestInfo:function(){var t=this,e={examineId:this.examineId};Object(n["c"])(e).then(function(e){var i=e.data;i.topicCount.sort(function(t,e){return t.topicType-e.topicType}),i.topicCount.forEach(function(t,e){t.num=e,i["topicCount".concat(t.topicType)]=t}),i.listType2&&i.listType2.length>0&&i.listType2.forEach(function(t){t.reply1=t.topicResult.split("")}),t.list=i})},goBack:function(){this.$emit("showTestPaper","1")}}},p=c,u=(i("d366"),i("2877")),m=Object(u["a"])(p,s,a,!1,null,"90c7a9fa",null);e["default"]=m.exports},ece0:function(t,e,i){},f2d1:function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return n}),i.d(e,"c",function(){return l}),i.d(e,"d",function(){return r}),i.d(e,"e",function(){return o});var s=i("b775");function a(t){return Object(s["a"])({url:"/app/xlgl/xlglexammainanswer/getMainAnsUser",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/app/xlgl/xlglexammainanswer/list",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/app/xlgl/xlglexamanswer/view/info",method:"post",data:t})}function r(t){return Object(s["a"])({url:"/app/xlgl/xlglexamanswer/view/infoLianXi",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/app/xlgl/xlglexamexamine/randomExam",method:"post",data:t})}},f513:function(t,e,i){"use strict";var s=i("d411"),a=i.n(s);a.a},f607:function(t,e,i){},ffcc:function(t,e,i){"use strict";var s=i("f607"),a=i.n(s);a.a}}]);