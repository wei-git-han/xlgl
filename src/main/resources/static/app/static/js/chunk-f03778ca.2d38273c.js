(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f03778ca"],{a417:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"b",function(){return r}),a.d(e,"a",function(){return l});var n=a("b775");function i(){return Object(n["a"])({url:"/app/base/user/tree",method:"get"})}function r(){return Object(n["a"])({url:"/app/base/user/chuTree",method:"get"})}function l(){return Object(n["a"])({url:"/app/base/user/allTree",method:"get"})}},cc5e:function(t,e,a){"use strict";a.d(e,"d",function(){return i}),a.d(e,"e",function(){return r}),a.d(e,"a",function(){return l}),a.d(e,"c",function(){return s}),a.d(e,"j",function(){return o}),a.d(e,"i",function(){return u}),a.d(e,"h",function(){return c}),a.d(e,"b",function(){return d}),a.d(e,"g",function(){return p}),a.d(e,"f",function(){return f});var n=a("b775");function i(t){return Object(n["a"])({url:"/app/xlgl/roleset/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/app/xlgl/roleset/saveOrUpdate",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/app/xlgl/roleset/delete",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/app/base/dept/syncTree",method:"post",params:t})}function o(t){return Object(n["a"])({url:"/app/base/user/list",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/app/base/user/updateZbqk",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/app/base/user/updateSfyx",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/app/xlgl/xlglmsgremind/list",method:"get",data:t})}function p(t){return Object(n["a"])({url:"/app/xlgl/xlglmsgremind/update",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/app/base/dept/updateIsInval",method:"post",data:t})}},d8e5:function(t,e,a){"use strict";a.d(e,"d",function(){return i}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return l}),a.d(e,"e",function(){return s}),a.d(e,"b",function(){return o}),a.d(e,"f",function(){return u}),a.d(e,"g",function(){return c});var n=a("b775");function i(t){return Object(n["a"])({url:"/app/xlgl/adminset/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/app/xlgl/adminset/juList",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/app/xlgl/adminset/chuList",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/app/xlgl/adminset/saveOrUpdate",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/app/xlgl/adminset/delete",method:"get",params:t})}function u(){return Object(n["a"])({url:"/app/base/user/allTree",method:"get"})}function c(t){return Object(n["a"])({url:"/app/xlgl/taskmenu/getPeoplePermissionList",method:"post",data:t})}},fbb9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container1",staticStyle:{padding:"0 10px 20px"}},[a("el-card",[a("div",{staticStyle:{height:"40px","text-align":"right"}},[a("el-button",{staticClass:"addBtn1 noBorder",attrs:{type:"success",size:"small",icon:"el-icon-plus"},on:{click:t.addPeople}},[t._v("新增")]),t._v(" "),a("el-button",{staticClass:"deleteBtn1 noBorder",attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:t.deleteUser}},[t._v("删除")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:"",stripe:"","highlight-current-rowstyle":"width: 100%;"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"部门","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.deptName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.userName))])]}}])}),a("el-table-column",{attrs:{label:"角色","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t.ROLES_LIST[n.roleFlag]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"350","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{staticClass:"noBorder editBtn",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.handleUpdate(n)}}},[t._v("编辑")]),t._v(" "),"delete"!=n.status?a("el-button",{staticClass:"noBorder deleteBtn",attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.deleteUser(n)}}},[t._v("\n            删除\n          ")]):t._e()]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.pagesize},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"pagesize",e)},pagination:t.getRoleList}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,"before-close":t.closeDialog},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticClass:"configForm",staticStyle:{margin:"0px 50px"},attrs:{rules:t.rules,model:t.temp,"label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"userName"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"400",trigger:"click"},model:{value:t.showTree,callback:function(e){t.showTree=e},expression:"showTree"}},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{height:"400px"}},[a("el-tree",{attrs:{data:t.treeData,props:t.defaultProps,"node-key":"id","default-expanded-keys":["root"]},on:{"node-click":t.selectUser}})],1),t._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"请输入姓名",readonly:"readonly"},slot:"reference",model:{value:t.temp.userName,callback:function(e){t.$set(t.temp,"userName",e)},expression:"temp.userName"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"角色："}},[a("el-select",{attrs:{placeholder:"请选择角色"},model:{value:t.temp.roleFlag,callback:function(e){t.$set(t.temp,"roleFlag",e)},expression:"temp.roleFlag"}},t._l(t.roleList,function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.updateData}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:t.closeDialog}},[t._v("取消")])],1)],1)],1)},i=[],r=(a("ac6a"),a("cc5e")),l=a("d8e5"),s=a("a417"),o=a("333d"),u={name:"BusinessConfig",components:{Pagination:o["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,pagesize:10},departList:[],rolesList:[],collectList:[],temp:{id:"",userName:"",userId:"",roleFlag:""},defaultProps:{children:"children",label:"text"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"新增",connect:"权限交接"},roleList:[{id:"1",text:"首长"},{id:"2",text:"首长秘书"},{id:"3",text:"局长"},{id:"4",text:"局秘书"},{id:"5",text:"处长"},{id:"6",text:"参谋"}],certigierList:[],showTree:!1,rules:{},treeData:[],ROLES_LIST:{1:"首长",2:"首长秘书",3:"局长",4:"局秘书",5:"处长",6:"参谋"},show:this.$store.state.user.userInfo.adminFlag}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var t=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then(function(e){t.list=e.data.rows,t.total=e.data.total,setTimeout(function(){t.listLoading=!1},1)})},addPeople:function(){this.dialogStatus="create","0"===this.show||"1"===this.show||"3"===this.show?this.getBuAllTree():this.getTree(),this.dialogFormVisible=!0,this.temp.adminType=this.listQuery.adminType},getTree:function(){var t=this;Object(s["c"])().then(function(e){t.treeData=[e.data]})},getBuAllTree:function(){var t=this;Object(l["f"])().then(function(e){t.treeData=[e.data]})},selectUser:function(t){"1"===t.type&&(this.temp.userId=t.id,this.temp.userName=t.text,this.showTree=!1)},handleUpdate:function(t){var e=this,a=t.id,n=t.userId,i=t.userName,r=t.roleFlag;this.temp={id:a,userId:n,userName:i,roleFlag:r},this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},closeDialog:function(){this.temp={},this.dialogFormVisible=!1},updateData:function(){var t=this;this.$refs["dataForm"].validate(function(e){if(e){var a=Object.assign({},t.temp);Object(r["e"])(a).then(function(e){var a="",n="";"success"===e.data.result?(n="success",a="create"===t.dialogStatus?"新增成功":"修改成功",t.getRoleList(),t.closeDialog()):(n="fail",a="create"===t.dialogStatus?"新增失败":"修改失败",t.getRoleList(),t.closeDialog()),t.$notify({title:"提示",message:a,duration:1500,type:n})})}})},handleSelectionChange:function(t){this.collectList=t},deleteUser:function(t){var e=this,a=[];t.id?a.push(t.id):this.collectList.length>0?this.collectList.forEach(function(t){a.push(t.id)}):this.$notify({title:"提示",message:"请选择需要删除的数据！",duration:1500,type:"warning"}),a.length>0&&this.$confirm("此操作将永久删除人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["a"])({ids:a.join(",")}).then(function(t){t.data.result?e.$notify({title:"提示",message:"删除成功!",duration:1500,type:"success"}):e.$notify({title:"提示",message:t.data.message,duration:1500,type:"warning"}),e.getRoleList()})}).catch(function(){e.$notify({title:"提示",message:"已取消删除",duration:1500,type:"warning"})})}}},c=u,d=a("2877"),p=Object(d["a"])(c,n,i,!1,null,"39b4a6b0",null);e["default"]=p.exports}}]);