(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-610fc19a"],{"38bc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{"overflow-x":"hidden",height:"860px"}},[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],key:e.treeKey,attrs:{props:e.defaultProps,lazy:"",load:e.loadNode1},on:{"node-click":e.clickNode}})],1)],1),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{data:e.list,border:"",fit:"",stripe:"","highlight-current-rowstyle":"width: 70%;",height:"760"}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.truename))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"手机号","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.mobile))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"部门","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.deptName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否有效",align:"center",width:"350","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#C0CCDA","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.changeStatusYx(n)}},model:{value:n.sfyx,callback:function(t){e.$set(n,"sfyx",t)},expression:"row.sfyx"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否在编",align:"center",width:"350","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#C0CCDA","active-value":"1","inactive-value":"0"},on:{change:function(t){return e.changeStatus(n)}},model:{value:n.sfzb,callback:function(t){e.$set(n,"sfzb",t)},expression:"row.sfzb"}})]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.pagesize},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"pagesize",t)},pagination:e.getUserList}})],1)],1)],1)],1)},s=[],i=a("333d"),r=a("cc5e"),l={name:"BusinessConfig",components:{Pagination:i["a"]},data:function(){return{treeKey:0,tableKey:0,list:null,total:0,listLoading:!1,treeLoading:!1,listQuery:{page:1,pagesize:10,organId:""},departList:[],rolesList:[],collectList:[],temp:{id:"",userName:"",userId:""},defaultProps:{label:"text",children:"zones"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"新增",connect:"权限交接"},roleList:[{id:"1",text:"部管理员"},{id:"2",text:"局管理员"},{id:"4",text:"处管理员"}],certigierList:[],showTree:!1,rules:{},treeData:[]}},created:function(){this.getUserList()},methods:{getOrgTree:function(){var e=this;return this.treeLoading=!0,new Promise(function(t,a){Object(r["b"])().then(function(a){e.treeData=a.data,e.treeLoading=!1,t(e.treeData)})})},getUserList:function(e){var t=this;Object(r["g"])(this.listQuery).then(function(e){t.list=e.data.rows,t.total=e.data.total,setTimeout(function(){t.listLoading=!1},200)})},loadNode1:function(e,t){0===e.level?this.getOrgTree().then(function(e){t(e)}):e.data.children?Object(r["b"])({id:e.data.id}).then(function(e){t(e.data)}):t([])},clickNode:function(e){this.listQuery.organId=e.id,this.getUserList()},changeStatus:function(e){var t=this;Object(r["f"])({sfzb:e.sfzb,id:e.id}).then(function(e){"success"===e.data.result?t.$message({message:"修改成功",type:"success"}):t.$message({message:e.data.msg,type:"info"})})},changeStatusYx:function(e){var t=this;Object(r["e"])({sfyx:e.sfyx,id:e.id}).then(function(e){"success"===e.data.result?t.$message({message:"修改成功",type:"success"}):t.$message({message:e.data.msg,type:"info"})})}}},o=l,c=a("2877"),u=Object(c["a"])(o,n,s,!1,null,"3a241523",null);t["default"]=u.exports},cc5e:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return l}),a.d(t,"g",function(){return o}),a.d(t,"f",function(){return c}),a.d(t,"e",function(){return u});var n=a("b775");function s(e){return Object(n["a"])({url:"/app/xlgl/roleset/list",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/app/xlgl/roleset/saveOrUpdate",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/app/xlgl/roleset/delete",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/app/base/dept/syncTree",method:"post",params:e})}function o(e){return Object(n["a"])({url:"/app/base/user/list",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/app/base/user/updateZbqk",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/app/base/user/updateSfyx",method:"post",data:e})}}}]);