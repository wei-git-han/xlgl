(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2206a96","chunk-505b0e33"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",function(){return n}),Math.easeInOutQuad=function(e,t,a,l){return e/=l/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function n(e,t,a){var n=s(),o=e-n,r=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=r;var s=Math.easeInOutQuad(u,n,o,t);i(s),u<t?l(e):a&&"function"===typeof a&&a()};c()}},"0e80":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"div1"},[a("iframe",{attrs:{src:e.onlineFileUrl,frameborder:"0",width:"100%",height:"100%"}})])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"div1"},[a("div",{staticClass:"div2"},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[a("el-table",{key:e.tableKey,ref:"filetable",attrs:{data:e.fileList,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.handleCurrent}},[a("el-table-column",{attrs:{label:"文件名",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"上传时间",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.examineSubjectName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"上传人",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.updateDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleModifyStatus(l,"delete")}}},[e._v("下载")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleModifyStatus(l,"delete")}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getLegalFileList}})],1)])])],1)],1)},i=[],s=a("b775");function n(e){return Object(s["a"])({url:"/app/xlgl/xlglrule/list",method:"post",data:e})}var o=a("333d"),r={name:"DetailLegalInfo",components:{Pagination:o["a"]},props:{type:{type:String,default:""}},data:function(){return{tableKey:0,fileDialog:!1,fileData:{access_token:this.$store.state.user.token},fileUploadUrl:"",onlineFileUrl:"/app/pdf.js/web/viewer.html",listQuery:{type:this.type,page:1,limit:20}}},mounted:function(){this.$refs.filetable.setCurrentRow(this.fileList[0])},methods:{getLegalFileList:function(){var e=this;n(this.listQuery).then(function(t){e.fileList=t.data.list})},handleCurrent:function(e){this.$refs.filetable.setCurrentRow(e)},handleModifyStatus:function(e,t){var a=this;deleteFileById({ids:e.id}).then(function(e){0===e.data.code?a.$message({type:"success",message:"删除成功!",onClose:function(){a.getTestList()}}):a.$message({type:"info",message:e.data.msg})})}}},u=r,c=a("2877"),d=Object(c["a"])(u,l,i,!1,null,"b0e81d32",null);t["default"]=d.exports},"27d8":function(e,t,a){"use strict";var l=a("c802"),i=a.n(l);i.a},b862:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-button",{staticStyle:{float:"right","margin-top":"5px",position:"absolute",right:"80px","z-index":"999"},attrs:{type:"success",size:"mini"},on:{click:e.openDialog}},[e._v("新增")]),e._v(" "),a("el-tabs",{staticClass:"legalTab",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全军管理法规",name:"0"}},[a("dlegalInfo",{ref:"type1",attrs:{type:e.type}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"装备发展管理法规",name:"1"}},[a("dlegalInfo",{ref:"type2",attrs:{type:e.type}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"常用资料",name:"2"}},[a("dlegalInfo",{ref:"type3",attrs:{type:e.type}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"其他法规",name:"3"}},[a("dlegalInfo",{ref:"type4",attrs:{type:e.type}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"上传附件",visible:e.fileDialog,width:"40%","before-close":e.closeFileDialog},on:{"update:visible":function(t){e.fileDialog=t}}},[a("div",{staticClass:"centerPosition"},[a("el-form",{staticClass:"demo-form-inline questionForm",attrs:{inline:!0,size:"medium"}},[a("el-form-item",{attrs:{label:"资料类型选择：",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"","auto-upload":!1,"with-credentials":!0,action:e.fileUploadUrl,data:e.fileData,"on-success":e.successFile1,"on-error":e.errorFile1}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("支持上传excel等格式")])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFile}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.closeFileDialog}},[e._v("取 消")])],1)])],1)},i=[],s=(a("7f7f"),a("0e80")),n={name:"LegalIndex",components:{dlegalInfo:s["default"]},data:function(){return{activeName:"0",fileList:[],options:[{label:"全军管理法规",value:"0"},{label:"装备发展部管理法规",value:"1"},{label:"常用资料",value:"2"},{label:"其他法规",value:"3"}],fileUploadUrl:"",fileData:{access_token:this.$store.state.user.token},selectValue:"",fileDialog:!1,listQuery:{type:"",page:1,limit:20},type:"0"}},mounted:function(){this.$refs.type1.getLegalFileList()},methods:{handleClick:function(e,t){this.type=e.name,"0"===e.name?this.$refs.type1.getLegalFileList():"1"===e.name?this.$refs.type2.getLegalFileList():"2"===e.name?this.$refs.type3.getLegalFileList():"3"===e.name&&this.$refs.type4.getLegalFileList()},openDialog:function(){this.fileDialog=!0},submitFile:function(){this.$refs.upload.submit()},closeFileDialog:function(){this.$refs.upload.clearFiles(),this.fileDialog=!1},successFile1:function(e){var t=this;200===e.code||e.fileId?this.$message({type:"success",message:"上传成功!",onClose:function(){t.getTestList(),t.closeFileDialog()}}):this.$message({type:"info",message:e.msg})},errorFile1:function(){this.$message({type:"info",message:"上传失败！"})}}},o=n,r=(a("27d8"),a("2877")),u=Object(r["a"])(o,l,i,!1,null,"5172b69b",null);t["default"]=u.exports},c802:function(e,t,a){}}]);