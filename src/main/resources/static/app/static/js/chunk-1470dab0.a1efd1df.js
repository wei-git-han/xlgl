(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1470dab0","chunk-654c5852","chunk-584ac3c9","chunk-4deffbe6","chunk-6cfeedfb","chunk-2e22649e","chunk-28be7d99","chunk-0675ffb6","chunk-a415ae36","chunk-2482dfc4","chunk-8e5a9d78"],{"0302":function(t,e,a){},"049e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createTest"},[a("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),a("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-top":"-30px","margin-right":"20px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),a("div",{staticClass:"pageContent"},[a("el-form",{ref:"form",staticClass:"oraganForm",attrs:{model:t.listQuery,rules:t.rules,"label-width":"150px",inline:!0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"考试时间：",required:""}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"examineStartDateStr"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionStart,placeholder:"选择开始时间"},on:{change:t.getsTime1},model:{value:t.listQuery.examineStartDateStr,callback:function(e){t.$set(t.listQuery,"examineStartDateStr",e)},expression:"listQuery.examineStartDateStr"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("至")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"examineEndDateStr"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionEnd,placeholder:"选择结束时间"},on:{change:t.getsTime2},model:{value:t.listQuery.examineEndDateStr,callback:function(e){t.$set(t.listQuery,"examineEndDateStr",e)},expression:"listQuery.examineEndDateStr"}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{float:"right","margin-right":"100px"}},[a("span",[t._v("合计：")]),t._v(" "),a("span",{staticClass:"size1"},[t._v(t._s(t.typesList.totalGradeNum))]),t._v("分\n          "),a("span",{staticClass:"size1"},[t._v(t._s(t.typesList.totalTestNum))]),t._v("题\n        ")])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"50px"}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{float:"left"}},[t._v("题型设置")])]),t._v(" "),a("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.typesList.typeList,function(e,i){return a("el-row",{key:i,attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"题型：",prop:"type"}},[a("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(i)},clear:function(e){return t.cancelSelect(i)}},model:{value:e.type1,callback:function(a){t.$set(e,"type1",a)},expression:"obj.type1"}},t._l(t.typesList.typeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:" "}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(a){t.$set(e,"testNum",a)},expression:"obj.testNum"}},[a("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:" "}},[a("el-col",{attrs:{span:24}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(a){t.$set(e,"testPrice",a)},expression:"obj.testPrice"}},[a("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1)],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"text-align":"center",margin:"40px 0px 20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.repeatTestSave}},[t._v("发起补考")])],1)],1)],1)},s=[],n=a("35b7"),l=a("6237"),r={name:"RepeatTestSet",components:{TitleCard:n["a"]},filters:{typeFilter:function(t){return"1"===t?"单选题":"2"===t?"多选题":"3"===t?"判断题":"4"===t?"填空题":"5"===t?"简答题":void 0}},props:{testId:{type:String,default:""},testName:{type:String,default:""},testTime:{type:String,default:""}},data:function(){var t=this;return{cardTitle:this.testName+"("+this.testTime+")",updateInfo:[],listQuery:{examineName:"",examineDate:"",examineStartDateStr:"",examineEndDateStr:"",examineAllNumber:0,examineSubjectId:"",examineSubjectName:"测试科目",IssueStatus:"0",typeAndNum:"",status:0},typesList:{typeList:[{type:"1",name:"单选题"},{type:"2",name:"多选题"},{type:"3",name:"判断题"},{type:"4",name:"填空题"}],totalGradeNum:0,totalTestNum:0},pickOptionStart:{disabledDate:function(e){var a=t.listQuery.examineEndDateStr;if(a)return e.getTime()>new Date(a).getTime()}},pickOptionEnd:{disabledDate:function(e){var a=t.listQuery.examineStartDateStr;if(a)return e.getTime()<new Date(a).getTime()}}}},watch:{typesList:{handler:function(t,e){var a=0,i=0;for(var s in this.typesList.typeList){var n=this.typesList.typeList[s];a+=this.StringToNumber(n.testNum)*this.StringToNumber(n.testPrice),i+=this.StringToNumber(n.testNum)}this.$set(this.typesList,"totalGradeNum",a),this.$set(this.typesList,"totalTestNum",i)},deep:!0}},methods:{getsTime1:function(t){this.listQuery.examineStartDateStr=t},getsTime2:function(t){this.listQuery.examineEndDateStr=t},repeatTestSave:function(){var t=this,e=[];for(var a in this.typesList.typeList){var i=this.typesList.typeList[a];i.type1&&e.push(i.type1+"-"+this.StringToNumber(i.testNum)+"-"+this.StringToNumber(i.testPrice))}var s={examineId:this.testId,makeUpEndDateStr:this.listQuery.examineStartDateStr,makeUpStartDateStr:this.listQuery.examineEndDateStr,typeAndNum:e.join(",")};Object(l["g"])(s).then(function(e){0===e.data.code?t.$emit("showPage","1"):t.$message({type:"info",message:e.data.msg,onClose:function(){this.$emit("showPage","1")}})})},goBack:function(){this.$emit("showPage","1")},selectType:function(t){this.$set(this.typesList.typeList[t],"disabled",!0)},cancelSelect:function(t){for(var e in this.typesList.typeList)this.$set(this.typesList.typeList[t],"disabled",!1)},StringToNumber:function(t){return t?parseInt(t):0}}},o=r,c=(a("9f3a"),a("2877")),p=Object(c["a"])(o,i,s,!1,null,"2deca3a3",null);e["default"]=p.exports},"0584":function(t,e,a){"use strict";var i=a("d0dc"),s=a.n(i);s.a},"09f4":function(t,e,a){"use strict";a.d(e,"a",function(){return l}),Math.easeInOutQuad=function(t,e,a,i){return t/=i/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function s(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,a){var l=n(),r=t-l,o=20,c=0;e="undefined"===typeof e?500:e;var p=function t(){c+=o;var n=Math.easeInOutQuad(c,l,r,e);s(n),c<e?i(t):a&&"function"===typeof a&&a()};p()}},"17d8":function(t,e,a){},2967:function(t,e,a){},"2a52":function(t,e,a){"use strict";var i=a("3cb3"),s=a.n(i);s.a},"374b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"margin-card",attrs:{"body-style":{padding:"0px 10px"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("span",[t._v("进行中考试：")]),t._v(" "),a("span",{staticClass:"intoSty"},[t._v(t._s(t.conutInto.into))]),t._v(" "),a("span",[t._v("已完成考试：")]),t._v(" "),a("span",{staticClass:"intoNotSty"},[t._v(t._s(t.conutInto.intoNot))])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("span",{staticClass:"demonstration"},[t._v("发起时间")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right"},model:{value:t.listQuery.time,callback:function(e){t.$set(t.listQuery,"time",e)},expression:"listQuery.time"}}),t._v(" "),a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入考试标题"},model:{value:t.listQuery.examineName,callback:function(e){t.$set(t.listQuery,"examineName",e)},expression:"listQuery.examineName"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"50px"},attrs:{size:"mini",type:"primary"},on:{click:t.getTrainList}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"50px"},attrs:{size:"mini",type:"success"},on:{click:t.testPractice}},[t._v("自主考试练习")])],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{height:"calc(100vh - 340px)",overflow:"hidden"},attrs:{span:24}},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:"",stripe:""},on:{"row-click":t.openTestPaper}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"考试名称",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.examineName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"考试科目",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.examineSubjectName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"考试截止时间",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.examineEndDate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"当前状态",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return["0"===i.overStatus?a("span",{staticClass:"color color1"},[t._v(t._s(t._f("overStatusFilter")(i.overStatus)))]):t._e(),t._v(" "),"1"===i.overStatus?a("span",{staticClass:"color color2"},[t._v(t._s(t._f("overStatusFilter")(i.overStatus)))]):t._e(),t._v(" "),"2"===i.overStatus?a("span",{staticClass:"color color3"},[t._v(t._s(t._f("overStatusFilter")(i.overStatus)))]):t._e(),t._v(" "),"99"===i.overStatus?a("span",{staticClass:"color color4"},[t._v(t._s(t._f("overStatusFilter")(i.overStatus)))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"参考率",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.ratio))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"已参加人数",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.numberInto))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"需要补考人数",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.numberIntoNot))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"完成状态",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("userStatusFilter")(i.userStatus)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发布时间",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.issueDate))])]}}])})],1)],1)],1)],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getTrainList}})],1)],1)],1)],1)},s=[],n=a("6237"),l=a("333d"),r={name:"ComplexTable",components:{Pagination:l["a"]},filters:{overStatusFilter:function(t){return"0"===t?"进行中":"1"===t?"已完结":"2"===t?"补考中":"99"===t?"未开始":void 0},userStatusFilter:function(t){return"1"===t?"已完成":"2"===t?"未考试":"3"===t?"已补考":void 0}},data:function(){return{conutInto:{into:0,intoNot:0},showGradeResult:!1,tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,issueDate:"",examineName:""}}},created:function(){this.getConutInto(),this.getTrainList()},methods:{getConutInto:function(){var t=this;Object(n["a"])().then(function(e){t.conutInto=e.data})},getTrainList:function(){var t=this;this.listLoading=!0,Object(n["f"])(this.listQuery).then(function(e){t.list=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1500)})},openTestPaper:function(t,e,a){var i=this;"99"===t.overStatus?this.$message({type:"info",message:"还未到考试时间，请等待！"}):"0"===t.overStatus?"2"===t.userStatus?this.$confirm("是否确定要开始考试，考试后不可中途离开此页面，否则将强制交卷。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$emit("showTestPaper","2",t)}).catch(function(){i.$message({type:"info",message:"已取消"})}):this.$emit("showTestPaper","5",t):"1"===t.overStatus?this.$emit("showTestPaper","5",t):"2"===t.overStatus&&("2"===t.userStatus?this.$confirm("是否确定要开始考试，考试后不可中途离开此页面，否则将强制交卷。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$emit("showTestPaper","2",t)}).catch(function(){i.$message({type:"info",message:"已取消"})}):this.$emit("showTestPaper","5",t))},testPractice:function(){this.$emit("showTestPaper","7")}}},o=r,c=(a("a668"),a("2877")),p=Object(c["a"])(o,i,s,!1,null,"669818c4",null);e["default"]=p.exports},"3cb3":function(t,e,a){},"54fc":function(t,e,a){},"59b6":function(t,e,a){},6237:function(t,e,a){"use strict";a.d(e,"f",function(){return s}),a.d(e,"b",function(){return n}),a.d(e,"h",function(){return l}),a.d(e,"a",function(){return r}),a.d(e,"d",function(){return o}),a.d(e,"c",function(){return c}),a.d(e,"e",function(){return p}),a.d(e,"g",function(){return u}),a.d(e,"j",function(){return m}),a.d(e,"i",function(){return d});var i=a("b775");function s(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/list",method:"get",params:t})}function n(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/view/examine",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/app/xlgl/xlglexamanswer/saveBatch",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/conutInto",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/app/xlgl/xlglexammainanswer/list",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/examineTotal",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/topicTypeCount",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexaminemakeup/save",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/saveOrUpdate",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/app/xlgl/xlglexamanswer/saveBatchLIANXI",method:"post",data:t})}},"63ab":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createTest"},[a("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),a("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-top":"-30px","margin-right":"20px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),a("div",{staticClass:"pageContent"},[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"form",staticClass:"oraganForm",attrs:{model:t.listQuery,"label-width":"150px",inline:!0}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"考试科目选择：",prop:"examineSubjectId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listQuery.examineSubjectId,callback:function(e){t.$set(t.listQuery,"examineSubjectId",e)},expression:"listQuery.examineSubjectId"}},t._l(t.subjectListAll,function(t){return a("el-option",{key:t.id,attrs:{label:t.subjectName,value:t.id}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"考试时长：",prop:"examineDate"}},[a("el-input",{attrs:{placeholder:"请输入考试时长"},model:{value:t.listQuery.examineDate,callback:function(e){t.$set(t.listQuery,"examineDate",e)},expression:"listQuery.examineDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"考试类别："}},[a("el-radio-group",{model:{value:t.listQuery.status,callback:function(e){t.$set(t.listQuery,"status",e)},expression:"listQuery.status"}},[a("el-radio",{attrs:{label:0}},[t._v("模拟考试练习")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("自定义练习")])],1)],1)],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{background:"#EEF5FF",padding:"10px 20px",color:"#4794E9","max-height":"150px"},attrs:{span:14}},[t._v("\n      "+t._s(t.listQuery.state)+"\n    ")]),t._v(" "),a("el-row",{staticStyle:{"margin-top":"150px"}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{float:"left"}},[t._v("题型设置")])]),t._v(" "),a("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.typesList.typeList,function(e,i){return a("el-row",{key:i,attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"题型：",prop:"type"}},[a("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(i)},clear:function(e){return t.cancelSelect(i)}},model:{value:e.type1,callback:function(a){t.$set(e,"type1",a)},expression:"obj.type1"}},t._l(t.typesList.typeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:" "}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(a){t.$set(e,"testNum",a)},expression:"obj.testNum"}},[a("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:" "}},[a("el-col",{attrs:{span:24}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(a){t.$set(e,"testPrice",a)},expression:"obj.testPrice"}},[a("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1)],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"text-align":"center",margin:"40px 0px 20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.repeatTestSave}},[t._v("开始练习")]),t._v(" "),a("el-button",{on:{click:t.goBack}},[t._v("取消")])],1)],1)],1)},s=[],n=a("35b7"),l=a("6237"),r=a("bafa"),o=a("e64d"),c={name:"PriticeTestSet",components:{TitleCard:n["a"]},filters:{typeFilter:function(t){return"1"===t?"单选题":"2"===t?"多选题":"3"===t?"判断题":"4"===t?"填空题":"5"===t?"简答题":void 0}},props:{testId:{type:String,default:""},testName:{type:String,default:""},testTime:{type:String,default:""}},data:function(){var t=this;return{cardTitle:"自主练习",updateInfo:[],listQuery:{examineName:"",examineDate:"",examineStartDateStr:"",examineEndDateStr:"",examineAllNumber:0,examineSubjectId:"",examineSubjectName:"",IssueStatus:"0",typeAndNum:"",status:0,state:""},typesList:{typeList:[{type:"1",name:"单选题"},{type:"2",name:"多选题"},{type:"3",name:"判断题"},{type:"4",name:"填空题"}],totalGradeNum:0,totalTestNum:0},pickOptionStart:{disabledDate:function(e){var a=t.listQuery.examineEndDateStr;if(a)return e.getTime()>new Date(a).getTime()}},pickOptionEnd:{disabledDate:function(e){var a=t.listQuery.examineStartDateStr;if(a)return e.getTime()<new Date(a).getTime()}},subjectListAll:[]}},watch:{typesList:{handler:function(t,e){var a=0,i=0;for(var s in this.typesList.typeList){var n=this.typesList.typeList[s];a+=this.StringToNumber(n.testNum)*this.StringToNumber(n.testPrice),i+=this.StringToNumber(n.testNum)}this.$set(this.typesList,"totalGradeNum",a),this.$set(this.typesList,"totalTestNum",i)},deep:!0},"listQuery.examineSubjectId":{handler:function(t,e){this.getSubjectState()},deep:!0}},created:function(){this.getSubjectListAll()},methods:{repeatTestSave:function(){var t=this,e=[];for(var a in this.typesList.typeList){var i=this.typesList.typeList[a];i.type1&&e.push(i.type1+"-"+this.StringToNumber(i.testNum)+"-"+this.StringToNumber(i.testPrice))}var s={examineDate:this.listQuery.examineDate,examineSubjectId:this.listQuery.examineSubjectId,examineSubjectName:this.listQuery.examineSubjectName,lianxiType:this.listQuery.status,status:1,typeAndNum:e.join(",")};Object(l["j"])(s).then(function(e){if("0"===e.data.code){var a={id:e.data.examineId};t.$emit("showPage","8",a)}else t.$message({type:"info",message:e.data.msg})})},goBack:function(){this.$emit("showPage","1")},selectType:function(t){this.$set(this.typesList.typeList[t],"disabled",!0)},cancelSelect:function(t){for(var e in this.typesList.typeList)this.$set(this.typesList.typeList[t],"disabled",!1)},StringToNumber:function(t){return t?parseInt(t):0},getSubjectListAll:function(){var t=this;Object(r["e"])().then(function(e){t.subjectListAll=e.data.findList,t.subjectListAll.length>1&&(t.listQuery.examineSubjectId=t.subjectListAll[0].id,t.listQuery.examineSubjectName=t.subjectListAll[0].subjectName)})},getSubjectState:function(){var t=this,e={id:this.listQuery.examineSubjectId};Object(o["g"])(e).then(function(e){t.listQuery.state=e.data.state})}}},p=c,u=(a("d618"),a("2877")),m=Object(u["a"])(p,i,s,!1,null,"81052fc6",null);e["default"]=m.exports},"672c":function(t,e,a){},6861:function(t,e,a){},"6e70":function(t,e,a){"use strict";var i=a("6861"),s=a.n(i);s.a},7600:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"borderB",staticStyle:{position:"relative",padding:"0 60px","padding-top":"30px"}},[a("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),a("div",{staticClass:"title"},[t._v("\n      "+t._s(t.list.xlglExamExamine.examineName||t.list.xlglExamExamine.examineSubjectName)+"\n    ")]),t._v(" "),a("div",{staticClass:"infoDiv"},[a("span",[t._v("姓名："+t._s(t.username1))]),t._v(" "),a("span",[t._v("时间："+t._s(t._f("parseTime")(new Date,"{y}-{m}-{d} {h}:{i}")))]),t._v(" "),a("span",[t._v("单位："+t._s(t.useDepart1))]),t._v(" "),a("span",{staticClass:"rightP"},[t._v("倒计时：\n        "),t.hours>0?a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.hours)+"时")]):t._e(),t._v("\n        "+t._s(t.time)+"分\n      ")]),t._v(" "),a("el-button",{staticClass:"rightP",attrs:{type:"primary",size:"mini"},on:{click:t.saveBatch}},[t._v("交卷")])],1)],1),t._v(" "),a("div",{staticClass:"testDiv"},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},t._l(t.list.topicCount,function(e,i){return a("div",{key:i},[t.list.listType1&&t.list.listType1.length>0&&"1"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、单选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType1,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item.reply"}},t._l(e.topicOptionMap,function(e,i){return a("el-radio",{key:i,staticStyle:{margin:"0px 100px 0px 50px"},attrs:{label:i}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&"2"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、多选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType2,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-checkbox-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item2.reply"}},t._l(e.topicOptionMap,function(e,i){return a("el-checkbox",{key:i,attrs:{label:i}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&"3"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、判断题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType3,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item3.reply"}},[a("el-radio",{attrs:{label:"对"}},[t._v("正确")]),t._v(" "),a("el-radio",{attrs:{label:"错"}},[t._v("错误")])],1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&"4"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、填空题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType4,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item4.reply"}})],1)],1)})],2):t._e()])}),0)],1)])},s=[],n=a("6237"),l={name:"TestPaper",filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{testId:{type:String,default:""},isnotexam:{type:String,default:""}},data:function(){return{list:null,times:0,id:"",username1:this.$store.state.user.userInfo.fullname,useDepart1:this.$store.state.user.userInfo.orgName,hours:0,time:0}},watch:{times:{handler:function(){this.times>60?this.hours=parseInt(this.times/60):this.hours=0,this.time=parseInt(this.times%60)}}},created:function(){this.getExamineList()},methods:{getExamineList:function(){var t=this,e={examineId:this.testId,status:1};this.isnotexam&&"1"===this.isnotexam&&(e={examineId:this.testId,status:1,isNotExam:this.isnotexam}),Object(n["b"])(e).then(function(e){var a=e.data;if(a.listType2&&a.listType2.length>0)for(var i in a.listType2)a.listType2[i].reply=[];t.list=a,t.id=e.data.MainAnswerID,t.times=parseInt(e.data.xlglExamExamine.examineDate);var s=setInterval(function(){t.times--,0===t.times&&(clearInterval(s),t.saveBatch())},6e3)})},saveBatch:function(){var t=this,e=[];this.list.listType1&&this.list.listType1.length>1&&this.list.listType1.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType2&&this.list.listType2.length>1&&this.list.listType2.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply.length>0?t.reply.join(","):"",a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType3&&this.list.listType3.length>1&&this.list.listType3.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType4&&this.list.listType4.length>1&&this.list.listType4.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType5&&this.list.listType5.length>1&&this.list.listType5.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)});var a={mainAnswerId:this.id,xlglExamAnswer:JSON.stringify(e),status:1,makeupStatus:0};Object(n["i"])(a).then(function(e){0===e.data.code?t.$message({type:"success",message:"交卷成功!",onClose:function(){var a={examineId:e.data.examineId,mainAnswerId:e.data.mainAnswerId,lianxiType:e.data.lianxiType};t.$emit("showTestPaper","9",a)}}):t.$message({type:"info",message:e.data.msg})})},goBack:function(){var t=this;this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.saveBatch()}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},r=l,o=(a("a95b"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"2476b12e",null);e["default"]=c.exports},8438:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticStyle:{"background-color":"#ffffff","padding-bottom":"10px"},attrs:{span:18}},[a("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),a("el-button",{staticStyle:{float:"right",cursor:"pointer","margin-top":"-40px","margin-right":"80px"},attrs:{type:"primary",size:"mini"},on:{click:t.openOriginTest}},[t._v("查看原题")]),t._v(" "),a("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-top":"-30px","margin-right":"20px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),a("div",{staticClass:"rateDiv"},[a("el-col",{attrs:{span:3}},[t._v("\n          参考率：\n          "),a("span",{staticClass:"color1 size1"},[t._v(t._s(t.info.raioAll)+"%")])]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          参考人数：\n          "),a("span",{staticClass:"color2 size1"},[t._v(t._s(t.info.peopleNum)+"人")])]),t._v(" "),a("el-col",{attrs:{span:5}},[t._v("\n          需补考人数：\n          "),a("span",{staticClass:"color3 size1"},[t._v(t._s(t.info.fillUpNum)+"人")])]),t._v(" "),a("el-col",{attrs:{span:3}},[t._v("\n          优秀率：\n          "),a("span",{staticClass:"color1 size1"},[t._v(t._s(t.info.excellent)+"%")])]),t._v(" "),a("el-col",{attrs:{span:3}},[t._v("\n          优良率：\n          "),a("span",{staticClass:"color2 size1"},[t._v(t._s(t.info.fine)+"%")])]),t._v(" "),a("el-col",{attrs:{span:3}},[t._v("\n          及格率：\n          "),a("span",{staticClass:"color3 size1"},[t._v(t._s(t.info.pass)+"%")])])],1),t._v(" "),a("div",[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{placeholder:"请输入答题人部门"},model:{value:t.listQuery.organName,callback:function(e){t.$set(t.listQuery,"organName",e)},expression:"listQuery.organName"}}),t._v(" "),a("el-input",{staticStyle:{width:"20%"},attrs:{placeholder:"请输入答题人名称"},model:{value:t.listQuery.replyUserName,callback:function(e){t.$set(t.listQuery,"replyUserName",e)},expression:"listQuery.replyUserName"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getRepeatTestList}},[t._v("查询")])],1),t._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{staticStyle:{height:"calc(100vh - 520px)",overflow:"hidden"},attrs:{label:"已考人员清单",name:"first"}},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:""}},[a("el-table-column",{attrs:{label:"姓名",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.replyUserName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"部门",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.organName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"成绩",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.fractionsum))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"等级",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.level))])]}}])})],1)],1)],1),t._v(" "),a("el-tab-pane",{staticStyle:{height:"calc(100vh - 520px)",overflow:"hidden"},attrs:{label:"未考人员清单",name:"second"}},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,border:"",fit:""}},[a("el-table-column",{attrs:{label:"姓名",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.replyUserName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"部门",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.organName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否补考",width:"170px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("bkFilter")(i.makeupStatus)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"成绩",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.fractionsum))])]}}])})],1)],1)],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getRepeatTestList}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-row",{staticStyle:{height:"calc(100vh - 140px)",overflow:"hidden"}},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},[a("el-col",{staticClass:"div2",attrs:{span:24}},[a("div",[a("div",{staticClass:"div3"},[a("svg-icon",{staticClass:"icon imgP",attrs:{"icon-class":"xinwen"}}),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div4"},[t._v("\n                    原考题配比"),a("br")]),t._v(" "),a("div",{staticClass:"div4"},[t._v("\n                    "+t._s(t._f("textFileter")(t.originalTopic.length))+"题型比例\n                  ")])]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v("\n                  "+t._s(t.originalTopic.totalGrade)+"题"+t._s(t.originalTopic.totalNum)+"分\n                ")])],1),t._v(" "),a("div",t._l(t.originalTopic,function(e,i){return a("el-col",{key:i,staticClass:"div5",attrs:{span:12}},[a("el-col",{staticStyle:{"line-height":"80px"},attrs:{span:12}},[t._v("\n                    "+t._s(t._f("typeFilter")(e.topicType))+"\n                  ")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.numberAll)+"分\n                    ")]),t._v(" "),a("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.typeCount)+"题\n                    ")])])],1)}),1)])]),t._v(" "),a("el-col",{staticClass:"div2",staticStyle:{"margin-top":"20px"},attrs:{span:24}},[a("div",[a("div",{staticClass:"div3"},[a("svg-icon",{staticClass:"icon imgP",attrs:{"icon-class":"benyue"}}),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div4"},[t._v("\n                    补考题配比"),a("br")]),t._v(" "),a("div",{staticClass:"div4"},[t._v("\n                    "+t._s(t._f("textFileter")(t.topicTypeCount.length))+"题型比例\n                  ")])])],1),t._v(" "),t.topicTypeCount.length>0?a("div",t._l(t.topicTypeCount,function(e,i){return a("el-col",{key:i,staticClass:"div5",attrs:{span:12}},[a("el-col",{staticStyle:{"line-height":"80px"},attrs:{span:12}},[t._v("\n                    "+t._s(t._f("typeFilter")(e.topicType))+"\n                  ")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.numberAll)+"分\n                    ")]),t._v(" "),a("div",{staticClass:"div4"},[t._v("\n                      "+t._s(e.typeCount)+"题\n                    ")])])],1)}),1):t._e(),t._v(" "),0===t.show||1===t.show||3===t.show?a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{width:"100%",height:"40px","font-size":"1rem"},attrs:{type:"success",size:"mini"},on:{click:t.repeatSet}},[t._v("发起补考")])],1):t._e()],1)])],1)],1)],1)],1)],1)},s=[],n=(a("7f7f"),a("35b7")),l=a("333d"),r=a("6237"),o={name:"RepeatTest",components:{TitleCard:n["a"],Pagination:l["a"]},filters:{bkFilter:function(t){return"0"===t?"否":"1"===t?"是":void 0},typeFilter:function(t){return"1"===t?"单选题":"2"===t?"多选题":"3"===t?"判断题":"4"===t?"填空题":"5"===t?"简答题":void 0},textFileter:function(t){return 0===t?"零":1===t?"一":2===t?"二":3===t?"三":4===t?"四":5===t?"五":void 0}},props:{testId:{type:String,default:""},testName:{type:String,default:""},testTime:{type:String,default:""}},data:function(){return{cardTitle:this.testName+"("+this.testTime+")",listQuery:{page:1,limit:20,organName:"",replyUserName:""},listLoading:!1,tableKey:0,list:null,total:0,activeName:"first",info:null,topicTypeCount:null,originalTopic:null,show:this.$store.state.user.userInfo.adminFlag}},created:function(){this.listQuery.isNotExam=1,this.getRepeatTestList(),this.getExamineTotal(),this.getTopicTypeCount()},methods:{handleClick:function(t,e){"first"===t.name?this.listQuery.isNotExam=1:this.listQuery.isNotExam=0,this.getRepeatTestList()},getRepeatTestList:function(){var t=this;this.listQuery.examineId=this.testId,this.listQuery.status=0,Object(r["d"])(this.listQuery).then(function(e){t.list=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1500)})},getExamineTotal:function(){var t=this,e={examineId:this.testId};Object(r["c"])(e).then(function(e){t.info=e.data})},getTopicTypeCount:function(){var t=this,e={examineId:this.testId};Object(r["e"])(e).then(function(e){if(t.topicTypeCount=e.data.makeUpTopic,t.originalTopic=e.data.originalTopic,e.data.originalTopic.length>0){for(var a in t.originalTopic.totalGrade=0,t.originalTopic.totalNum=0,t.originalTopic)if("totalGrade"!==a&&"totalNum"!==a){var i=t.originalTopic[a];t.originalTopic.totalGrade+=parseInt(i.numberAll),t.originalTopic.totalNum+=parseInt(i.typeCount)}}else t.originalTopic.totalGrade=parseInt(0),t.originalTopic.totalNum=parseInt(0)})},goBack:function(){this.$emit("showPage","1")},repeatSet:function(){var t={id:this.testId,testName:this.testName,testTime:this.testTime};this.$emit("showPage","6",t)},openOriginTest:function(){var t={id:this.testId,examineId:this.testId,flag:"1"};this.$emit("showPage","3",t)}}},c=o,p=(a("0584"),a("2877")),u=Object(p["a"])(c,i,s,!1,null,"611f3106",null);e["default"]=u.exports},"87f0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},["1"===t.showTestPaper?a("train-list",{on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"2"===t.showTestPaper?a("test-paper",{ref:"testPaper",attrs:{"test-id":t.testId,"makeup-status":t.makeupStatus},on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"3"===t.showTestPaper?a("grade-result",{attrs:{"test-id":t.testId,"examine-id":t.examineId,flag:t.flag},on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"4"===t.showTestPaper?a("create-test",{on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"5"===t.showTestPaper?a("repeat-test",{attrs:{"test-id":t.testId,"test-name":t.testName,"test-time":t.testTime},on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"6"===t.showTestPaper?a("repeat-set",{attrs:{"test-id":t.testId,"test-name":t.testName,"test-time":t.testTime},on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"7"===t.showTestPaper?a("pritice-test",{on:{showPage:t.openTestPaper}}):t._e(),t._v(" "),"8"===t.showTestPaper?a("test-practice",{attrs:{"test-id":t.testId,isnotexam:t.isnotexam},on:{showTestPaper:t.openTestPaper}}):t._e(),t._v(" "),"9"===t.showTestPaper?a("practice-result",{attrs:{"test-id":t.testId,"examine-id":t.examineId,"lianxi-type":t.lianxiType},on:{showTestPaper:t.openTestPaper}}):t._e()],1)},s=[],n=a("ea59"),l=a("374b"),r=a("b3c3"),o=a("fa8e"),c=a("8438"),p=a("049e"),u=a("63ab"),m=a("7600"),d=a("d4a4"),f={name:"ComplexTable",components:{trainList:l["default"],GradeResult:n["default"],testPaper:r["default"],CreateTest:o["default"],repeatTest:c["default"],repeatSet:p["default"],priticeTest:u["default"],testPractice:m["default"],practiceResult:d["default"]},data:function(){return{showGradeResult:!1,testId:"",examineId:"",makeupStatus:"",testName:"",testTime:"",showTestPaper:"1",flag:"",lianxiType:"",isnotexam:""}},methods:{openTestPaper:function(t,e){"1"===t||("2"===t?("0"===e.overStatus?this.makeupStatus="0":"2"===e.overStatus&&(this.makeupStatus="1"),this.testId=e.id):"3"===t?e.flag&&"1"===e.flag?(this.testId=e.id,this.examineId=e.examineId,this.flag=e.flag):(this.testId=e.id,this.examineId=e.examineId):"5"===t?(this.testId=e.id,this.testName=e.examineSubjectName,this.testTime=e.examineStartDate+"~"+e.examineEndDate):"6"===t?(this.testId=e.id,this.testName=e.testName,this.testTime=e.testTime):"8"===t?(this.testId=e.id,this.isnotexam=e.isNotExam):"9"===t&&(this.examineId=e.examineId,this.testId=e.mainAnswerId,this.lianxiType=e.lianxiType)),this.showTestPaper=t}},beforeRouteLeave:function(t,e,a){var i=this;"/trainingAssessment/examinationList"===e.path&&"2"===this.showTestPaper?this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$refs.testPaper.saveBatch(),a()}).catch(function(){i.$message({type:"info",message:"已取消"}),a(!1),document.getElementsByClassName("router-link-exact-active router-link-active")[0].children[0].click()}):a()}},v=f,y=a("2877"),h=Object(y["a"])(v,i,s,!1,null,null,null);e["default"]=h.exports},"8e33":function(t,e,a){"use strict";var i=a("0302"),s=a.n(i);s.a},"9b34":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},t._l(t.list.topicCount,function(e,i){return a("div",{key:i},[t.list.listType1&&t.list.listType1.length>0&&"1"===e.topicType?a("div",[a("h2",[t._v("\n        "+t._s(t._f("indexFilter")(i))+"、单选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType1,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(i+1)+"、"+t._s(e.topicColumn)+"\n          "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item.reply"}},t._l(e.topicOptionMap,function(e,i){return a("el-radio",{key:i,staticStyle:{margin:"0px 100px 0px 50px"},attrs:{label:i}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&"2"===e.topicType?a("div",[a("h2",[t._v("\n        "+t._s(t._f("indexFilter")(i))+"、多选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType2,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(i+1)+"、"+t._s(e.topicColumn)+"\n          "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-checkbox-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item2.reply"}},t._l(e.topicOptionMap,function(e,i){return a("el-checkbox",{key:i,attrs:{label:i}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&"3"===e.topicType?a("div",[a("h2",[t._v("\n        "+t._s(t._f("indexFilter")(i))+"、判断题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType3,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(i+1)+"、"+t._s(e.topicColumn)+"\n          "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item3.reply"}},t._l(e.topicOptionMap,function(e,i){return a("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&"4"===e.topicType?a("div",[a("h2",[t._v("\n        "+t._s(t._f("indexFilter")(i))+"、填空题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n      ")]),t._v(" "),t._l(t.list.listType4,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{class:{correctStatus:"1"===e.correctStatus},attrs:{span:24}},[t._v("\n          "+t._s(i+1)+"、"+t._s(e.topicColumn)+"\n          "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("正确答案:"+t._s(e.topicResult))]),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("您的选择："+t._s(e.reply))])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item4.reply"}})],1)],1)})],2):t._e()])}),0)},s=[],n={name:"TestPaper",filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{list:{type:Object,default:{}}},data:function(){return{}},created:function(){},methods:{}},l=n,r=(a("ffb9"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,"772624a3",null);e["default"]=o.exports},"9f3a":function(t,e,a){"use strict";var i=a("17d8"),s=a.n(i);s.a},a668:function(t,e,a){"use strict";var i=a("2967"),s=a.n(i);s.a},a95b:function(t,e,a){"use strict";var i=a("c892"),s=a.n(i);s.a},b3c3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"borderB",staticStyle:{position:"relative",padding:"0 60px","padding-top":"30px"}},[a("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),a("div",{staticClass:"title"},[t._v("\n      "+t._s(t.list.xlglExamExamine.examineName)+"\n    ")]),t._v(" "),a("div",{staticClass:"infoDiv"},[a("span",[t._v("姓名："+t._s(t.username1))]),t._v(" "),a("span",[t._v("时间："+t._s(t._f("parseTime")(new Date,"{y}-{m}-{d} {h}:{i}")))]),t._v(" "),a("span",[t._v("单位："+t._s(t.useDepart1))]),t._v(" "),a("span",{staticClass:"rightP"},[t._v("倒计时：\n        "),t.hours>0?a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.hours)+"时")]):t._e(),t._v("\n        "+t._s(t.time)+"分\n      ")]),t._v(" "),a("el-button",{staticClass:"rightP",attrs:{type:"primary",size:"mini"},on:{click:t.saveBatch}},[t._v("交卷")])],1)],1),t._v(" "),a("div",{staticClass:"testDiv"},[a("el-scrollbar",{staticClass:"hidden-x",staticStyle:{overflow:"hidden",height:"100%"}},t._l(t.list.topicCount,function(e,i){return a("div",{key:i},[t.list.listType1&&t.list.listType1.length>0&&"1"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、单选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType1,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item.reply"}},t._l(e.topicOptionMap,function(e,i){return a("el-radio",{key:i,staticStyle:{margin:"0px 100px 0px 50px"},attrs:{label:i}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType2&&t.list.listType2.length>0&&"2"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、多选题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType2,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-checkbox-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item2.reply"}},t._l(e.topicOptionMap,function(e,i){return a("el-checkbox",{key:i,attrs:{label:i}},[t._v(t._s(e))])}),1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType3&&t.list.listType3.length>0&&"3"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、判断题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType3,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item3.reply"}},[a("el-radio",{attrs:{label:"对"}},[t._v("正确")]),t._v(" "),a("el-radio",{attrs:{label:"错"}},[t._v("错误")])],1)],1)],1)})],2):t._e(),t._v(" "),t.list.listType4&&t.list.listType4.length>0&&"4"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、填空题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType4,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea",placeholder:"答案之间以逗号（，）分隔开"},model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item4.reply"}})],1)],1)})],2):t._e(),t._v(" "),t.list.listType5&&t.list.listType5.length>0&&"5"===e.topicType?a("div",[a("h2",[t._v("\n            "+t._s(t._f("indexFilter")(i))+"、简答题（共"+t._s(e.typeCount)+"题，每题"+t._s(e.fractionalNumber)+"分，共"+t._s(e.numberAll)+"分）\n          ")]),t._v(" "),t._l(t.list.listType5,function(e,i){return a("el-row",{key:e.id,staticClass:"gapSty borderB"},[a("el-col",{attrs:{span:24}},[t._v(t._s(i+1)+"、"+t._s(e.topicColumn))]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.reply,callback:function(a){t.$set(e,"reply",a)},expression:"item5.reply"}})],1)],1)})],2):t._e()])}),0)],1)])},s=[],n=a("6237"),l={name:"TestPaper",filters:{indexFilter:function(t){var e="";switch(t){case 0:e="一";break;case 1:e="二";break;case 2:e="三";break;case 3:e="四";break;case 4:e="五";break}return e}},props:{testId:{type:String,default:""},makeupStatus:{type:String,default:""}},data:function(){return{list:null,times:0,id:"",username1:this.$store.state.user.userInfo.fullname,useDepart1:this.$store.state.user.userInfo.orgName,hours:0,time:0}},watch:{times:{handler:function(){this.times>60?this.hours=parseInt(this.times/60):this.hours=0,this.time=parseInt(this.times%60)}}},created:function(){this.getExamineList()},methods:{getExamineList:function(){var t=this,e={examineId:this.testId};Object(n["b"])(e).then(function(e){var a=e.data;if(a.listType2&&a.listType2.length>0)for(var i in a.listType2)a.listType2[i].reply=[];t.list=a,t.id=e.data.MainAnswerID,t.times=parseInt(e.data.xlglExamExamine.examineDate);var s=setInterval(function(){t.times--,0===t.times&&(clearInterval(s),t.saveBatch())},6e3)})},saveBatch:function(){var t=this,e=[];this.list.listType1&&this.list.listType1.length>1&&this.list.listType1.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType2&&this.list.listType2.length>1&&this.list.listType2.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply.length>0?t.reply.join(","):"",a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType3&&this.list.listType3.length>1&&this.list.listType3.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType4&&this.list.listType4.length>1&&this.list.listType4.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)}),this.list.listType5&&this.list.listType5.length>1&&this.list.listType5.map(function(t){var a={};a.examineTopicId=t.examineId,a.topicColumn=t.topicColumn,a.topicType=t.topicType,a.topicOption=t.topicOption,a.topicResult=t.topicResult,a.reply=t.reply,a.fraction=t.fractionalNumber,e.push(a)});var a={mainAnswerId:this.id,xlglExamAnswer:JSON.stringify(e),status:0,makeupStatus:this.makeupStatus};Object(n["h"])(a).then(function(e){0===e.data.code?t.$message({type:"success",message:"交卷成功!",onClose:function(){var e={id:t.id,examineId:t.testId};t.$emit("showTestPaper","3",e)}}):t.$message({type:"info",message:e.data.msg})})},goBack:function(){var t=this;this.$confirm("此操作提交试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.saveBatch()}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},r=l,o=(a("dd8b"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"2a24db12",null);e["default"]=c.exports},bafa:function(t,e,a){"use strict";a.d(e,"f",function(){return s}),a.d(e,"e",function(){return n}),a.d(e,"b",function(){return l}),a.d(e,"d",function(){return r}),a.d(e,"a",function(){return o}),a.d(e,"c",function(){return c});var i=a("b775");function s(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/saveOrUpdate",method:"post",data:t})}function n(){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/subjectListAll",method:"get"})}function l(t){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/findTopicBySubId",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/issueStatusList",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/delete",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/app/xlgl/xlglexamexamine/info",method:"post",data:t})}},c892:function(t,e,a){},d0dc:function(t,e,a){},d4a4:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-header",{staticStyle:{"margin-top":"20px"}},[a("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-right":"50px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),a("h3",[t._v(" "+t._s(t.selfInfo.examineName))])],1),t._v(" "),a("el-header",{staticStyle:{"line-height":"60px"}},[a("el-row",[a("el-col",{attrs:{span:4}},[t._v("\n          姓名："+t._s(t.selfInfo.userName)+"\n        ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          时间："+t._s(t.selfInfo.time)+"\n        ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          单位："+t._s(t.selfInfo.orgName)+"\n        ")])],1)],1),t._v(" "),a("el-main",["1"===t.lianxiType?a("h2",{staticStyle:{"text-align":"center"}},[t._v("恭喜您，答题已完成")]):t._e(),t._v(" "),"0"===t.lianxiType?a("h2",{staticStyle:{"text-align":"center"}},[t._v("恭喜您，答题已完成，本次考试的成绩为："),a("span",{staticClass:"spanSty spanSty1"},[t._v(" "+t._s(t.selfInfo.fractionsum))]),t._v("分，"),a("span",{staticClass:"spanSty"},[t._v(t._s(t.selfInfo.level))]),t._v("等级")]):t._e(),t._v(" "),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"考试概况",name:"first"}},[a("test-content",{attrs:{list:t.list}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.testAgain}},[t._v("再考一次")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.testAgainSet}},[t._v("重新组考")])],1)],1)],1)],1)},s=[],n=(a("7f7f"),a("f2d1")),l=a("9b34"),r={name:"GradeResult",components:{testContent:l["default"]},props:{testId:{type:String,default:""},examineId:{type:String,default:""},lianxiType:{type:String,default:""}},data:function(){return{selfInfo:null,tableData:[],listQuery:{page:1,limit:20,examineId:this.examineId,isNotExam:1,status:0,makeupStatus:0},activeName:"first",list:null}},created:function(){this.getSelfInfo(),this.getTestInfo()},methods:{getSelfInfo:function(){var t=this;Object(n["b"])({mainAnswerId:this.testId}).then(function(e){t.selfInfo=e.data})},handleClick:function(t,e){"second"===t.name?this.getAllGradeList():this.getTestInfo()},getTestInfo:function(){var t=this,e={examineId:this.examineId,lianxiType:this.lianxiType};Object(n["d"])(e).then(function(e){t.list=e.data})},goBack:function(){this.$emit("showTestPaper","1")},testAgainSet:function(){this.$emit("showTestPaper","7")},testAgain:function(){var t={id:this.examineId,isNotExam:"1"};this.$emit("showTestPaper","8",t)}}},o=r,c=(a("8e33"),a("2877")),p=Object(c["a"])(o,i,s,!1,null,"1034a7d2",null);e["default"]=p.exports},d618:function(t,e,a){"use strict";var i=a("672c"),s=a.n(i);s.a},dd8b:function(t,e,a){"use strict";var i=a("59b6"),s=a.n(i);s.a},e64d:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"i",function(){return n}),a.d(e,"h",function(){return l}),a.d(e,"c",function(){return r}),a.d(e,"f",function(){return o}),a.d(e,"b",function(){return c}),a.d(e,"j",function(){return p}),a.d(e,"d",function(){return u}),a.d(e,"e",function(){return m}),a.d(e,"g",function(){return d});var i=a("b775");function s(t){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/save",method:"post",data:t})}function n(){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/subject",method:"get"})}function l(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/list",method:"get",params:t})}function r(t){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/update",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/delete",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/delete",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/update",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/app/xlgl/xlglexamtopic/info",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/app/xlgl/xlglexamfile/list",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/app/xlgl/xlglexamsubject/getSubjectState",method:"post",data:t})}},ea59:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-header",{staticStyle:{"margin-top":"20px"}},[a("svg-icon",{staticClass:"icon",staticStyle:{float:"right",cursor:"pointer","margin-right":"50px"},attrs:{"icon-class":"goback"},on:{click:t.goBack}}),t._v(" "),a("h3",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.selfInfo.examineName))])],1),t._v(" "),a("el-header",{staticStyle:{"line-height":"60px"}},[a("el-row",[a("el-col",{attrs:{span:4}},[t._v("\n          姓名："+t._s(t.selfInfo.userName)+"\n        ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          时间："+t._s(t.selfInfo.time)+"\n        ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          单位："+t._s(t.selfInfo.orgName)+"\n        ")])],1)],1),t._v(" "),a("el-main",[a("h2",{staticStyle:{"text-align":"center"}},[t._v("恭喜您，答题已完成，本次考试的成绩为："),a("span",{staticClass:"spanSty spanSty1"},[t._v(" "+t._s(t.selfInfo.fractionsum))]),t._v("分，"),a("span",{staticClass:"spanSty"},[t._v(t._s(t.selfInfo.level))]),t._v("等级")]),t._v(" "),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"考试概况",name:"first"}},[a("test-content",{attrs:{list:t.list}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"已结人员清单",name:"second"}},[a("el-table",{staticClass:"new-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:"",fit:!0}},[a("el-table-column",{attrs:{prop:"replyUserName",label:"已考人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"organName",label:"单位",align:"center","min-width":"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fractionsum",label:"成绩",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"level",label:"等级",align:"center"}})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getAllGradeList}})],1)],1)],1)],1)],1)},s=[],n=(a("7f7f"),a("f2d1")),l=a("333d"),r=a("9b34"),o={name:"GradeResult",components:{Pagination:l["a"],testContent:r["default"]},props:{testId:{type:String,default:""},examineId:{type:String,default:""},flag:{type:String,default:""}},data:function(){return{selfInfo:null,tableData:[],listQuery:{page:1,limit:20,examineId:this.examineId,isNotExam:1,status:0,makeupStatus:0},list:null,activeName:"first"}},created:function(){this.getSelfInfo(),this.getTestInfo()},methods:{getSelfInfo:function(){var t=this,e={mainAnswerId:this.testId};this.flag&&"1"===this.flag&&(e={examineId:this.testId}),Object(n["b"])(e).then(function(e){t.selfInfo=e.data})},getAllGradeList:function(){var t=this;Object(n["a"])(this.listQuery).then(function(e){t.tableData=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1500)})},handleClick:function(t,e){"second"===t.name?this.getAllGradeList():this.getTestInfo()},getTestInfo:function(){var t=this,e={examineId:this.examineId};Object(n["c"])(e).then(function(e){t.list=e.data})},goBack:function(){this.$emit("showTestPaper","1")}}},c=o,p=(a("2a52"),a("2877")),u=Object(p["a"])(c,i,s,!1,null,"1159f2b5",null);e["default"]=u.exports},f2d1:function(t,e,a){"use strict";a.d(e,"b",function(){return s}),a.d(e,"a",function(){return n}),a.d(e,"c",function(){return l}),a.d(e,"d",function(){return r});var i=a("b775");function s(t){return Object(i["a"])({url:"/app/xlgl/xlglexammainanswer/getMainAnsUser",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/app/xlgl/xlglexammainanswer/list",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/app/xlgl/xlglexamanswer/view/info",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/app/xlgl/xlglexamanswer/view/infoLianXi",method:"post",data:t})}},fa8e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createTest"},[a("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),a("el-button",{staticClass:"noPublish",attrs:{size:"mini",type:"primary"},on:{click:t.showNoPublish}},[t._v("查看未发布考核")]),t._v(" "),a("div",{staticClass:"pageContent"},[a("el-form",{ref:"form",staticClass:"oraganForm",attrs:{model:t.listQuery,rules:t.rules,"label-width":"150px",inline:!0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"考试名称：",prop:"examineName"}},[a("el-input",{model:{value:t.listQuery.examineName,callback:function(e){t.$set(t.listQuery,"examineName",e)},expression:"listQuery.examineName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"考试时长：",prop:"examineDate"}},[a("el-input",{attrs:{placeholder:"请输入考试时长"},model:{value:t.listQuery.examineDate,callback:function(e){t.$set(t.listQuery,"examineDate",e)},expression:"listQuery.examineDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"考试时间：",required:""}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"examineStartDateStr"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionStart,placeholder:"选择开始时间"},on:{change:t.getsTime1},model:{value:t.listQuery.examineStartDateStr,callback:function(e){t.$set(t.listQuery,"examineStartDateStr",e)},expression:"listQuery.examineStartDateStr"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("至")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"examineEndDateStr"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy.MM.dd HH:mm:ss",type:"datetime","picker-options":t.pickOptionEnd,placeholder:"选择结束时间"},on:{change:t.getsTime2},model:{value:t.listQuery.examineEndDateStr,callback:function(e){t.$set(t.listQuery,"examineEndDateStr",e)},expression:"listQuery.examineEndDateStr"}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"考试科目选择：",prop:"examineSubjectId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listQuery.examineSubjectId,callback:function(e){t.$set(t.listQuery,"examineSubjectId",e)},expression:"listQuery.examineSubjectId"}},t._l(t.subjectListAll,function(t){return a("el-option",{key:t.id,attrs:{label:t.subjectName,value:t.id}})}),1)],1)],1)],1),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{float:"left"}},[t._v("题型设置")]),t._v(" "),a("span",[t._v("合计：")]),t._v(" "),a("span",[t._v(t._s(t.setTypes.totalGradeNum)+"分")]),t._v(" "),a("span",[t._v(t._s(t.setTypes.totalTestNum)+"题")])]),t._v(" "),t.setTypes.length<1?a("div",[t._v("\n        该科目无题型\n      ")]):t._e(),t._v(" "),0===t.updateInfo.length?a("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.setTypes,function(e,i){return a("el-row",{key:i,attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:1}},[a("span",{staticClass:"spanPosition"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"题型：",prop:"type"}},[a("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(i)},clear:function(e){return t.cancelSelect(i)}},model:{value:e.type1,callback:function(a){t.$set(e,"type1",a)},expression:"obj.type1"}},t._l(t.typeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:" "}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(a){t.$set(e,"testNum",a)},expression:"obj.testNum"}},[a("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:" "}},[a("el-col",{attrs:{span:24}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(a){t.$set(e,"testPrice",a)},expression:"obj.testPrice"}},[a("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1):t._e(),t._v(" "),t.updateInfo.length>0?a("el-form",{staticClass:"oraganForm",attrs:{"label-width":"",inline:!0}},t._l(t.updateInfo,function(e,i){return a("el-row",{key:i,attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:1}},[a("span",{staticClass:"spanPosition"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"题型：",prop:"type"}},[a("el-select",{directives:[{name:"required",rawName:"v-required"}],attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.selectType(i)},clear:function(e){return t.cancelSelect(i)}},model:{value:e.type1,callback:function(a){t.$set(e,"type1",a)},expression:"obj.type1"}},t._l(t.typeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,disabled:t.disabled,value:t.type}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:" "}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少道题"},model:{value:e.testNum,callback:function(a){t.$set(e,"testNum",a)},expression:"obj.testNum"}},[a("template",{slot:"append"},[t._v("题")])],2)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:" "}},[a("el-col",{attrs:{span:24}},[a("el-input",{directives:[{name:"limit-num",rawName:"v-limit-num"}],attrs:{placeholder:"请输入多少分"},model:{value:e.testPrice,callback:function(a){t.$set(e,"testPrice",a)},expression:"obj.testPrice"}},[a("template",{slot:"append"},[t._v("分")])],2)],1)],1)],1)],1)}),1):t._e()],1),t._v(" "),a("el-row",{staticStyle:{"text-align":"center",margin:"40px 0px 20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.publicTest("1")}}},[t._v("发起考试")]),t._v(" "),a("el-button",{on:{click:function(e){return t.publicTest("0")}}},[t._v("保存")])],1)],1)],1)},s=[],n=a("35b7"),l=a("bafa"),r={name:"NoPublish",components:{TitleCard:n["a"]},directives:{required:{inserted:function(t){t.firstElementChild.firstElementChild.addEventListener("blur",function(){var e=t.firstElementChild.firstElementChild.value,a="blobk",i="",s="red";t.nextSibling&&"div"===t.nextSibling.parentNode.lastChild.localName&&t.nextSibling.parentNode.removeChild(t.nextSibling.parentNode.lastChild);var n=document.createElement("div");e.length<1?i="非空":(a="none",s="#dcdfe6"),t.firstElementChild.style.borderColor=s,n.innerText=i,n.style.display=a,n.style.color="red",t.nextSibling&&t.nextSibling.parentNode.appendChild(n)})}},limitNum:{inserted:function(t){t.firstElementChild.addEventListener("blur",function(){var e=t.firstElementChild.value,a="blobk",i="",s="red";t.nextSibling&&"div"===t.nextSibling.parentNode.lastChild.localName&&t.nextSibling.parentNode.removeChild(t.nextSibling.parentNode.lastChild);var n=document.createElement("div");e.length<1?i="非空":/^[1-9]\d*$/.test(e)?(a="none",s="#dcdfe6"):i="只能输入0以外的正整数",t.firstElementChild.style.borderColor=s,n.innerText=i,n.style.display=a,n.style.color="red",t.nextSibling?t.nextSibling.parentNode.appendChild(n):t.parentNode.appendChild(n)})}}},props:{testId:{type:String,default:""}},data:function(){var t=this;return{cardTitle:"创建考核",tableKey:0,list:null,total:0,listLoading:!0,listQuery:{examineName:"",examineDate:"",examineStartDateStr:"",examineEndDateStr:"",examineAllNumber:0,examineSubjectId:"",examineSubjectName:"测试科目",IssueStatus:"0",typeAndNum:"",status:0},typesList:[{type:"1",name:"单选题"},{type:"2",name:"多选题"},{type:"3",name:"判断题"},{type:"4",name:"填空题"},{type:"5",name:"简答题"}],pickOptionStart:{disabledDate:function(e){var a=t.listQuery.examineEndDateStr;if(a)return e.getTime()>new Date(a).getTime()}},pickOptionEnd:{disabledDate:function(e){var a=t.listQuery.examineStartDateStr;if(a)return e.getTime()<new Date(a).getTime()}},subjectListAll:[],typeList:[],rules:{examineName:[{required:!0,message:"请输入考试名称",trigger:"blur"}],examineDate:[{required:!0,message:"请输入考试时长",trigger:"blur"},{validator:this.isNum,trigger:"blur"}],examineStartDateStr:[{required:!0,message:"请输入开始时间",trigger:"blur"}],examineEndDateStr:[{required:!0,message:"请输入结束时间",trigger:"blur"}],examineSubjectId:[{required:!0,message:"请选择考试科目",trigger:"change"}]},updateInfo:[]}},computed:{setTypes:function(){return this.typeList}},watch:{"listQuery.examineSubjectId":{handler:function(t,e){var a=this;this.subjectListAll.map(function(t){t.id===a.listQuery.examineSubjectId&&(a.listQuery.examineSubjectName=t.subjectName,a.findTopicBySubId())})},deep:!0},setTypes:{handler:function(){var t=0,e=0;for(var a in this.setTypes){var i=this.setTypes[a];t+=this.StringToNumber(i.testNum)*this.StringToNumber(i.testPrice),e+=this.StringToNumber(i.testNum)}this.$set(this.setTypes,"totalGradeNum",t),this.$set(this.setTypes,"totalTestNum",e)},deep:!0}},created:function(){this.getSubjectListAll(),this.testId&&this.getInfoById()},methods:{getsTime1:function(t){this.listQuery.examineStartDateStr=t},getsTime2:function(t){this.listQuery.examineEndDateStr=t},publicTest:function(t){this.listQuery.IssueStatus=t;var e=[],a=0,i=!1,s="";if(0===this.updateInfo.length){for(var n in this.setTypes)if("totalGradeNum"!==n&&"totalTestNum"!==n){var l=this.setTypes[n];l.testNum&&l.testPrice&&l.type1?(a+=parseInt(l.testNum)*parseInt(l.testPrice),e.push(l.type1+"-"+l.testNum+"-"+l.testPrice)):(s="题型设置中每组输入框都必须输入",i=!0)}this.setTypes.totalGradeNum<=0&&(s="请填写题型及分数",i=!0)}this.listQuery.examineEndDateStr||(s="请输入考试结束时间",i=!0),this.listQuery.examineStartDateStr||(s="请输入考试开始时间",i=!0),this.listQuery.examineSubjectId||(s="请选择考试科目",i=!0),this.listQuery.examineDate||(s="请输入考试时长",i=!0),this.listQuery.examineName||(s="请输入考试名称",i=!0),this.listQuery.typeAndNum=e.join(","),this.listQuery.status=0,this.listQuery.examineAllNumber=a,i?this.$message({message:s,type:"info"}):this.saveTestPaper(t)},saveTestPaper:function(t){var e=this,a="发起考试成功！";"0"===t&&(a="保存成功！"),Object(l["f"])(this.listQuery).then(function(t){0===t.data.code?e.$message({type:"success",message:a}):e.$message({type:"info",message:t.data.msg})})},getSubjectListAll:function(){var t=this;Object(l["e"])().then(function(e){t.subjectListAll=e.data.findList,t.subjectListAll.length>1&&(t.listQuery.examineSubjectId=t.subjectListAll[0].id)})},findTopicBySubId:function(){var t=this;Object(l["b"])({subjectId:this.listQuery.examineSubjectId}).then(function(e){var a=e.data.findList.type;t.typeList=[],a.map(function(e){t.typesList.map(function(a){e===a.type&&t.typeList.push(a)})})})},isNum:function(t,e,a){var i=/^[1-9]\d*$/;i.test(e)?a():a(new Error("只能输入除0以外的的正整数"))},selectType:function(t){this.$set(this.typeList[t],"disabled",!0)},cancelSelect:function(t){for(var e in this.typeList)this.setTypes[t].type===this.typeList[e].type&&this.$set(this.typeList[t],"disabled",!1)},StringToNumber:function(t){return t?parseInt(t):0},showNoPublish:function(){this.$emit("showPage","2")},getInfoById:function(){var t=this;Object(l["c"])({id:this.testId}).then(function(e){t.listQuery.examineName=e.data.xlglExamExamine.examineName,t.listQuery.examineDate=e.data.xlglExamExamine.examineDate,t.listQuery.examineStartDateStr=e.data.xlglExamExamine.examineStartDateStr,t.listQuery.examineEndDateStr=e.data.xlglExamExamine.examineEndDateStr,t.listQuery.examineSubjectId=e.data.xlglExamExamine.examineSubjectId;var a=e.data.listCount;for(var i in a){var s={};s.type1=a[i].topicType,s.testNum=a[i].typeCount,s.testPrice=a[i].fractionalNumber,t.updateInfo.push(s)}})}}},o=r,c=(a("6e70"),a("2877")),p=Object(c["a"])(o,i,s,!1,null,"0002ea65",null);e["default"]=p.exports},ffb9:function(t,e,a){"use strict";var i=a("54fc"),s=a.n(i);s.a}}]);