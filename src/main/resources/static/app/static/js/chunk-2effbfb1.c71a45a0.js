(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2effbfb1"],{"1acb":function(t,e,i){},e2f5:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"app-content"},[i("title-card",{attrs:{"title-text":t.cardTitle}}),t._v(" "),i("el-button",{staticClass:"createBtn noBorder",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:t.openCreateNotice}},[t._v("新增")]),t._v(" "),i("el-row",[i("el-col",{staticClass:"elColSty",attrs:{span:24}},[i("el-scrollbar",{staticClass:"hidden-x"},[i("el-row",{attrs:{gutter:20}},t._l(t.list,function(e,s){return i("el-col",{key:s,attrs:{span:6}},[i("el-card",{staticClass:"margin-card",staticStyle:{"max-height":"330px",height:"330px"},attrs:{"body-style":{padding:"0px"}}},[i("el-button",{staticClass:"inform",class:{notice:"公告"===e.type},attrs:{type:"success",size:"mini"}},[t._v(t._s(e.type))]),t._v(" "),i("div",{staticClass:"cardContent gapSty"},[i("div",{staticClass:"title",on:{click:function(i){return i.stopPropagation(),t.openDetail(e.id)}}},[t._v("\n                    "+t._s(e.title)+"\n                    "),1===e.isTop?i("span",{class:{istop:e.isTop}},[t._v(t._s(t._f("isTopFilter")(e.isTop)))]):t._e()]),t._v(" "),i("div",{staticClass:"gapSty color2"},[i("svg-icon",{staticClass:"icon",attrs:{"icon-class":"time"}}),t._v(" "),i("span",{staticClass:"gapLeft"},[t._v(" "+t._s(t._f("parseTime")(e.releaseTime,"{y}-{m}-{d} {h}:{i}")))])],1),t._v(" "),i("div",{staticClass:"gapSty gapSty1"},[t._v("\n                    "+t._s(t._f("limitText")(e.content))+"\n                    ")]),t._v(" "),i("div",{staticClass:"gapSty height1 color2"},[i("svg-icon",{staticClass:"icon",attrs:{"icon-class":"noticepeople"}}),t._v(" "),i("span",{staticClass:"gapLeft"},[t._v(t._s(e.releaseOrgan))])],1),t._v(" "),i("div",{staticClass:"gapSty height1"},[i("span",{staticClass:"color1"},[t._v("浏览 "+t._s(e.viewNumber))]),t._v(" "),i("span",{staticClass:"btSty",on:{click:function(i){return t.deleteById(e.id)}}},[t._v("删除")]),t._v(" "),i("span",{staticClass:"btSty",on:{click:function(i){return i.stopPropagation(),t.upDateDetail(e.id)}}},[t._v("编辑")]),t._v(" "),i("span",{staticClass:"btSty",on:{click:function(i){return t.setNoticeTop(e.id,e.isTop)}}},[t._v(t._s(t._f("isTopFilter1")(1===e.isTop?0:1)))])])])],1)],1)}),1)],1)],1)],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getNoticeList}})],1)])},a=[],n=i("35b7"),o=i("333d"),c=i("13c4"),l={name:"InformNoticeList",filters:{isTopFilter:function(t){return 1===t?"置顶":""},isTopFilter1:function(t){return 1===t?"置顶":"取消置顶"},limitText:function(t){return t.length>40?t.substring(0,40)+"...":t}},components:{TitleCard:n["a"],Pagination:o["a"]},data:function(){return{cardTitle:"通知公告",tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,type:""}}},created:function(){this.getNoticeList()},methods:{getNoticeList:function(){var t=this;this.listLoading=!0,Object(c["f"])(this.listQuery).then(function(e){t.list=e.data.page.list,t.total=e.data.page.totalCount,setTimeout(function(){t.listLoading=!1},1500)})},openCreateNotice:function(){this.$emit("openCreateNotice","2")},openDetail:function(t){this.$emit("openCreateNotice","3",t)},upDateDetail:function(t){this.$emit("openCreateNotice","4",t)},deleteById:function(t){var e=this,i={ids:t};Object(c["a"])(i).then(function(t){0===t.data.code?e.$message({type:"success",message:"删除成功！",onClose:function(){e.getNoticeList()}}):e.$message({type:"info",message:t.data.msg})})},setNoticeTop:function(t,e){var i=this,s="取消置顶",a=0;0===e&&(s="置顶",a=1);var n={id:t,istop:a};Object(c["h"])(n).then(function(t){0===t.data.code?i.$message({type:"success",message:s+"成功！",onClose:function(){i.getNoticeList()}}):i.$message({type:"info",message:t.data.msg})})}}},r=l,p=(i("f496"),i("2877")),u=Object(p["a"])(r,s,a,!1,null,"047d7c50",null);e["default"]=u.exports},f496:function(t,e,i){"use strict";var s=i("1acb"),a=i.n(s);a.a}}]);