(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c9e8eb2"],{"539e":function(t,e,a){"use strict";var s=a("9dde"),i=a.n(s);i.a},"65ea":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"btnPosition",attrs:{type:"primary"},on:{click:t.addTest}},[t._v("创建题库类型")]),t._v(" "),a("el-scrollbar",[a("el-tree",{ref:"tree",attrs:{data:t.treeData,props:t.defaultProps,"default-expand-all":"","node-key":"id"},on:{"node-click":t.handleNodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.node,i=e.data;return a("span",{staticClass:"custom-tree-node",on:{mouseenter:function(e){return t.mouseenter(i)},mouseleave:function(e){return t.mouseleave(i)}}},[a("span",[t._v(t._s(s.label))]),t._v(" "),s.isLeaf?a("span",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"data.show"}],attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(e){return e.stopPropagation(),function(){return t.remove(s,i)}()}}})],1):t._e(),t._v(" "),s.isLeaf||s.parent.parent?t._e():a("span",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"data.show"}],attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(e){return e.stopPropagation(),function(){return t.add(s,i)}()}}})],1)])}}])})],1)],1),t._v(" "),a("el-col",{attrs:{span:18}},[a("div",[a("table",{staticClass:"border-table"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"150px"},attrs:{colspan:"4"}},[t._v("安全检查项目")]),t._v(" "),a("th",{staticStyle:{width:"200px"},attrs:{colspan:"1",rowspan:"2"}},[t._v("检查标准")]),t._v(" "),a("th",{staticStyle:{width:"100px"},attrs:{colspan:"1",rowspan:"2"}},[t._v("检查方法")]),t._v(" "),a("th",{staticStyle:{width:"100px"},attrs:{colspan:"1",rowspan:"2"}},[t._v("检查结果及存在问题")]),t._v(" "),a("th",{staticStyle:{width:"150px"},attrs:{colspan:"3"}},[t._v("问题整改")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("备注")])]),t._v(" "),a("tr",[a("th",[t._v("项目")]),t._v(" "),a("th",[t._v("分项")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("具体检查内容")]),t._v(" "),a("th",[t._v("整改措施")]),t._v(" "),a("th",[t._v("整改时限")]),t._v(" "),a("th",[t._v("责任单位及责任人")])])]),t._v(" "),a("tbody",[t._l(t.demoTableData,function(e){return[t._l(e.typeList,function(s,i){return t._l(s.children,function(d,n){return a("tr",{key:n},[0==i&&0==n?a("td",{attrs:{rowspan:e.allPages}},[t._v("\n                    "+t._s(e.title)+"\n                  ")]):t._e(),t._v(" "),0==n?a("td",{attrs:{rowspan:s.children.length}},[t._v(t._s(s.title))]):t._e(),t._v(" "),a("td",[t._v(t._s(d.data1))]),t._v(" "),a("td",[t._v(t._s(d.data2))]),t._v(" "),a("td",[t._v(t._s(d.data3)+"\n                  ")]),t._v(" "),a("td",[t._v(t._s(d.data4))]),t._v(" "),a("td",[t._v(t._s(d.data5))]),t._v(" "),a("td",[t._v(t._s(d.data6))]),t._v(" "),a("td",[t._v(t._s(d.data7))]),t._v(" "),a("td",[t._v(t._s(d.data8))]),t._v(" "),a("td",[t._v(t._s(d.data9))])])})})]})],2)])])])],1)],1)},i=[],d=a("e64d"),n={name:"ComplexTable",filters:{fileType:function(t){var e="";switch(t){case"1":e="单选";break;case"2":e="单选";break;case"3":e="单选";break;case"4":e="单选";break}return e}},data:function(){return{treeData:[],defaultProps:{children:"children",label:"label"},tableKey:0,list:null,total:0,listLoading:!1,listQuery:{topicType:"",subjectId:"",topicColumn:"",page:1,limit:20},typeList:[{name:"单选",value:"1"},{name:"多选",value:"2"},{name:"判断",value:"3"},{name:"填空",value:"4"},{name:"简答",value:"5"}],temp:{subjectName:"",subjectType:""},updateTemp:{topicColumn:"",topicOption:"",topicResult:""},dialogVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"新增题库类型",create1:"新增题库类型"},rules:{subjectName:[{required:!0,message:"请输入科目名称",trigger:"blur"}],subjectType:[{required:!0,message:"请选择科目题型",trigger:"change"}],topicColumn:[{required:!0,message:"请输入试题题目",trigger:"blur"}],topicOption:[{required:!0,message:"请输入试题选项",trigger:"blur"}],topicResult:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},radiofileType:"",importFileDialog:!1,moBanList:[],fileData:{access_token:this.$store.state.user.token,subjectId:""},fileMobanData:{fileType:this.radiofileType},fileUploadUrl:"/app/xlgl/xlglexamtopic/readExcelSave",saveFileModel:"/app/xlgl/xlglexamtopic/upLoadFile",demoTableData:[{title:"《关于的伤口范德萨是否快递路上的革命是多么》",allPages:5,typeList:[{title:"动员部署",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]},{title:"单位自查",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]}]},{title:"《关于的伤口范德萨是否快递路上的革命是多么》",allPages:5,typeList:[{title:"动员部署",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]},{title:"单位自查",children:[{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"},{data1:"1",data2:"2",data3:"3",data4:"4",data5:"5",data6:"3",data7:"4",data8:"5",data9:"8"}]}]}]}},watch:{listQuery:{handler:function(t){},deep:!0}},created:function(){this.getTreeList()},methods:{addTest:function(){this.dialogStatus="create",this.dialogVisible=!0},saveDialog:function(){var t=this;"update"===this.dialogStatus?(this.updateTemp.topicColumn||this.$message({type:"info",message:"请输入试题题目"}),this.updateTemp.topicOption||this.$message({type:"info",message:"请输入试题选项"}),this.updateTemp.topicResult||this.$message({type:"info",message:"请输入正确答案"}),this.updateTemp.topicColumn&&this.updateTemp.topicOption&&this.updateTemp.topicResult&&Object(d["h"])(this.updateTemp).then(function(e){0===e.data.code?t.$message({type:"success",message:"修改成功!",onClose:function(){t.handleClose(),t.getTestList()}}):t.$message({type:"info",message:e.data.msg})})):(this.temp.subjectName||this.$message({type:"info",message:"请输入科目名称"}),this.temp.subjectType||this.$message({type:"info",message:"请选择科目题型"}),this.temp.subjectName&&this.temp.subjectType&&Object(d["a"])({subjectName:this.temp.subjectName,subjectType:this.temp.subjectType}).then(function(e){0===e.data.code?t.$message({type:"success",message:"题库类型添加成功!",onClose:function(){t.handleClose(),t.getTreeList()}}):t.$message({type:"info",message:e.data.msg})}))},handleClose:function(){"update"===this.dialogStatus?this.updateTemp={topicColumn:"",topicOption:"",topicResult:""}:this.temp={subjectName:"",subjectType:""},this.dialogVisible=!1},getTreeList:function(){var t=this;Object(d["g"])().then(function(e){t.treeData=e.data,t.$nextTick(function(){this.treeData.length>1&&(this.$refs.tree.setCurrentKey(this.treeData[0].children[0].id),this.listQuery.subjectId=this.treeData[0].id,this.listQuery.topicType=this.treeData[0].children[0].type,this.getTestList())})})},remove:function(t,e){var a=this,s=t.parent,i=s.data.children||s.data,n=[];i.length>1&&i.map(function(t){t.type!=e.type&&n.push(t.type)}),Object(d["c"])({id:s.data.id,delType:e.type,subjectType:n.join(",")}).then(function(t){0===t.data.code?a.$message({type:"success",message:"删除成功!",onClose:function(){a.getTreeList()}}):a.$message({type:"info",message:t.data.msg})})},add:function(t,e){this.dialogStatus="create1",this.temp.subjectName=e.label,this.dialogVisible=!0},mouseenter:function(t){this.$set(t,"show",!0)},mouseleave:function(t){this.$set(t,"show",!1)},handleNodeClick:function(t,e){t.type&&(this.listQuery={subjectId:e.parent.data.id,topicType:t.type,page:this.listQuery.page,limit:this.listQuery.limit},this.fileData.subjectId=e.parent.data.id,this.getTestList())}}},l=n,o=(a("539e"),a("2877")),r=Object(o["a"])(l,s,i,!1,null,"296fa7cb",null);e["default"]=r.exports},"9dde":function(t,e,a){},e64d:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"g",function(){return d}),a.d(e,"f",function(){return n}),a.d(e,"c",function(){return l}),a.d(e,"b",function(){return o}),a.d(e,"h",function(){return r}),a.d(e,"d",function(){return u}),a.d(e,"e",function(){return c});var s=a("b775");function i(t){return Object(s["a"])({url:"/app/xlgl/xlglexamsubject/save",method:"post",data:t})}function d(){return Object(s["a"])({url:"/app/xlgl/xlglexamsubject/subject",method:"get"})}function n(t){return Object(s["a"])({url:"/app/xlgl/xlglexamtopic/list",method:"get",params:t})}function l(t){return Object(s["a"])({url:"/app/xlgl/xlglexamsubject/update",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/app/xlgl/xlglexamtopic/delete",method:"post",data:t})}function r(t){return Object(s["a"])({url:"/app/xlgl/xlglexamtopic/update",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/app/xlgl/xlglexamtopic/info",method:"post",data:t})}function c(t){return Object(s["a"])({url:"/app/xlgl/xlglexamfile/list",method:"post",data:t})}}}]);